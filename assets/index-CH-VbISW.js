(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Dp={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function oI(){if(iE)return Eu;iE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Eu.Fragment=t,Eu.jsx=n,Eu.jsxs=n,Eu}var rE;function lI(){return rE||(rE=1,Dp.exports=oI()),Dp.exports}var M=lI(),Vp={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function uI(){if(sE)return xt;sE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,B={};function U(N,rt,ut){this.props=N,this.context=rt,this.refs=B,this.updater=ut||R}U.prototype.isReactComponent={},U.prototype.setState=function(N,rt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,rt,"setState")},U.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function L(){}L.prototype=U.prototype;function X(N,rt,ut){this.props=N,this.context=rt,this.refs=B,this.updater=ut||R}var Y=X.prototype=new L;Y.constructor=X,x(Y,U.prototype),Y.isPureReactComponent=!0;var ot=Array.isArray,it={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function V(N,rt,ut,at,yt,Dt){return ut=Dt.ref,{$$typeof:e,type:N,key:rt,ref:ut!==void 0?ut:null,props:Dt}}function w(N,rt){return V(N.type,rt,void 0,void 0,void 0,N.props)}function C(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function P(N){var rt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ut){return rt[ut]})}var j=/\/+/g;function F(N,rt){return typeof N=="object"&&N!==null&&N.key!=null?P(""+N.key):rt.toString(36)}function D(){}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(rt){N.status==="pending"&&(N.status="fulfilled",N.value=rt)},function(rt){N.status==="pending"&&(N.status="rejected",N.reason=rt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function oe(N,rt,ut,at,yt){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case e:case t:St=!0;break;case y:return St=N._init,oe(St(N._payload),rt,ut,at,yt)}}if(St)return yt=yt(N),St=at===""?"."+F(N,0):at,ot(yt)?(ut="",St!=null&&(ut=St.replace(j,"$&/")+"/"),oe(yt,rt,ut,"",function(hi){return hi})):yt!=null&&(C(yt)&&(yt=w(yt,ut+(yt.key==null||N&&N.key===yt.key?"":(""+yt.key).replace(j,"$&/")+"/")+St)),rt.push(yt)),1;St=0;var ke=at===""?".":at+":";if(ot(N))for(var Jt=0;Jt<N.length;Jt++)at=N[Jt],Dt=ke+F(at,Jt),St+=oe(at,rt,ut,Dt,yt);else if(Jt=_(N),typeof Jt=="function")for(N=Jt.call(N),Jt=0;!(at=N.next()).done;)at=at.value,Dt=ke+F(at,Jt++),St+=oe(at,rt,ut,Dt,yt);else if(Dt==="object"){if(typeof N.then=="function")return oe(Ee(N),rt,ut,at,yt);throw rt=String(N),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return St}function W(N,rt,ut){if(N==null)return N;var at=[],yt=0;return oe(N,at,"","",function(Dt){return rt.call(ut,Dt,yt++)}),at}function st(N){if(N._status===-1){var rt=N._result;rt=rt(),rt.then(function(ut){(N._status===0||N._status===-1)&&(N._status=1,N._result=ut)},function(ut){(N._status===0||N._status===-1)&&(N._status=2,N._result=ut)}),N._status===-1&&(N._status=0,N._result=rt)}if(N._status===1)return N._result.default;throw N._result}var dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function kt(){}return xt.Children={map:W,forEach:function(N,rt,ut){W(N,function(){rt.apply(this,arguments)},ut)},count:function(N){var rt=0;return W(N,function(){rt++}),rt},toArray:function(N){return W(N,function(rt){return rt})||[]},only:function(N){if(!C(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xt.Component=U,xt.Fragment=n,xt.Profiler=a,xt.PureComponent=X,xt.StrictMode=r,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=it,xt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return it.H.useMemoCache(N)}},xt.cache=function(N){return function(){return N.apply(null,arguments)}},xt.cloneElement=function(N,rt,ut){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=x({},N.props),yt=N.key,Dt=void 0;if(rt!=null)for(St in rt.ref!==void 0&&(Dt=void 0),rt.key!==void 0&&(yt=""+rt.key),rt)!ht.call(rt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&rt.ref===void 0||(at[St]=rt[St]);var St=arguments.length-2;if(St===1)at.children=ut;else if(1<St){for(var ke=Array(St),Jt=0;Jt<St;Jt++)ke[Jt]=arguments[Jt+2];at.children=ke}return V(N.type,yt,void 0,void 0,Dt,at)},xt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},xt.createElement=function(N,rt,ut){var at,yt={},Dt=null;if(rt!=null)for(at in rt.key!==void 0&&(Dt=""+rt.key),rt)ht.call(rt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=rt[at]);var St=arguments.length-2;if(St===1)yt.children=ut;else if(1<St){for(var ke=Array(St),Jt=0;Jt<St;Jt++)ke[Jt]=arguments[Jt+2];yt.children=ke}if(N&&N.defaultProps)for(at in St=N.defaultProps,St)yt[at]===void 0&&(yt[at]=St[at]);return V(N,Dt,void 0,void 0,null,yt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(N){return{$$typeof:f,render:N}},xt.isValidElement=C,xt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:st}},xt.memo=function(N,rt){return{$$typeof:p,type:N,compare:rt===void 0?null:rt}},xt.startTransition=function(N){var rt=it.T,ut={};it.T=ut;try{var at=N(),yt=it.S;yt!==null&&yt(ut,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(kt,dt)}catch(Dt){dt(Dt)}finally{it.T=rt}},xt.unstable_useCacheRefresh=function(){return it.H.useCacheRefresh()},xt.use=function(N){return it.H.use(N)},xt.useActionState=function(N,rt,ut){return it.H.useActionState(N,rt,ut)},xt.useCallback=function(N,rt){return it.H.useCallback(N,rt)},xt.useContext=function(N){return it.H.useContext(N)},xt.useDebugValue=function(){},xt.useDeferredValue=function(N,rt){return it.H.useDeferredValue(N,rt)},xt.useEffect=function(N,rt,ut){var at=it.H;if(typeof ut=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(N,rt)},xt.useId=function(){return it.H.useId()},xt.useImperativeHandle=function(N,rt,ut){return it.H.useImperativeHandle(N,rt,ut)},xt.useInsertionEffect=function(N,rt){return it.H.useInsertionEffect(N,rt)},xt.useLayoutEffect=function(N,rt){return it.H.useLayoutEffect(N,rt)},xt.useMemo=function(N,rt){return it.H.useMemo(N,rt)},xt.useOptimistic=function(N,rt){return it.H.useOptimistic(N,rt)},xt.useReducer=function(N,rt,ut){return it.H.useReducer(N,rt,ut)},xt.useRef=function(N){return it.H.useRef(N)},xt.useState=function(N){return it.H.useState(N)},xt.useSyncExternalStore=function(N,rt,ut){return it.H.useSyncExternalStore(N,rt,ut)},xt.useTransition=function(){return it.H.useTransition()},xt.version="19.1.0",xt}var aE;function ay(){return aE||(aE=1,Vp.exports=uI()),Vp.exports}var O=ay(),Pp={exports:{}},bu={},Np={exports:{}},Op={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function cI(){return oE||(oE=1,function(e){function t(W,st){var dt=W.length;W.push(st);t:for(;0<dt;){var kt=dt-1>>>1,N=W[kt];if(0<a(N,st))W[kt]=st,W[dt]=N,dt=kt;else break t}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var st=W[0],dt=W.pop();if(dt!==st){W[0]=dt;t:for(var kt=0,N=W.length,rt=N>>>1;kt<rt;){var ut=2*(kt+1)-1,at=W[ut],yt=ut+1,Dt=W[yt];if(0>a(at,dt))yt<N&&0>a(Dt,at)?(W[kt]=Dt,W[yt]=dt,kt=yt):(W[kt]=at,W[ut]=dt,kt=ut);else if(yt<N&&0>a(Dt,dt))W[kt]=Dt,W[yt]=dt,kt=yt;else break t}}return st}function a(W,st){var dt=W.sortIndex-st.sortIndex;return dt!==0?dt:W.id-st.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,T=null,_=3,R=!1,x=!1,B=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ot(W){for(var st=n(p);st!==null;){if(st.callback===null)r(p);else if(st.startTime<=W)r(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=n(p)}}function it(W){if(B=!1,ot(W),!x)if(n(m)!==null)x=!0,ht||(ht=!0,F());else{var st=n(p);st!==null&&oe(it,st.startTime-W)}}var ht=!1,V=-1,w=5,C=-1;function P(){return U?!0:!(e.unstable_now()-C<w)}function j(){if(U=!1,ht){var W=e.unstable_now();C=W;var st=!0;try{t:{x=!1,B&&(B=!1,X(V),V=-1),R=!0;var dt=_;try{e:{for(ot(W),T=n(m);T!==null&&!(T.expirationTime>W&&P());){var kt=T.callback;if(typeof kt=="function"){T.callback=null,_=T.priorityLevel;var N=kt(T.expirationTime<=W);if(W=e.unstable_now(),typeof N=="function"){T.callback=N,ot(W),st=!0;break e}T===n(m)&&r(m),ot(W)}else r(m);T=n(m)}if(T!==null)st=!0;else{var rt=n(p);rt!==null&&oe(it,rt.startTime-W),st=!1}}break t}finally{T=null,_=dt,R=!1}st=void 0}}finally{st?F():ht=!1}}}var F;if(typeof Y=="function")F=function(){Y(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ee=D.port2;D.port1.onmessage=j,F=function(){Ee.postMessage(null)}}else F=function(){L(j,0)};function oe(W,st){V=L(function(){W(e.unstable_now())},st)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_next=function(W){switch(_){case 1:case 2:case 3:var st=3;break;default:st=_}var dt=_;_=st;try{return W()}finally{_=dt}},e.unstable_requestPaint=function(){U=!0},e.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var dt=_;_=W;try{return st()}finally{_=dt}},e.unstable_scheduleCallback=function(W,st,dt){var kt=e.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=dt+N,W={id:y++,callback:st,priorityLevel:W,startTime:dt,expirationTime:N,sortIndex:-1},dt>kt?(W.sortIndex=dt,t(p,W),n(m)===null&&W===n(p)&&(B?(X(V),V=-1):B=!0,oe(it,dt-kt))):(W.sortIndex=N,t(m,W),x||R||(x=!0,ht||(ht=!0,F()))),W},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(W){var st=_;return function(){var dt=_;_=st;try{return W.apply(this,arguments)}finally{_=dt}}}}(Op)),Op}var lE;function hI(){return lE||(lE=1,Np.exports=cI()),Np.exports}var Mp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function fI(){if(uE)return tn;uE=1;var e=ay();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},tn.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},tn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},tn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:R}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:_,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},tn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,T=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},tn.requestFormReset=function(m){r.d.r(m)},tn.unstable_batchedUpdates=function(m,p){return m(p)},tn.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},tn.useFormStatus=function(){return c.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var cE;function dI(){if(cE)return Mp.exports;cE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mp.exports=fI(),Mp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function mI(){if(hE)return bu;hE=1;var e=hI(),t=ay(),n=dI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function m(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return f(d),i;if(g===u)return f(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,A=d.child;A;){if(A===o){b=!0,o=d,u=g;break}if(A===u){b=!0,u=d,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,u=d;break}if(A===u){b=!0,u=g,o=d;break}A=A.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case U:return"Profiler";case B:return"StrictMode";case it:return"Suspense";case ht:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case X:return(i._context.displayName||"Context")+".Consumer";case ot:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return s=i.displayName||null,s!==null?s:Ee(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return Ee(i(s))}catch{}}return null}var oe=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],N=-1;function rt(i){return{current:i}}function ut(i){0>N||(i.current=kt[N],kt[N]=null,N--)}function at(i,s){N++,kt[N]=i.current,i.current=s}var yt=rt(null),Dt=rt(null),St=rt(null),ke=rt(null);function Jt(i,s){switch(at(St,s),at(Dt,i),at(yt,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?VT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=VT(s),i=PT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(yt),at(yt,i)}function hi(){ut(yt),ut(Dt),ut(St)}function Cr(i){i.memoizedState!==null&&at(ke,i);var s=yt.current,o=PT(s,i.type);s!==o&&(at(Dt,i),at(yt,o))}function ji(i){Dt.current===i&&(ut(yt),ut(Dt)),ke.current===i&&(ut(ke),gu._currentValue=dt)}var Is=Object.prototype.hasOwnProperty,Ds=e.unstable_scheduleCallback,Vs=e.unstable_cancelCallback,dl=e.unstable_shouldYield,Rc=e.unstable_requestPaint,Dn=e.unstable_now,Dd=e.unstable_getCurrentPriorityLevel,ml=e.unstable_ImmediatePriority,Ma=e.unstable_UserBlockingPriority,Ps=e.unstable_NormalPriority,Vd=e.unstable_LowPriority,ka=e.unstable_IdlePriority,pl=e.log,xc=e.unstable_setDisableYieldValue,he=null,Gt=null;function Tn(i){if(typeof pl=="function"&&xc(i),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(he,i)}catch{}}var Ze=Math.clz32?Math.clz32:Ns,Cc=Math.log,Pd=Math.LN2;function Ns(i){return i>>>=0,i===0?32:31-(Cc(i)/Pd|0)|0}var Os=256,Ms=4194304;function Yn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function La(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=Yn(u):(b&=A,b!==0?d=Yn(b):o||(o=A&~i,o!==0&&(d=Yn(o))))):(A=u&~g,A!==0?d=Yn(A):b!==0?d=Yn(b):o||(o=u&~i,o!==0&&(d=Yn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function ks(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yl(){var i=Os;return Os<<=1,(Os&4194048)===0&&(Os=256),i}function vl(){var i=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),i}function Bi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function zi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function _l(i,s,o,u,d,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,I=i.expirationTimes,G=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-Ze(o),et=1<<Z;A[Z]=0,I[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}o&=~et}u!==0&&fi(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function fi(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ze(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Tl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ze(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Ir(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ua(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dr(){var i=st.p;return i!==0?i:(i=window.event,i===void 0?32:WT(i.type))}function Ic(i,s){var o=st.p;try{return st.p=i,s()}finally{st.p=o}}var ie=Math.random().toString(36).slice(2),De="__reactFiber$"+ie,be="__reactProps$"+ie,Vn="__reactContainer$"+ie,El="__reactEvents$"+ie,Nd="__reactListeners$"+ie,Vr="__reactHandles$"+ie,Dc="__reactResources$"+ie,Ls="__reactMarker$"+ie;function Pr(i){delete i[De],delete i[be],delete i[El],delete i[Nd],delete i[Vr]}function Fi(i){var s=i[De];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Vn]||o[De]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=kT(i);i!==null;){if(o=i[De])return o;i=kT(i)}return s}i=o,o=i.parentNode}return null}function di(i){if(i=i[De]||i[Vn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function mi(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ln(i){var s=i[Dc];return s||(s=i[Dc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function pe(i){i[Ls]=!0}var bl=new Set,ja={};function Qn(i,s){qi(i,s),qi(i+"Capture",s)}function qi(i,s){for(ja[i]=s,i=0;i<s.length;i++)bl.add(s[i])}var Vc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Us={};function Nc(i){return Is.call(Us,i)?!0:Is.call(Pc,i)?!1:Vc.test(i)?Us[i]=!0:(Pc[i]=!0,!1)}function Nr(i,s,o){if(Nc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function pi(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function qe(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var js,Oc;function Hi(i){if(js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);js=s&&s[1]||"",Oc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+js+i+Oc}var Ba=!1;function za(i,s){if(!i||Ba)return"";Ba=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch($){var K=$}Reflect.construct(i,[],et)}else{try{et.call()}catch($){K=$}i.call(et.prototype)}}else{try{throw Error()}catch($){K=$}(et=i())&&typeof et.catch=="function"&&et.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var I=b.split(`
`),G=A.split(`
`);for(d=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(u===I.length||d===G.length)for(u=I.length-1,d=G.length-1;1<=u&&0<=d&&I[u]!==G[d];)d--;for(;1<=u&&0<=d;u--,d--)if(I[u]!==G[d]){if(u!==1||d!==1)do if(u--,d--,0>d||I[u]!==G[d]){var Z=`
`+I[u].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=u&&0<=d);break}}}finally{Ba=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Hi(o):""}function Al(i){switch(i.tag){case 26:case 27:case 5:return Hi(i.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return za(i.type,!1);case 11:return za(i.type.render,!1);case 1:return za(i.type,!0);case 31:return Hi("Activity");default:return""}}function Fa(i){try{var s="";do s+=Al(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function un(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Sl(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Od(i){var s=Sl(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function qa(i){i._valueTracker||(i._valueTracker=Od(i))}function wl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Sl(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Bs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Md=/[\n"\\]/g;function Ae(i){return i.replace(Md,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function En(i,s,o,u,d,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+un(s)):i.value!==""+un(s)&&(i.value=""+un(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Or(i,b,un(s)):o!=null?Or(i,b,un(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+un(A):i.removeAttribute("name")}function zs(i,s,o,u,d,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+un(o):"",s=s!=null?""+un(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=A?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Or(i,s,o){s==="number"&&Bs(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Gi(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+un(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function Yt(i,s,o){if(s!=null&&(s=""+un(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+un(o):""}function Fs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(oe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=un(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Pn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||qs.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Rl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Mc(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Mc(i,g,s[g])}function xl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(i){return Ld.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ki=null;function Nn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $i=null,Yi=null;function Cl(i){var s=di(i);if(s&&(i=s.stateNode)){var o=i[be]||null;t:switch(i=s.stateNode,s.type){case"input":if(En(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ae(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[be]||null;if(!d)throw Error(r(90));En(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&wl(u)}break t;case"textarea":Yt(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Gi(i,!!o.multiple,s,!1)}}}var gi=!1;function kc(i,s,o){if(gi)return i(s,o);gi=!0;try{var u=i(s);return u}finally{if(gi=!1,($i!==null||Yi!==null)&&(Ih(),$i&&(s=$i,i=Yi,Yi=$i=null,Cl(s),i)))for(s=0;s<i.length;s++)Cl(i[s])}}function Hs(i,s){var o=i.stateNode;if(o===null)return null;var u=o[be]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),On=!1;if(Xn)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){On=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{On=!1}var yi=null,Mr=null,Qi=null;function Il(){if(Qi)return Qi;var i,s=Mr,o=s.length,u,d="value"in yi?yi.value:yi.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Qi=d.slice(i,1<u?1-u:void 0)}function vi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _i(){return!0}function Dl(){return!1}function Le(i){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_i:Dl,this.isPropagationStopped=Dl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),s}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Le(qt),Ks=y({},qt,{view:0,detail:0}),Lc=Le(Ks),Ka,$a,Ti,$s=y({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(Ka=i.screenX-Ti.screenX,$a=i.screenY-Ti.screenY):$a=Ka=0,Ti=i),Ka)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),Mn=Le($s),Uc=y({},$s,{dataTransfer:0}),Ud=Le(Uc),Ys=y({},Ks,{relatedTarget:0}),Ya=Le(Ys),Vl=y({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Le(Vl),jc=y({},qt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Xa=Le(jc),jd=y({},qt,{data:0}),Pl=Le(jd),Qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=zc[i])?!!s[i]:!1}function Xs(){return Nl}var Fc=y({},Ks,{key:function(i){if(i.key){var s=Qs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=vi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(i){return i.type==="keypress"?vi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wa=Le(Fc),qc=y({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ol=Le(qc),Xi=y({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),Hc=Le(Xi),Gc=y({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Le(Gc),$c=y({},$s,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=Le($c),cn=y({},qt,{newState:0,oldState:0}),Yc=Le(cn),Qc=[9,13,27,32],Ei=Xn&&"CompositionEvent"in window,h=null;Xn&&"documentMode"in document&&(h=document.documentMode);var v=Xn&&"TextEvent"in window&&!h,E=Xn&&(!Ei||h&&8<h&&11>=h),S=" ",q=!1;function Q(i,s){switch(i){case"keyup":return Qc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lt=!1;function Ve(i,s){switch(i){case"compositionend":return lt(s);case"keypress":return s.which!==32?null:(q=!0,S);case"textInput":return i=s.data,i===S&&q?null:i;default:return null}}function Ut(i,s){if(Lt)return i==="compositionend"||!Ei&&Q(i,s)?(i=Il(),Qi=Mr=yi=null,Lt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ue[i.type]:s==="textarea"}function Wi(i,s,o,u){$i?Yi?Yi.push(u):Yi=[u]:$i=u,s=Mh(s,"onChange"),0<s.length&&(o=new Ga("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var He=null,bi=null;function Ml(i){RT(i,0)}function Xc(i){var s=mi(i);if(wl(s))return i}function $v(i,s){if(i==="change")return s}var Yv=!1;if(Xn){var Bd;if(Xn){var zd="oninput"in document;if(!zd){var Qv=document.createElement("div");Qv.setAttribute("oninput","return;"),zd=typeof Qv.oninput=="function"}Bd=zd}else Bd=!1;Yv=Bd&&(!document.documentMode||9<document.documentMode)}function Xv(){He&&(He.detachEvent("onpropertychange",Wv),bi=He=null)}function Wv(i){if(i.propertyName==="value"&&Xc(bi)){var s=[];Wi(s,bi,i,Nn(i)),kc(Ml,s)}}function Lx(i,s,o){i==="focusin"?(Xv(),He=s,bi=o,He.attachEvent("onpropertychange",Wv)):i==="focusout"&&Xv()}function Ux(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xc(bi)}function jx(i,s){if(i==="click")return Xc(s)}function Bx(i,s){if(i==="input"||i==="change")return Xc(s)}function zx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var bn=typeof Object.is=="function"?Object.is:zx;function kl(i,s){if(bn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Is.call(s,d)||!bn(i[d],s[d]))return!1}return!0}function Zv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Jv(i,s){var o=Zv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Zv(o)}}function t_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?t_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function e_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Bs(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Bs(i.document)}return s}function Fd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Fx=Xn&&"documentMode"in document&&11>=document.documentMode,Ja=null,qd=null,Ll=null,Hd=!1;function n_(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Hd||Ja==null||Ja!==Bs(u)||(u=Ja,"selectionStart"in u&&Fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ll&&kl(Ll,u)||(Ll=u,u=Mh(qd,"onSelect"),0<u.length&&(s=new Ga("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=Ja)))}function Ws(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var to={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Gd={},i_={};Xn&&(i_=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Zs(i){if(Gd[i])return Gd[i];if(!to[i])return i;var s=to[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in i_)return Gd[i]=s[o];return i}var r_=Zs("animationend"),s_=Zs("animationiteration"),a_=Zs("animationstart"),qx=Zs("transitionrun"),Hx=Zs("transitionstart"),Gx=Zs("transitioncancel"),o_=Zs("transitionend"),l_=new Map,Kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kd.push("scrollEnd");function Wn(i,s){l_.set(i,s),Qn(s,[i])}var u_=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var o=u_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Fa(s)},u_.set(i,s),s)}return{value:i,source:s,stack:Fa(s)}}var Ln=[],eo=0,$d=0;function Wc(){for(var i=eo,s=$d=eo=0;s<i;){var o=Ln[s];Ln[s++]=null;var u=Ln[s];Ln[s++]=null;var d=Ln[s];Ln[s++]=null;var g=Ln[s];if(Ln[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&c_(o,d,g)}}function Zc(i,s,o,u){Ln[eo++]=i,Ln[eo++]=s,Ln[eo++]=o,Ln[eo++]=u,$d|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Yd(i,s,o,u){return Zc(i,s,o,u),Jc(i)}function no(i,s){return Zc(i,null,null,s),Jc(i)}function c_(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-Ze(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function Jc(i){if(50<lu)throw lu=0,tp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var io={};function Kx(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,s,o,u){return new Kx(i,s,o,u)}function Qd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Zi(i,s){var o=i.alternate;return o===null?(o=An(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function h_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function th(i,s,o,u,d,g){var b=0;if(u=i,typeof i=="function")Qd(i)&&(b=1);else if(typeof i=="string")b=YC(i,o,yt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case C:return i=An(31,o,s,d),i.elementType=C,i.lanes=g,i;case x:return Js(o.children,d,g,s);case B:b=8,d|=24;break;case U:return i=An(12,o,s,d|2),i.elementType=U,i.lanes=g,i;case it:return i=An(13,o,s,d),i.elementType=it,i.lanes=g,i;case ht:return i=An(19,o,s,d),i.elementType=ht,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:case Y:b=10;break t;case X:b=9;break t;case ot:b=11;break t;case V:b=14;break t;case w:b=16,u=null;break t}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=An(b,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function Js(i,s,o,u){return i=An(7,i,u,s),i.lanes=o,i}function Xd(i,s,o){return i=An(6,i,null,s),i.lanes=o,i}function Wd(i,s,o){return s=An(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var ro=[],so=0,eh=null,nh=0,Un=[],jn=0,ta=null,Ji=1,tr="";function ea(i,s){ro[so++]=nh,ro[so++]=eh,eh=i,nh=s}function f_(i,s,o){Un[jn++]=Ji,Un[jn++]=tr,Un[jn++]=ta,ta=i;var u=Ji;i=tr;var d=32-Ze(u)-1;u&=~(1<<d),o+=1;var g=32-Ze(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Ji=1<<32-Ze(s)+d|o<<d|u,tr=g+i}else Ji=1<<g|o<<d|u,tr=i}function Zd(i){i.return!==null&&(ea(i,1),f_(i,1,0))}function Jd(i){for(;i===eh;)eh=ro[--so],ro[so]=null,nh=ro[--so],ro[so]=null;for(;i===ta;)ta=Un[--jn],Un[jn]=null,tr=Un[--jn],Un[jn]=null,Ji=Un[--jn],Un[jn]=null}var hn=null,fe=null,Ft=!1,na=null,Ai=!1,tm=Error(r(519));function ia(i){var s=Error(r(418,""));throw Bl(kn(s,i)),tm}function d_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[De]=i,s[be]=u,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<cu.length;o++)Nt(cu[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),zs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),qa(s);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),Fs(s,u.value,u.defaultValue,u.children),qa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||DT(s.textContent,o)?(u.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),u.onScroll!=null&&Nt("scroll",s),u.onScrollEnd!=null&&Nt("scrollend",s),u.onClick!=null&&(s.onclick=kh),s=!0):s=!1,s||ia(i)}function m_(i){for(hn=i.return;hn;)switch(hn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:hn=hn.return}}function Ul(i){if(i!==hn)return!1;if(!Ft)return m_(i),Ft=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&fe&&ia(i),m_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){fe=Jn(i.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}fe=null}}else s===27?(s=fe,Wr(i.type)?(i=Tp,Tp=null,fe=i):fe=s):fe=hn?Jn(i.stateNode.nextSibling):null;return!0}function jl(){fe=hn=null,Ft=!1}function p_(){var i=na;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),na=null),i}function Bl(i){na===null?na=[i]:na.push(i)}var em=rt(null),ra=null,er=null;function kr(i,s,o){at(em,s._currentValue),s._currentValue=o}function nr(i){i._currentValue=em.current,ut(em)}function nm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function im(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=d;for(var I=0;I<s.length;I++)if(A.context===s[I]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),nm(g.return,o,i),u||(b=null);break t}g=A.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),nm(b,o,i),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===i){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function zl(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var A=d.type;bn(d.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(d===ke.current){if(b=d.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(gu):i=[gu])}d=d.return}i!==null&&im(s,i,o,u),s.flags|=262144}function ih(i){for(i=i.firstContext;i!==null;){if(!bn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function sa(i){ra=i,er=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Je(i){return g_(ra,i)}function rh(i,s){return ra===null&&sa(i),g_(i,s)}function g_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},er===null){if(i===null)throw Error(r(308));er=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else er=er.next=s;return o}var $x=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},Yx=e.unstable_scheduleCallback,Qx=e.unstable_NormalPriority,Ne={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new $x,data:new Map,refCount:0}}function Fl(i){i.refCount--,i.refCount===0&&Yx(Qx,function(){i.controller.abort()})}var ql=null,sm=0,ao=0,oo=null;function Xx(i,s){if(ql===null){var o=ql=[];sm=0,ao=op(),oo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return sm++,s.then(y_,y_),s}function y_(){if(--sm===0&&ql!==null){oo!==null&&(oo.status="fulfilled");var i=ql;ql=null,ao=0,oo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function Wx(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var v_=W.S;W.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Xx(i,s),v_!==null&&v_(i,s)};var aa=rt(null);function am(){var i=aa.current;return i!==null?i:te.pooledCache}function sh(i,s){s===null?at(aa,aa.current):at(aa,s.pool)}function __(){var i=am();return i===null?null:{parent:Ne._currentValue,pool:i}}var Hl=Error(r(460)),T_=Error(r(474)),ah=Error(r(542)),om={then:function(){}};function E_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function oh(){}function b_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(oh,oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S_(i),i;default:if(typeof s.status=="string")s.then(oh,oh);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,S_(i),i}throw Gl=s,Hl}}var Gl=null;function A_(){if(Gl===null)throw Error(r(459));var i=Gl;return Gl=null,i}function S_(i){if(i===Hl||i===ah)throw Error(r(483))}var Lr=!1;function lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ur(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function jr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Jc(i),c_(i,null,o),s}return Zc(i,u,s,o),Jc(i)}function Kl(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Tl(i,o)}}function cm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var hm=!1;function $l(){if(hm){var i=oo;if(i!==null)throw i}}function Yl(i,s,o,u){hm=!1;var d=i.updateQueue;Lr=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var I=A,G=I.next;I.next=null,b===null?g=G:b.next=G,b=I;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=G:A.next=G,Z.lastBaseUpdate=I))}if(g!==null){var et=d.baseState;b=0,Z=G=I=null,A=g;do{var K=A.lane&-536870913,$=K!==A.lane;if($?(jt&K)===K:(u&K)===K){K!==0&&K===ao&&(hm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var Et=i,vt=A;K=s;var Wt=o;switch(vt.tag){case 1:if(Et=vt.payload,typeof Et=="function"){et=Et.call(Wt,et,K);break t}et=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=vt.payload,K=typeof Et=="function"?Et.call(Wt,et,K):Et,K==null)break t;et=y({},et,K);break t;case 2:Lr=!0}}K=A.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=d.callbacks,$===null?d.callbacks=[K]:$.push(K))}else $={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(G=Z=$,I=et):Z=Z.next=$,b|=K;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;$=A,A=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Z===null&&(I=et),d.baseState=I,d.firstBaseUpdate=G,d.lastBaseUpdate=Z,g===null&&(d.shared.lanes=0),$r|=b,i.lanes=b,i.memoizedState=et}}function w_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function R_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)w_(o[i],s)}var lo=rt(null),lh=rt(0);function x_(i,s){i=ur,at(lh,i),at(lo,s),ur=i|s.baseLanes}function fm(){at(lh,ur),at(lo,lo.current)}function dm(){ur=lh.current,ut(lo),ut(lh)}var Br=0,Ct=null,Qt=null,Se=null,uh=!1,uo=!1,oa=!1,ch=0,Ql=0,co=null,Zx=0;function ge(){throw Error(r(321))}function mm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!bn(i[o],s[o]))return!1;return!0}function pm(i,s,o,u,d,g){return Br=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?c0:h0,oa=!1,g=o(u,d),oa=!1,uo&&(g=I_(s,o,u,d)),C_(i),g}function C_(i){W.H=gh;var s=Qt!==null&&Qt.next!==null;if(Br=0,Se=Qt=Ct=null,uh=!1,Ql=0,co=null,s)throw Error(r(300));i===null||je||(i=i.dependencies,i!==null&&ih(i)&&(je=!0))}function I_(i,s,o,u){Ct=i;var d=0;do{if(uo&&(co=null),Ql=0,uo=!1,25<=d)throw Error(r(301));if(d+=1,Se=Qt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=sC,g=s(o,u)}while(uo);return g}function Jx(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?Xl(s):s,i=i.useState()[0],(Qt!==null?Qt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function gm(){var i=ch!==0;return ch=0,i}function ym(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function vm(i){if(uh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}uh=!1}Br=0,Se=Qt=Ct=null,uo=!1,Ql=ch=0,co=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?Ct.memoizedState=Se=i:Se=Se.next=i,Se}function we(){if(Qt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var s=Se===null?Ct.memoizedState:Se.next;if(s!==null)Se=s,Qt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Se===null?Ct.memoizedState=Se=i:Se=Se.next=i}return Se}function _m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(i){var s=Ql;return Ql+=1,co===null&&(co=[]),i=b_(co,i,s),s=Ct,(Se===null?s.memoizedState:Se.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?c0:h0),i}function hh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xl(i);if(i.$$typeof===Y)return Je(i)}throw Error(r(438,String(i)))}function Tm(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=_m(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=P;return s.index++,o}function ir(i,s){return typeof s=="function"?s(i):s}function fh(i){var s=we();return Em(s,Qt,i)}function Em(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var A=b=null,I=null,G=s,Z=!1;do{var et=G.lane&-536870913;if(et!==G.lane?(jt&et)===et:(Br&et)===et){var K=G.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),et===ao&&(Z=!0);else if((Br&K)===K){G=G.next,K===ao&&(Z=!0);continue}else et={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(A=I=et,b=g):I=I.next=et,Ct.lanes|=K,$r|=K;et=G.action,oa&&o(g,et),g=G.hasEagerState?G.eagerState:o(g,et)}else K={lane:et,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},I===null?(A=I=K,b=g):I=I.next=K,Ct.lanes|=et,$r|=et;G=G.next}while(G!==null&&G!==s);if(I===null?b=g:I.next=A,!bn(g,i.memoizedState)&&(je=!0,Z&&(o=oo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=I,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function bm(i){var s=we(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=i(g,b.action),b=b.next;while(b!==d);bn(g,s.memoizedState)||(je=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function D_(i,s,o){var u=Ct,d=we(),g=Ft;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!bn((Qt||d).memoizedState,o);b&&(d.memoizedState=o,je=!0),d=d.queue;var A=N_.bind(null,u,d,i);if(Wl(2048,8,A,[i]),d.getSnapshot!==s||b||Se!==null&&Se.memoizedState.tag&1){if(u.flags|=2048,ho(9,dh(),P_.bind(null,u,d,o,s),null),te===null)throw Error(r(349));g||(Br&124)!==0||V_(u,s,o)}return o}function V_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=_m(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function P_(i,s,o,u){s.value=o,s.getSnapshot=u,O_(s)&&M_(i)}function N_(i,s,o){return o(function(){O_(s)&&M_(i)})}function O_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!bn(i,o)}catch{return!0}}function M_(i){var s=no(i,2);s!==null&&Cn(s,i,2)}function Am(i){var s=mn();if(typeof i=="function"){var o=i;if(i=o(),oa){Tn(!0);try{o()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:i},s}function k_(i,s,o,u){return i.baseState=o,Em(i,Qt,typeof u=="function"?u:ir)}function tC(i,s,o,u,d){if(ph(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,L_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function L_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=W.T,b={};W.T=b;try{var A=o(d,u),I=W.S;I!==null&&I(b,A),U_(i,s,A)}catch(G){Sm(i,s,G)}finally{W.T=g}}else try{g=o(d,u),U_(i,s,g)}catch(G){Sm(i,s,G)}}function U_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){j_(i,s,u)},function(u){return Sm(i,s,u)}):j_(i,s,o)}function j_(i,s,o){s.status="fulfilled",s.value=o,B_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,L_(i,o)))}function Sm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,B_(s),s=s.next;while(s!==u)}i.action=null}function B_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function z_(i,s){return s}function F_(i,s){if(Ft){var o=te.formState;if(o!==null){t:{var u=Ct;if(Ft){if(fe){e:{for(var d=fe,g=Ai;d.nodeType!==8;){if(!g){d=null;break e}if(d=Jn(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){fe=Jn(d.nextSibling),u=d.data==="F!";break t}}ia(u)}u=!1}u&&(s=o[0])}}return o=mn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:s},o.queue=u,o=o0.bind(null,Ct,u),u.dispatch=o,u=Am(!1),g=Im.bind(null,Ct,!1,u.queue),u=mn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=tC.bind(null,Ct,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function q_(i){var s=we();return H_(s,Qt,i)}function H_(i,s,o){if(s=Em(i,s,z_)[0],i=fh(ir)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Xl(s)}catch(b){throw b===Hl?ah:b}else u=s;s=we();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,ho(9,dh(),eC.bind(null,d,o),null)),[u,g,i]}function eC(i,s){i.action=s}function G_(i){var s=we(),o=Qt;if(o!==null)return H_(s,o,i);we(),s=s.memoizedState,o=we();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function ho(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=_m(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function dh(){return{destroy:void 0,resource:void 0}}function K_(){return we().memoizedState}function mh(i,s,o,u){var d=mn();u=u===void 0?null:u,Ct.flags|=i,d.memoizedState=ho(1|s,dh(),o,u)}function Wl(i,s,o,u){var d=we();u=u===void 0?null:u;var g=d.memoizedState.inst;Qt!==null&&u!==null&&mm(u,Qt.memoizedState.deps)?d.memoizedState=ho(s,g,o,u):(Ct.flags|=i,d.memoizedState=ho(1|s,g,o,u))}function $_(i,s){mh(8390656,8,i,s)}function Y_(i,s){Wl(2048,8,i,s)}function Q_(i,s){return Wl(4,2,i,s)}function X_(i,s){return Wl(4,4,i,s)}function W_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Z_(i,s,o){o=o!=null?o.concat([i]):null,Wl(4,4,W_.bind(null,s,i),o)}function wm(){}function J_(i,s){var o=we();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&mm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function t0(i,s){var o=we();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&mm(s,u[1]))return u[0];if(u=i(),oa){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u}function Rm(i,s,o){return o===void 0||(Br&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=iT(),Ct.lanes|=i,$r|=i,o)}function e0(i,s,o,u){return bn(o,s)?o:lo.current!==null?(i=Rm(i,o,u),bn(i,s)||(je=!0),i):(Br&42)===0?(je=!0,i.memoizedState=o):(i=iT(),Ct.lanes|=i,$r|=i,s)}function n0(i,s,o,u,d){var g=st.p;st.p=g!==0&&8>g?g:8;var b=W.T,A={};W.T=A,Im(i,!1,s,o);try{var I=d(),G=W.S;if(G!==null&&G(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=Wx(I,u);Zl(i,s,Z,xn(i))}else Zl(i,s,u,xn(i))}catch(et){Zl(i,s,{then:function(){},status:"rejected",reason:et},xn())}finally{st.p=g,W.T=b}}function nC(){}function xm(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=i0(i).queue;n0(i,d,s,dt,o===null?nC:function(){return r0(i),o(u)})}function i0(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:dt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function r0(i){var s=i0(i).next.queue;Zl(i,s,{},xn())}function Cm(){return Je(gu)}function s0(){return we().memoizedState}function a0(){return we().memoizedState}function iC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();i=Ur(o);var u=jr(s,i,o);u!==null&&(Cn(u,s,o),Kl(u,s,o)),s={cache:rm()},i.payload=s;return}s=s.return}}function rC(i,s,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ph(i)?l0(s,o):(o=Yd(i,s,o,u),o!==null&&(Cn(o,i,u),u0(o,s,u)))}function o0(i,s,o){var u=xn();Zl(i,s,o,u)}function Zl(i,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ph(i))l0(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(d.hasEagerState=!0,d.eagerState=A,bn(A,b))return Zc(i,s,d,0),te===null&&Wc(),!1}catch{}finally{}if(o=Yd(i,s,d,u),o!==null)return Cn(o,i,u),u0(o,s,u),!0}return!1}function Im(i,s,o,u){if(u={lane:2,revertLane:op(),action:u,hasEagerState:!1,eagerState:null,next:null},ph(i)){if(s)throw Error(r(479))}else s=Yd(i,o,u,2),s!==null&&Cn(s,i,2)}function ph(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function l0(i,s){uo=uh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function u0(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Tl(i,o)}}var gh={readContext:Je,use:hh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},c0={readContext:Je,use:hh,useCallback:function(i,s){return mn().memoizedState=[i,s===void 0?null:s],i},useContext:Je,useEffect:$_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,mh(4194308,4,W_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return mh(4194308,4,i,s)},useInsertionEffect:function(i,s){mh(4,2,i,s)},useMemo:function(i,s){var o=mn();s=s===void 0?null:s;var u=i();if(oa){Tn(!0);try{i()}finally{Tn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=mn();if(o!==void 0){var d=o(s);if(oa){Tn(!0);try{o(s)}finally{Tn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=rC.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=mn();return i={current:i},s.memoizedState=i},useState:function(i){i=Am(i);var s=i.queue,o=o0.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:wm,useDeferredValue:function(i,s){var o=mn();return Rm(o,i,s)},useTransition:function(){var i=Am(!1);return i=n0.bind(null,Ct,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,d=mn();if(Ft){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),te===null)throw Error(r(349));(jt&124)!==0||V_(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,$_(N_.bind(null,u,g,i),[i]),u.flags|=2048,ho(9,dh(),P_.bind(null,u,g,o,s),null),o},useId:function(){var i=mn(),s=te.identifierPrefix;if(Ft){var o=tr,u=Ji;o=(u&~(1<<32-Ze(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=ch++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=Zx++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Cm,useFormState:F_,useActionState:F_,useOptimistic:function(i){var s=mn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Im.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:Tm,useCacheRefresh:function(){return mn().memoizedState=iC.bind(null,Ct)}},h0={readContext:Je,use:hh,useCallback:J_,useContext:Je,useEffect:Y_,useImperativeHandle:Z_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:t0,useReducer:fh,useRef:K_,useState:function(){return fh(ir)},useDebugValue:wm,useDeferredValue:function(i,s){var o=we();return e0(o,Qt.memoizedState,i,s)},useTransition:function(){var i=fh(ir)[0],s=we().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:D_,useId:s0,useHostTransitionStatus:Cm,useFormState:q_,useActionState:q_,useOptimistic:function(i,s){var o=we();return k_(o,Qt,i,s)},useMemoCache:Tm,useCacheRefresh:a0},sC={readContext:Je,use:hh,useCallback:J_,useContext:Je,useEffect:Y_,useImperativeHandle:Z_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:t0,useReducer:bm,useRef:K_,useState:function(){return bm(ir)},useDebugValue:wm,useDeferredValue:function(i,s){var o=we();return Qt===null?Rm(o,i,s):e0(o,Qt.memoizedState,i,s)},useTransition:function(){var i=bm(ir)[0],s=we().memoizedState;return[typeof i=="boolean"?i:Xl(i),s]},useSyncExternalStore:D_,useId:s0,useHostTransitionStatus:Cm,useFormState:G_,useActionState:G_,useOptimistic:function(i,s){var o=we();return Qt!==null?k_(o,Qt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:a0},fo=null,Jl=0;function yh(i){var s=Jl;return Jl+=1,fo===null&&(fo=[]),b_(fo,i,s)}function tu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function vh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function f0(i){var s=i._init;return s(i._payload)}function d0(i){function s(z,k){if(i){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function d(z,k){return z=Zi(z,k),z.index=0,z.sibling=null,z}function g(z,k,H){return z.index=H,i?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function b(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,H,J){return k===null||k.tag!==6?(k=Xd(H,z.mode,J),k.return=z,k):(k=d(k,H),k.return=z,k)}function I(z,k,H,J){var mt=H.type;return mt===x?Z(z,k,H.props.children,J,H.key):k!==null&&(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&f0(mt)===k.type)?(k=d(k,H.props),tu(k,H),k.return=z,k):(k=th(H.type,H.key,H.props,null,z.mode,J),tu(k,H),k.return=z,k)}function G(z,k,H,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Wd(H,z.mode,J),k.return=z,k):(k=d(k,H.children||[]),k.return=z,k)}function Z(z,k,H,J,mt){return k===null||k.tag!==7?(k=Js(H,z.mode,J,mt),k.return=z,k):(k=d(k,H),k.return=z,k)}function et(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Xd(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return H=th(k.type,k.key,k.props,null,z.mode,H),tu(H,k),H.return=z,H;case R:return k=Wd(k,z.mode,H),k.return=z,k;case w:var J=k._init;return k=J(k._payload),et(z,k,H)}if(oe(k)||F(k))return k=Js(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return et(z,yh(k),H);if(k.$$typeof===Y)return et(z,rh(z,k),H);vh(z,k)}return null}function K(z,k,H,J){var mt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return mt!==null?null:A(z,k,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===mt?I(z,k,H,J):null;case R:return H.key===mt?G(z,k,H,J):null;case w:return mt=H._init,H=mt(H._payload),K(z,k,H,J)}if(oe(H)||F(H))return mt!==null?null:Z(z,k,H,J,null);if(typeof H.then=="function")return K(z,k,yh(H),J);if(H.$$typeof===Y)return K(z,k,rh(z,H),J);vh(z,H)}return null}function $(z,k,H,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(H)||null,A(k,z,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return z=z.get(J.key===null?H:J.key)||null,I(k,z,J,mt);case R:return z=z.get(J.key===null?H:J.key)||null,G(k,z,J,mt);case w:var Vt=J._init;return J=Vt(J._payload),$(z,k,H,J,mt)}if(oe(J)||F(J))return z=z.get(H)||null,Z(k,z,J,mt,null);if(typeof J.then=="function")return $(z,k,H,yh(J),mt);if(J.$$typeof===Y)return $(z,k,H,rh(k,J),mt);vh(k,J)}return null}function Et(z,k,H,J){for(var mt=null,Vt=null,pt=k,_t=k=0,ze=null;pt!==null&&_t<H.length;_t++){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var zt=K(z,pt,H[_t],J);if(zt===null){pt===null&&(pt=ze);break}i&&pt&&zt.alternate===null&&s(z,pt),k=g(zt,k,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt,pt=ze}if(_t===H.length)return o(z,pt),Ft&&ea(z,_t),mt;if(pt===null){for(;_t<H.length;_t++)pt=et(z,H[_t],J),pt!==null&&(k=g(pt,k,_t),Vt===null?mt=pt:Vt.sibling=pt,Vt=pt);return Ft&&ea(z,_t),mt}for(pt=u(pt);_t<H.length;_t++)ze=$(pt,z,_t,H[_t],J),ze!==null&&(i&&ze.alternate!==null&&pt.delete(ze.key===null?_t:ze.key),k=g(ze,k,_t),Vt===null?mt=ze:Vt.sibling=ze,Vt=ze);return i&&pt.forEach(function(ns){return s(z,ns)}),Ft&&ea(z,_t),mt}function vt(z,k,H,J){if(H==null)throw Error(r(151));for(var mt=null,Vt=null,pt=k,_t=k=0,ze=null,zt=H.next();pt!==null&&!zt.done;_t++,zt=H.next()){pt.index>_t?(ze=pt,pt=null):ze=pt.sibling;var ns=K(z,pt,zt.value,J);if(ns===null){pt===null&&(pt=ze);break}i&&pt&&ns.alternate===null&&s(z,pt),k=g(ns,k,_t),Vt===null?mt=ns:Vt.sibling=ns,Vt=ns,pt=ze}if(zt.done)return o(z,pt),Ft&&ea(z,_t),mt;if(pt===null){for(;!zt.done;_t++,zt=H.next())zt=et(z,zt.value,J),zt!==null&&(k=g(zt,k,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return Ft&&ea(z,_t),mt}for(pt=u(pt);!zt.done;_t++,zt=H.next())zt=$(pt,z,_t,zt.value,J),zt!==null&&(i&&zt.alternate!==null&&pt.delete(zt.key===null?_t:zt.key),k=g(zt,k,_t),Vt===null?mt=zt:Vt.sibling=zt,Vt=zt);return i&&pt.forEach(function(aI){return s(z,aI)}),Ft&&ea(z,_t),mt}function Wt(z,k,H,J){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:t:{for(var mt=H.key;k!==null;){if(k.key===mt){if(mt=H.type,mt===x){if(k.tag===7){o(z,k.sibling),J=d(k,H.props.children),J.return=z,z=J;break t}}else if(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&f0(mt)===k.type){o(z,k.sibling),J=d(k,H.props),tu(J,H),J.return=z,z=J;break t}o(z,k);break}else s(z,k);k=k.sibling}H.type===x?(J=Js(H.props.children,z.mode,J,H.key),J.return=z,z=J):(J=th(H.type,H.key,H.props,null,z.mode,J),tu(J,H),J.return=z,z=J)}return b(z);case R:t:{for(mt=H.key;k!==null;){if(k.key===mt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(z,k.sibling),J=d(k,H.children||[]),J.return=z,z=J;break t}else{o(z,k);break}else s(z,k);k=k.sibling}J=Wd(H,z.mode,J),J.return=z,z=J}return b(z);case w:return mt=H._init,H=mt(H._payload),Wt(z,k,H,J)}if(oe(H))return Et(z,k,H,J);if(F(H)){if(mt=F(H),typeof mt!="function")throw Error(r(150));return H=mt.call(H),vt(z,k,H,J)}if(typeof H.then=="function")return Wt(z,k,yh(H),J);if(H.$$typeof===Y)return Wt(z,k,rh(z,H),J);vh(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(z,k.sibling),J=d(k,H),J.return=z,z=J):(o(z,k),J=Xd(H,z.mode,J),J.return=z,z=J),b(z)):o(z,k)}return function(z,k,H,J){try{Jl=0;var mt=Wt(z,k,H,J);return fo=null,mt}catch(pt){if(pt===Hl||pt===ah)throw pt;var Vt=An(29,pt,null,z.mode);return Vt.lanes=J,Vt.return=z,Vt}finally{}}}var mo=d0(!0),m0=d0(!1),Bn=rt(null),Si=null;function zr(i){var s=i.alternate;at(Oe,Oe.current&1),at(Bn,i),Si===null&&(s===null||lo.current!==null||s.memoizedState!==null)&&(Si=i)}function p0(i){if(i.tag===22){if(at(Oe,Oe.current),at(Bn,i),Si===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Si=i)}}else Fr()}function Fr(){at(Oe,Oe.current),at(Bn,Bn.current)}function rr(i){ut(Bn),Si===i&&(Si=null),ut(Oe)}var Oe=rt(0);function _h(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||_p(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Dm(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Vm={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=xn(),d=Ur(u);d.payload=s,o!=null&&(d.callback=o),s=jr(i,d,u),s!==null&&(Cn(s,i,u),Kl(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=xn(),d=Ur(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=jr(i,d,u),s!==null&&(Cn(s,i,u),Kl(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=xn(),u=Ur(o);u.tag=2,s!=null&&(u.callback=s),s=jr(i,u,o),s!==null&&(Cn(s,i,o),Kl(s,i,o))}};function g0(i,s,o,u,d,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!kl(o,u)||!kl(d,g):!0}function y0(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Vm.enqueueReplaceState(s,s.state,null)}function la(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function v0(i){Th(i)}function _0(i){console.error(i)}function T0(i){Th(i)}function Eh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function E0(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Pm(i,s,o){return o=Ur(o),o.tag=3,o.payload={element:null},o.callback=function(){Eh(i,s)},o}function b0(i){return i=Ur(i),i.tag=3,i}function A0(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){E0(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){E0(s,o,u),typeof d!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function aC(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&zl(s,o,d,!0),o=Bn.current,o!==null){switch(o.tag){case 13:return Si===null?np():o.alternate===null&&de===0&&(de=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===om?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rp(i,u,d)),!1;case 22:return o.flags|=65536,u===om?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rp(i,u,d)),!1}throw Error(r(435,o.tag))}return rp(i,u,d),np(),!1}if(Ft)return s=Bn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==tm&&(i=Error(r(422),{cause:u}),Bl(kn(i,o)))):(u!==tm&&(s=Error(r(423),{cause:u}),Bl(kn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=kn(u,o),d=Pm(i.stateNode,u,d),cm(i,d),de!==4&&(de=2)),!1;var g=Error(r(520),{cause:u});if(g=kn(g,o),ou===null?ou=[g]:ou.push(g),de!==4&&(de=2),s===null)return!0;u=kn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=Pm(o.stateNode,u,i),cm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Yr===null||!Yr.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=b0(d),A0(d,i,o,u),cm(o,d),!1}o=o.return}while(o!==null);return!1}var S0=Error(r(461)),je=!1;function Ge(i,s,o,u){s.child=i===null?m0(s,null,o,u):mo(s,i.child,o,u)}function w0(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return sa(s),u=pm(i,s,o,b,g,d),A=gm(),i!==null&&!je?(ym(i,s,d),sr(i,s,d)):(Ft&&A&&Zd(s),s.flags|=1,Ge(i,s,u,d),s.child)}function R0(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Qd(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,x0(i,s,g,u,d)):(i=th(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!Bm(i,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:kl,o(b,u)&&i.ref===s.ref)return sr(i,s,d)}return s.flags|=1,i=Zi(g,u),i.ref=s.ref,i.return=s,s.child=i}function x0(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(kl(g,u)&&i.ref===s.ref)if(je=!1,s.pendingProps=u=g,Bm(i,d))(i.flags&131072)!==0&&(je=!0);else return s.lanes=i.lanes,sr(i,s,d)}return Nm(i,s,o,u,d)}function C0(i,s,o){var u=s.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=s.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return I0(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sh(s,g!==null?g.cachePool:null),g!==null?x_(s,g):fm(),p0(s);else return s.lanes=s.childLanes=536870912,I0(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(sh(s,g.cachePool),x_(s,g),Fr(),s.memoizedState=null):(i!==null&&sh(s,null),fm(),Fr());return Ge(i,s,d,o),s.child}function I0(i,s,o,u){var d=am();return d=d===null?null:{parent:Ne._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},i!==null&&sh(s,null),fm(),p0(s),i!==null&&zl(i,s,u,!0),null}function bh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Nm(i,s,o,u,d){return sa(s),o=pm(i,s,o,u,void 0,d),u=gm(),i!==null&&!je?(ym(i,s,d),sr(i,s,d)):(Ft&&u&&Zd(s),s.flags|=1,Ge(i,s,o,d),s.child)}function D0(i,s,o,u,d,g){return sa(s),s.updateQueue=null,o=I_(s,u,o,d),C_(i),u=gm(),i!==null&&!je?(ym(i,s,g),sr(i,s,g)):(Ft&&u&&Zd(s),s.flags|=1,Ge(i,s,o,g),s.child)}function V0(i,s,o,u,d){if(sa(s),s.stateNode===null){var g=io,b=o.contextType;typeof b=="object"&&b!==null&&(g=Je(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},lm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Je(b):io,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Dm(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Vm.enqueueReplaceState(g,g.state,null),Yl(s,u,g,d),$l(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,I=la(o,A);g.props=I;var G=g.context,Z=o.contextType;b=io,typeof Z=="object"&&Z!==null&&(b=Je(Z));var et=o.getDerivedStateFromProps;Z=typeof et=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||G!==b)&&y0(s,g,u,b),Lr=!1;var K=s.memoizedState;g.state=K,Yl(s,u,g,d),$l(),G=s.memoizedState,A||K!==G||Lr?(typeof et=="function"&&(Dm(s,o,et,u),G=s.memoizedState),(I=Lr||g0(s,o,I,u,K,G,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),g.props=u,g.state=G,g.context=b,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,um(i,s),b=s.memoizedProps,Z=la(o,b),g.props=Z,et=s.pendingProps,K=g.context,G=o.contextType,I=io,typeof G=="object"&&G!==null&&(I=Je(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==et||K!==I)&&y0(s,g,u,I),Lr=!1,K=s.memoizedState,g.state=K,Yl(s,u,g,d),$l();var $=s.memoizedState;b!==et||K!==$||Lr||i!==null&&i.dependencies!==null&&ih(i.dependencies)?(typeof A=="function"&&(Dm(s,o,A,u),$=s.memoizedState),(Z=Lr||g0(s,o,Z,u,K,$,I)||i!==null&&i.dependencies!==null&&ih(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,$,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,$,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=I,u=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,bh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=mo(s,i.child,null,d),s.child=mo(s,null,o,d)):Ge(i,s,o,d),s.memoizedState=g.state,i=s.child):i=sr(i,s,d),i}function P0(i,s,o,u){return jl(),s.flags|=256,Ge(i,s,o,u),s.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mm(i){return{baseLanes:i,cachePool:__()}}function km(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=zn),i}function N0(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Oe.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ft){if(d?zr(s):Fr(),Ft){var A=fe,I;if(I=A){t:{for(I=A,A=Ai;I.nodeType!==8;){if(!A){A=null;break t}if(I=Jn(I.nextSibling),I===null){A=null;break t}}A=I}A!==null?(s.memoizedState={dehydrated:A,treeContext:ta!==null?{id:Ji,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},I=An(18,null,null,0),I.stateNode=A,I.return=s,s.child=I,hn=s,fe=null,I=!0):I=!1}I||ia(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return _p(A)?s.lanes=32:s.lanes=536870912,null;rr(s)}return A=u.children,u=u.fallback,d?(Fr(),d=s.mode,A=Ah({mode:"hidden",children:A},d),u=Js(u,d,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,d=s.child,d.memoizedState=Mm(o),d.childLanes=km(i,b,o),s.memoizedState=Om,u):(zr(s),Lm(s,A))}if(I=i.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(g)s.flags&256?(zr(s),s.flags&=-257,s=Um(i,s,o)):s.memoizedState!==null?(Fr(),s.child=i.child,s.flags|=128,s=null):(Fr(),d=u.fallback,A=s.mode,u=Ah({mode:"visible",children:u.children},A),d=Js(d,A,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,mo(s,i.child,null,o),u=s.child,u.memoizedState=Mm(o),u.childLanes=km(i,b,o),s.memoizedState=Om,s=d);else if(zr(s),_p(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(r(419)),u.stack="",u.digest=b,Bl({value:u,source:null,stack:null}),s=Um(i,s,o)}else if(je||zl(i,s,o,!1),b=(o&i.childLanes)!==0,je||b){if(b=te,b!==null&&(u=o&-o,u=(u&42)!==0?1:Ir(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==I.retryLane))throw I.retryLane=u,no(i,u),Cn(b,i,u),S0;A.data==="$?"||np(),s=Um(i,s,o)}else A.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=I.treeContext,fe=Jn(A.nextSibling),hn=s,Ft=!0,na=null,Ai=!1,i!==null&&(Un[jn++]=Ji,Un[jn++]=tr,Un[jn++]=ta,Ji=i.id,tr=i.overflow,ta=s),s=Lm(s,u.children),s.flags|=4096);return s}return d?(Fr(),d=u.fallback,A=s.mode,I=i.child,G=I.sibling,u=Zi(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,G!==null?d=Zi(G,d):(d=Js(d,A,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,A=i.child.memoizedState,A===null?A=Mm(o):(I=A.cachePool,I!==null?(G=Ne._currentValue,I=I.parent!==G?{parent:G,pool:G}:I):I=__(),A={baseLanes:A.baseLanes|o,cachePool:I}),d.memoizedState=A,d.childLanes=km(i,b,o),s.memoizedState=Om,u):(zr(s),o=i.child,i=o.sibling,o=Zi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function Lm(i,s){return s=Ah({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Ah(i,s){return i=An(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Um(i,s,o){return mo(s,i.child,null,o),i=Lm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function O0(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),nm(i.return,s,o)}function jm(i,s,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function M0(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(Ge(i,s,u.children,o),u=Oe.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&O0(i,o,s);else if(i.tag===19)O0(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(at(Oe,u),d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&_h(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),jm(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&_h(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}jm(s,!0,o,null,g);break;case"together":jm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),$r|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(zl(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Zi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Zi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Bm(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&ih(i)))}function oC(i,s,o){switch(s.tag){case 3:Jt(s,s.stateNode.containerInfo),kr(s,Ne,i.memoizedState.cache),jl();break;case 27:case 5:Cr(s);break;case 4:Jt(s,s.stateNode.containerInfo);break;case 10:kr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(zr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?N0(i,s,o):(zr(s),i=sr(i,s,o),i!==null?i.sibling:null);zr(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(zl(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return M0(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),at(Oe,Oe.current),u)break;return null;case 22:case 23:return s.lanes=0,C0(i,s,o);case 24:kr(s,Ne,i.memoizedState.cache)}return sr(i,s,o)}function k0(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)je=!0;else{if(!Bm(i,o)&&(s.flags&128)===0)return je=!1,oC(i,s,o);je=(i.flags&131072)!==0}else je=!1,Ft&&(s.flags&1048576)!==0&&f_(s,nh,s.index);switch(s.lanes=0,s.tag){case 16:t:{i=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Qd(u)?(i=la(u,i),s.tag=1,s=V0(null,s,u,i,o)):(s.tag=0,s=Nm(null,s,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===ot){s.tag=11,s=w0(null,s,u,i,o);break t}else if(d===V){s.tag=14,s=R0(null,s,u,i,o);break t}}throw s=Ee(u)||u,Error(r(306,s,""))}}return s;case 0:return Nm(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=la(u,s.pendingProps),V0(i,s,u,d,o);case 3:t:{if(Jt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,um(i,s),Yl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,kr(s,Ne,u),u!==g.cache&&im(s,[Ne],o,!0),$l(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=P0(i,s,u,o);break t}else if(u!==d){d=kn(Error(r(424)),s),Bl(d),s=P0(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fe=Jn(i.firstChild),hn=s,Ft=!0,na=null,Ai=!0,o=m0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(jl(),u===d){s=sr(i,s,o);break t}Ge(i,s,u,o)}s=s.child}return s;case 26:return bh(i,s),i===null?(o=BT(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ft||(o=s.type,i=s.pendingProps,u=Lh(St.current).createElement(o),u[De]=s,u[be]=i,$e(u,o,i),pe(u),s.stateNode=u):s.memoizedState=BT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Cr(s),i===null&&Ft&&(u=s.stateNode=LT(s.type,s.pendingProps,St.current),hn=s,Ai=!0,d=fe,Wr(s.type)?(Tp=d,fe=Jn(u.firstChild)):fe=d),Ge(i,s,s.pendingProps.children,o),bh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ft&&((d=u=fe)&&(u=MC(u,s.type,s.pendingProps,Ai),u!==null?(s.stateNode=u,hn=s,fe=Jn(u.firstChild),Ai=!1,d=!0):d=!1),d||ia(s)),Cr(s),d=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,gp(d,g)?u=null:b!==null&&gp(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=pm(i,s,Jx,null,null,o),gu._currentValue=d),bh(i,s),Ge(i,s,u,o),s.child;case 6:return i===null&&Ft&&((i=o=fe)&&(o=kC(o,s.pendingProps,Ai),o!==null?(s.stateNode=o,hn=s,fe=null,i=!0):i=!1),i||ia(s)),null;case 13:return N0(i,s,o);case 4:return Jt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=mo(s,null,u,o):Ge(i,s,u,o),s.child;case 11:return w0(i,s,s.type,s.pendingProps,o);case 7:return Ge(i,s,s.pendingProps,o),s.child;case 8:return Ge(i,s,s.pendingProps.children,o),s.child;case 12:return Ge(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,kr(s,s.type,u.value),Ge(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,sa(s),d=Je(d),u=u(d),s.flags|=1,Ge(i,s,u,o),s.child;case 14:return R0(i,s,s.type,s.pendingProps,o);case 15:return x0(i,s,s.type,s.pendingProps,o);case 19:return M0(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=Ah(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Zi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return C0(i,s,o);case 24:return sa(s),u=Je(Ne),i===null?(d=am(),d===null&&(d=te,g=rm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},lm(s),kr(s,Ne,d)):((i.lanes&o)!==0&&(um(i,s),Yl(s,null,null,o),$l()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),kr(s,Ne,u)):(u=g.cache,kr(s,Ne,u),u!==d.cache&&im(s,[Ne],o,!0))),Ge(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ar(i){i.flags|=4}function L0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!GT(s)){if(s=Bn.current,s!==null&&((jt&4194048)===jt?Si!==null:(jt&62914560)!==jt&&(jt&536870912)===0||s!==Si))throw Gl=om,T_;i.flags|=8192}}function Sh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?vl():536870912,i.lanes|=s,vo|=s)}function eu(i,s){if(!Ft)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function le(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function lC(i,s,o){var u=s.pendingProps;switch(Jd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(s),null;case 1:return le(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),nr(Ne),hi(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ul(s)?ar(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,p_())),le(s),null;case 26:return o=s.memoizedState,i===null?(ar(s),o!==null?(le(s),L0(s,o)):(le(s),s.flags&=-16777217)):o?o!==i.memoizedState?(ar(s),le(s),L0(s,o)):(le(s),s.flags&=-16777217):(i.memoizedProps!==u&&ar(s),le(s),s.flags&=-16777217),null;case 27:ji(s),o=St.current;var d=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return le(s),null}i=yt.current,Ul(s)?d_(s):(i=LT(d,u,o),s.stateNode=i,ar(s))}return le(s),null;case 5:if(ji(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return le(s),null}if(i=yt.current,Ul(s))d_(s);else{switch(d=Lh(St.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[De]=s,i[be]=u;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=i;t:switch($e(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&ar(s)}}return le(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&ar(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=St.current,Ul(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=hn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[De]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||DT(i.nodeValue,o)),i||ia(s)}else i=Lh(i).createTextNode(u),i[De]=s,s.stateNode=i}return le(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ul(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[De]=s}else jl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;le(s),d=!1}else d=p_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(rr(s),s):(rr(s),null)}if(rr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Sh(s,s.updateQueue),le(s),null;case 4:return hi(),i===null&&hp(s.stateNode.containerInfo),le(s),null;case 10:return nr(s.type),le(s),null;case 19:if(ut(Oe),d=s.memoizedState,d===null)return le(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)eu(d,!1);else{if(de!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=_h(i),g!==null){for(s.flags|=128,eu(d,!1),i=g.updateQueue,s.updateQueue=i,Sh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)h_(o,i),o=o.sibling;return at(Oe,Oe.current&1|2),s.child}i=i.sibling}d.tail!==null&&Dn()>xh&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304)}else{if(!u)if(i=_h(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Sh(s,i),eu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Ft)return le(s),null}else 2*Dn()-d.renderingStartTime>xh&&o!==536870912&&(s.flags|=128,u=!0,eu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(i=d.last,i!==null?i.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Dn(),s.sibling=null,i=Oe.current,at(Oe,u?i&1|2:i&1),s):(le(s),null);case 22:case 23:return rr(s),dm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(le(s),s.subtreeFlags&6&&(s.flags|=8192)):le(s),o=s.updateQueue,o!==null&&Sh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&ut(aa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),nr(Ne),le(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function uC(i,s){switch(Jd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return nr(Ne),hi(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ji(s),null;case 13:if(rr(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));jl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ut(Oe),null;case 4:return hi(),null;case 10:return nr(s.type),null;case 22:case 23:return rr(s),dm(),i!==null&&ut(aa),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return nr(Ne),null;case 25:return null;default:return null}}function U0(i,s){switch(Jd(s),s.tag){case 3:nr(Ne),hi();break;case 26:case 27:case 5:ji(s);break;case 4:hi();break;case 13:rr(s);break;case 19:ut(Oe);break;case 10:nr(s.type);break;case 22:case 23:rr(s),dm(),i!==null&&ut(aa);break;case 24:nr(Ne)}}function nu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(A){Zt(s,s.return,A)}}function qr(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,d=s;var I=o,G=A;try{G()}catch(Z){Zt(d,I,Z)}}}u=u.next}while(u!==g)}}catch(Z){Zt(s,s.return,Z)}}function j0(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{R_(s,o)}catch(u){Zt(i,i.return,u)}}}function B0(i,s,o){o.props=la(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Zt(i,s,u)}}function iu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Zt(i,s,d)}}function wi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Zt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Zt(i,s,d)}else o.current=null}function z0(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Zt(i,i.return,d)}}function zm(i,s,o){try{var u=i.stateNode;DC(u,i.type,o,s),u[be]=s}catch(d){Zt(i,i.return,d)}}function F0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wr(i.type)||i.tag===4}function Fm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||F0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qm(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kh));else if(u!==4&&(u===27&&Wr(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(qm(i,s,o),i=i.sibling;i!==null;)qm(i,s,o),i=i.sibling}function wh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Wr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(wh(i,s,o),i=i.sibling;i!==null;)wh(i,s,o),i=i.sibling}function q0(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);$e(s,u,o),s[De]=i,s[be]=o}catch(g){Zt(i,i.return,g)}}var or=!1,ye=!1,Hm=!1,H0=typeof WeakSet=="function"?WeakSet:Set,Be=null;function cC(i,s){if(i=i.containerInfo,mp=qh,i=e_(i),Fd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,A=-1,I=-1,G=0,Z=0,et=i,K=null;e:for(;;){for(var $;et!==o||d!==0&&et.nodeType!==3||(A=b+d),et!==g||u!==0&&et.nodeType!==3||(I=b+u),et.nodeType===3&&(b+=et.nodeValue.length),($=et.firstChild)!==null;)K=et,et=$;for(;;){if(et===i)break e;if(K===o&&++G===d&&(A=b),K===g&&++Z===u&&(I=b),($=et.nextSibling)!==null)break;et=K,K=et.parentNode}et=$}o=A===-1||I===-1?null:{start:A,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},qh=!1,Be=s;Be!==null;)if(s=Be,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Be=i;else for(;Be!==null;){switch(s=Be,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Et=la(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Et,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(vt){Zt(o,o.return,vt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)vp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Be=i;break}Be=s.return}}function G0(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(i,o),u&4&&nu(5,o);break;case 1:if(Hr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){Zt(o,o.return,b)}else{var d=la(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Zt(o,o.return,b)}}u&64&&j0(o),u&512&&iu(o,o.return);break;case 3:if(Hr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{R_(i,s)}catch(b){Zt(o,o.return,b)}}break;case 27:s===null&&u&4&&q0(o);case 26:case 5:Hr(i,o),s===null&&u&4&&z0(o),u&512&&iu(o,o.return);break;case 12:Hr(i,o);break;case 13:Hr(i,o),u&4&&Y0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=_C.bind(null,o),LC(i,o))));break;case 22:if(u=o.memoizedState!==null||or,!u){s=s!==null&&s.memoizedState!==null||ye,d=or;var g=ye;or=u,(ye=s)&&!g?Gr(i,o,(o.subtreeFlags&8772)!==0):Hr(i,o),or=d,ye=g}break;case 30:break;default:Hr(i,o)}}function K0(i){var s=i.alternate;s!==null&&(i.alternate=null,K0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Pr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var re=null,pn=!1;function lr(i,s,o){for(o=o.child;o!==null;)$0(i,s,o),o=o.sibling}function $0(i,s,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(he,o)}catch{}switch(o.tag){case 26:ye||wi(o,s),lr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ye||wi(o,s);var u=re,d=pn;Wr(o.type)&&(re=o.stateNode,pn=!1),lr(i,s,o),fu(o.stateNode),re=u,pn=d;break;case 5:ye||wi(o,s);case 6:if(u=re,d=pn,re=null,lr(i,s,o),re=u,pn=d,re!==null)if(pn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(o.stateNode)}catch(g){Zt(o,s,g)}else try{re.removeChild(o.stateNode)}catch(g){Zt(o,s,g)}break;case 18:re!==null&&(pn?(i=re,MT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tu(i)):MT(re,o.stateNode));break;case 4:u=re,d=pn,re=o.stateNode.containerInfo,pn=!0,lr(i,s,o),re=u,pn=d;break;case 0:case 11:case 14:case 15:ye||qr(2,o,s),ye||qr(4,o,s),lr(i,s,o);break;case 1:ye||(wi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&B0(o,s,u)),lr(i,s,o);break;case 21:lr(i,s,o);break;case 22:ye=(u=ye)||o.memoizedState!==null,lr(i,s,o),ye=u;break;default:lr(i,s,o)}}function Y0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tu(i)}catch(o){Zt(s,s.return,o)}}function hC(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new H0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new H0),s;default:throw Error(r(435,i.tag))}}function Gm(i,s){var o=hC(i);s.forEach(function(u){var d=TC.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Sn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,b=s,A=b;t:for(;A!==null;){switch(A.tag){case 27:if(Wr(A.type)){re=A.stateNode,pn=!1;break t}break;case 5:re=A.stateNode,pn=!1;break t;case 3:case 4:re=A.stateNode.containerInfo,pn=!0;break t}A=A.return}if(re===null)throw Error(r(160));$0(g,b,d),re=null,pn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Q0(s,i),s=s.sibling}var Zn=null;function Q0(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Sn(s,i),wn(i),u&4&&(qr(3,i,i.return),nu(3,i),qr(5,i,i.return));break;case 1:Sn(s,i),wn(i),u&512&&(ye||o===null||wi(o,o.return)),u&64&&or&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Zn;if(Sn(s,i),wn(i),u&512&&(ye||o===null||wi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ls]||g[De]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),$e(g,u,o),g[De]=i,pe(g),u=g;break t;case"link":var b=qT("link","href",d).get(u+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break e}}g=d.createElement(u),$e(g,u,o),d.head.appendChild(g);break;case"meta":if(b=qT("meta","content",d).get(u+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break e}}g=d.createElement(u),$e(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[De]=i,pe(g),u=g}i.stateNode=u}else HT(d,i.type,i.stateNode);else i.stateNode=FT(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?HT(d,i.type,i.stateNode):FT(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&zm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Sn(s,i),wn(i),u&512&&(ye||o===null||wi(o,o.return)),o!==null&&u&4&&zm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Sn(s,i),wn(i),u&512&&(ye||o===null||wi(o,o.return)),i.flags&32){d=i.stateNode;try{Pn(d,"")}catch($){Zt(i,i.return,$)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,zm(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Hm=!0);break;case 6:if(Sn(s,i),wn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch($){Zt(i,i.return,$)}}break;case 3:if(Bh=null,d=Zn,Zn=Uh(s.containerInfo),Sn(s,i),Zn=d,wn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Tu(s.containerInfo)}catch($){Zt(i,i.return,$)}Hm&&(Hm=!1,X0(i));break;case 4:u=Zn,Zn=Uh(i.stateNode.containerInfo),Sn(s,i),wn(i),Zn=u;break;case 12:Sn(s,i),wn(i);break;case 13:Sn(s,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wm=Dn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gm(i,u)));break;case 22:d=i.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,G=or,Z=ye;if(or=G||d,ye=Z||I,Sn(s,i),ye=Z,or=G,wn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||I||or||ye||ua(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=I.stateNode;var et=I.memoizedProps.style,K=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Zt(I,I.return,$)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=d?"":I.memoizedProps}catch($){Zt(I,I.return,$)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gm(i,o))));break;case 19:Sn(s,i),wn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gm(i,u)));break;case 30:break;case 21:break;default:Sn(s,i),wn(i)}}function wn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(F0(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=Fm(i);wh(i,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(Pn(b,""),o.flags&=-33);var A=Fm(i);wh(i,A,b);break;case 3:case 4:var I=o.stateNode.containerInfo,G=Fm(i);qm(i,G,I);break;default:throw Error(r(161))}}catch(Z){Zt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function X0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;X0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Hr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)G0(i,s.alternate,s),s=s.sibling}function ua(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:qr(4,s,s.return),ua(s);break;case 1:wi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&B0(s,s.return,o),ua(s);break;case 27:fu(s.stateNode);case 26:case 5:wi(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}i=i.sibling}}function Gr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Gr(d,g,o),nu(4,g);break;case 1:if(Gr(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){Zt(u,u.return,G)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var I=d.shared.hiddenCallbacks;if(I!==null)for(d.shared.hiddenCallbacks=null,d=0;d<I.length;d++)w_(I[d],A)}catch(G){Zt(u,u.return,G)}}o&&b&64&&j0(g),iu(g,g.return);break;case 27:q0(g);case 26:case 5:Gr(d,g,o),o&&u===null&&b&4&&z0(g),iu(g,g.return);break;case 12:Gr(d,g,o);break;case 13:Gr(d,g,o),o&&b&4&&Y0(d,g);break;case 22:g.memoizedState===null&&Gr(d,g,o),iu(g,g.return);break;case 30:break;default:Gr(d,g,o)}s=s.sibling}}function Km(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Fl(o))}function $m(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i))}function Ri(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W0(i,s,o,u),s=s.sibling}function W0(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(i,s,o,u),d&2048&&nu(9,s);break;case 1:Ri(i,s,o,u);break;case 3:Ri(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Fl(i)));break;case 12:if(d&2048){Ri(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(I){Zt(s,s.return,I)}}else Ri(i,s,o,u);break;case 13:Ri(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Ri(i,s,o,u):ru(i,s):g._visibility&2?Ri(i,s,o,u):(g._visibility|=2,po(i,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Km(b,s);break;case 24:Ri(i,s,o,u),d&2048&&$m(s.alternate,s);break;default:Ri(i,s,o,u)}}function po(i,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,A=o,I=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:po(g,b,A,I,d),nu(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?po(g,b,A,I,d):ru(g,b):(Z._visibility|=2,po(g,b,A,I,d)),d&&G&2048&&Km(b.alternate,b);break;case 24:po(g,b,A,I,d),d&&G&2048&&$m(b.alternate,b);break;default:po(g,b,A,I,d)}s=s.sibling}}function ru(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:ru(o,u),d&2048&&Km(u.alternate,u);break;case 24:ru(o,u),d&2048&&$m(u.alternate,u);break;default:ru(o,u)}s=s.sibling}}var su=8192;function go(i){if(i.subtreeFlags&su)for(i=i.child;i!==null;)Z0(i),i=i.sibling}function Z0(i){switch(i.tag){case 26:go(i),i.flags&su&&i.memoizedState!==null&&XC(Zn,i.memoizedState,i.memoizedProps);break;case 5:go(i);break;case 3:case 4:var s=Zn;Zn=Uh(i.stateNode.containerInfo),go(i),Zn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=su,su=16777216,go(i),su=s):go(i));break;default:go(i)}}function J0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function au(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,eT(u,i)}J0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tT(i),i=i.sibling}function tT(i){switch(i.tag){case 0:case 11:case 15:au(i),i.flags&2048&&qr(9,i,i.return);break;case 3:au(i);break;case 12:au(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Rh(i)):au(i);break;default:au(i)}}function Rh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Be=u,eT(u,i)}J0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:qr(8,s,s.return),Rh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(s));break;default:Rh(s)}i=i.sibling}}function eT(i,s){for(;Be!==null;){var o=Be;switch(o.tag){case 0:case 11:case 15:qr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Be=u;else t:for(o=i;Be!==null;){u=Be;var d=u.sibling,g=u.return;if(K0(u),u===o){Be=null;break t}if(d!==null){d.return=g,Be=d;break t}Be=g}}}var fC={getCacheForType:function(i){var s=Je(Ne),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},dC=typeof WeakMap=="function"?WeakMap:Map,Kt=0,te=null,Pt=null,jt=0,$t=0,Rn=null,Kr=!1,yo=!1,Ym=!1,ur=0,de=0,$r=0,ca=0,Qm=0,zn=0,vo=0,ou=null,gn=null,Xm=!1,Wm=0,xh=1/0,Ch=null,Yr=null,Ke=0,Qr=null,_o=null,To=0,Zm=0,Jm=null,nT=null,lu=0,tp=null;function xn(){if((Kt&2)!==0&&jt!==0)return jt&-jt;if(W.T!==null){var i=ao;return i!==0?i:op()}return Dr()}function iT(){zn===0&&(zn=(jt&536870912)===0||Ft?yl():536870912);var i=Bn.current;return i!==null&&(i.flags|=32),zn}function Cn(i,s,o){(i===te&&($t===2||$t===9)||i.cancelPendingCommit!==null)&&(Eo(i,0),Xr(i,jt,zn,!1)),zi(i,o),((Kt&2)===0||i!==te)&&(i===te&&((Kt&2)===0&&(ca|=o),de===4&&Xr(i,jt,zn,!1)),xi(i))}function rT(i,s,o){if((Kt&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||ks(i,s),d=u?gC(i,s):ip(i,s,!0),g=u;do{if(d===0){yo&&!u&&Xr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!mC(o)){d=ip(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var A=i;d=ou;var I=A.current.memoizedState.isDehydrated;if(I&&(Eo(A,b).flags|=256),b=ip(A,b,!1),b!==2){if(Ym&&!I){A.errorRecoveryDisabledLanes|=g,ca|=g,d=4;break t}g=gn,gn=d,g!==null&&(gn===null?gn=g:gn.push.apply(gn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Eo(i,0),Xr(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Xr(u,s,zn,!Kr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Wm+300-Dn(),10<d)){if(Xr(u,s,zn,!Kr),La(u,0,!0)!==0)break t;u.timeoutHandle=NT(sT.bind(null,u,o,gn,Ch,Xm,s,zn,ca,vo,Kr,g,2,-0,0),d);break t}sT(u,o,gn,Ch,Xm,s,zn,ca,vo,Kr,g,0,-0,0)}}break}while(!0);xi(i)}function sT(i,s,o,u,d,g,b,A,I,G,Z,et,K,$){if(i.timeoutHandle=-1,et=s.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:QC},Z0(s),et=WC(),et!==null)){i.cancelPendingCommit=et(fT.bind(null,i,s,g,o,u,d,b,A,I,Z,1,K,$)),Xr(i,g,b,!G);return}fT(i,s,g,o,u,d,b,A,I)}function mC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!bn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xr(i,s,o,u){s&=~Qm,s&=~ca,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-Ze(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&fi(i,o,s)}function Ih(){return(Kt&6)===0?(uu(0),!1):!0}function ep(){if(Pt!==null){if($t===0)var i=Pt.return;else i=Pt,er=ra=null,vm(i),fo=null,Jl=0,i=Pt;for(;i!==null;)U0(i.alternate,i),i=i.return;Pt=null}}function Eo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,PC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),ep(),te=i,Pt=o=Zi(i.current,null),jt=s,$t=0,Rn=null,Kr=!1,yo=ks(i,s),Ym=!1,vo=zn=Qm=ca=$r=de=0,gn=ou=null,Xm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-Ze(u),g=1<<d;s|=i[d],u&=~g}return ur=s,Wc(),o}function aT(i,s){Ct=null,W.H=gh,s===Hl||s===ah?(s=A_(),$t=3):s===T_?(s=A_(),$t=4):$t=s===S0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Pt===null&&(de=1,Eh(i,kn(s,i.current)))}function oT(){var i=W.H;return W.H=gh,i===null?gh:i}function lT(){var i=W.A;return W.A=fC,i}function np(){de=4,Kr||(jt&4194048)!==jt&&Bn.current!==null||(yo=!0),($r&134217727)===0&&(ca&134217727)===0||te===null||Xr(te,jt,zn,!1)}function ip(i,s,o){var u=Kt;Kt|=2;var d=oT(),g=lT();(te!==i||jt!==s)&&(Ch=null,Eo(i,s)),s=!1;var b=de;t:do try{if($t!==0&&Pt!==null){var A=Pt,I=Rn;switch($t){case 8:ep(),b=6;break t;case 3:case 2:case 9:case 6:Bn.current===null&&(s=!0);var G=$t;if($t=0,Rn=null,bo(i,A,I,G),o&&yo){b=0;break t}break;default:G=$t,$t=0,Rn=null,bo(i,A,I,G)}}pC(),b=de;break}catch(Z){aT(i,Z)}while(!0);return s&&i.shellSuspendCounter++,er=ra=null,Kt=u,W.H=d,W.A=g,Pt===null&&(te=null,jt=0,Wc()),b}function pC(){for(;Pt!==null;)uT(Pt)}function gC(i,s){var o=Kt;Kt|=2;var u=oT(),d=lT();te!==i||jt!==s?(Ch=null,xh=Dn()+500,Eo(i,s)):yo=ks(i,s);t:do try{if($t!==0&&Pt!==null){s=Pt;var g=Rn;e:switch($t){case 1:$t=0,Rn=null,bo(i,s,g,1);break;case 2:case 9:if(E_(g)){$t=0,Rn=null,cT(s);break}s=function(){$t!==2&&$t!==9||te!==i||($t=7),xi(i)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:E_(g)?($t=0,Rn=null,cT(s)):($t=0,Rn=null,bo(i,s,g,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var A=Pt;if(!b||GT(b)){$t=0,Rn=null;var I=A.sibling;if(I!==null)Pt=I;else{var G=A.return;G!==null?(Pt=G,Dh(G)):Pt=null}break e}}$t=0,Rn=null,bo(i,s,g,5);break;case 6:$t=0,Rn=null,bo(i,s,g,6);break;case 8:ep(),de=6;break t;default:throw Error(r(462))}}yC();break}catch(Z){aT(i,Z)}while(!0);return er=ra=null,W.H=u,W.A=d,Kt=o,Pt!==null?0:(te=null,jt=0,Wc(),de)}function yC(){for(;Pt!==null&&!dl();)uT(Pt)}function uT(i){var s=k0(i.alternate,i,ur);i.memoizedProps=i.pendingProps,s===null?Dh(i):Pt=s}function cT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=D0(o,s,s.pendingProps,s.type,void 0,jt);break;case 11:s=D0(o,s,s.pendingProps,s.type.render,s.ref,jt);break;case 5:vm(s);default:U0(o,s),s=Pt=h_(s,ur),s=k0(o,s,ur)}i.memoizedProps=i.pendingProps,s===null?Dh(i):Pt=s}function bo(i,s,o,u){er=ra=null,vm(s),fo=null,Jl=0;var d=s.return;try{if(aC(i,d,s,o,jt)){de=1,Eh(i,kn(o,i.current)),Pt=null;return}}catch(g){if(d!==null)throw Pt=d,g;de=1,Eh(i,kn(o,i.current)),Pt=null;return}s.flags&32768?(Ft||u===1?i=!0:yo||(jt&536870912)!==0?i=!1:(Kr=i=!0,(u===2||u===9||u===3||u===6)&&(u=Bn.current,u!==null&&u.tag===13&&(u.flags|=16384))),hT(s,i)):Dh(s)}function Dh(i){var s=i;do{if((s.flags&32768)!==0){hT(s,Kr);return}i=s.return;var o=lC(s.alternate,s,ur);if(o!==null){Pt=o;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=i}while(s!==null);de===0&&(de=5)}function hT(i,s){do{var o=uC(i.alternate,i);if(o!==null){o.flags&=32767,Pt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pt=i;return}Pt=i=o}while(i!==null);de=6,Pt=null}function fT(i,s,o,u,d,g,b,A,I){i.cancelPendingCommit=null;do Vh();while(Ke!==0);if((Kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=$d,_l(i,o,g,b,A,I),i===te&&(Pt=te=null,jt=0),_o=s,Qr=i,To=o,Zm=g,Jm=d,nT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EC(Ps,function(){return yT(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=st.p,st.p=2,b=Kt,Kt|=4;try{cC(i,s,o)}finally{Kt=b,st.p=d,W.T=u}}Ke=1,dT(),mT(),pT()}}function dT(){if(Ke===1){Ke=0;var i=Qr,s=_o,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var d=Kt;Kt|=4;try{Q0(s,i);var g=pp,b=e_(i.containerInfo),A=g.focusedElem,I=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&t_(A.ownerDocument.documentElement,A)){if(I!==null&&Fd(A)){var G=I.start,Z=I.end;if(Z===void 0&&(Z=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(Z,A.value.length);else{var et=A.ownerDocument||document,K=et&&et.defaultView||window;if(K.getSelection){var $=K.getSelection(),Et=A.textContent.length,vt=Math.min(I.start,Et),Wt=I.end===void 0?vt:Math.min(I.end,Et);!$.extend&&vt>Wt&&(b=Wt,Wt=vt,vt=b);var z=Jv(A,vt),k=Jv(A,Wt);if(z&&k&&($.rangeCount!==1||$.anchorNode!==z.node||$.anchorOffset!==z.offset||$.focusNode!==k.node||$.focusOffset!==k.offset)){var H=et.createRange();H.setStart(z.node,z.offset),$.removeAllRanges(),vt>Wt?($.addRange(H),$.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),$.addRange(H))}}}}for(et=[],$=A;$=$.parentNode;)$.nodeType===1&&et.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var J=et[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qh=!!mp,pp=mp=null}finally{Kt=d,st.p=u,W.T=o}}i.current=s,Ke=2}}function mT(){if(Ke===2){Ke=0;var i=Qr,s=_o,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=st.p;st.p=2;var d=Kt;Kt|=4;try{G0(i,s.alternate,s)}finally{Kt=d,st.p=u,W.T=o}}Ke=3}}function pT(){if(Ke===4||Ke===3){Ke=0,Rc();var i=Qr,s=_o,o=To,u=nT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ke=5:(Ke=0,_o=Qr=null,gT(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(Yr=null),Ua(o),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=st.p,st.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var A=u[b];g(A.value,{componentStack:A.stack})}}finally{W.T=s,st.p=d}}(To&3)!==0&&Vh(),xi(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===tp?lu++:(lu=0,tp=i):lu=0,uu(0)}}function gT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Fl(s)))}function Vh(i){return dT(),mT(),pT(),yT()}function yT(){if(Ke!==5)return!1;var i=Qr,s=Zm;Zm=0;var o=Ua(To),u=W.T,d=st.p;try{st.p=32>o?32:o,W.T=null,o=Jm,Jm=null;var g=Qr,b=To;if(Ke=0,_o=Qr=null,To=0,(Kt&6)!==0)throw Error(r(331));var A=Kt;if(Kt|=4,tT(g.current),W0(g,g.current,b,o),Kt=A,uu(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(he,g)}catch{}return!0}finally{st.p=d,W.T=u,gT(i,s)}}function vT(i,s,o){s=kn(o,s),s=Pm(i.stateNode,s,2),i=jr(i,s,2),i!==null&&(zi(i,2),xi(i))}function Zt(i,s,o){if(i.tag===3)vT(i,i,o);else for(;s!==null;){if(s.tag===3){vT(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yr===null||!Yr.has(u))){i=kn(o,i),o=b0(2),u=jr(s,o,2),u!==null&&(A0(o,u,s,i),zi(u,2),xi(u));break}}s=s.return}}function rp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new dC;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Ym=!0,d.add(o),i=vC.bind(null,i,s,o),s.then(i,i))}function vC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(jt&o)===o&&(de===4||de===3&&(jt&62914560)===jt&&300>Dn()-Wm?(Kt&2)===0&&Eo(i,0):Qm|=o,vo===jt&&(vo=0)),xi(i)}function _T(i,s){s===0&&(s=vl()),i=no(i,s),i!==null&&(zi(i,s),xi(i))}function _C(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),_T(i,o)}function TC(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),_T(i,o)}function EC(i,s){return Ds(i,s)}var Ph=null,Ao=null,sp=!1,Nh=!1,ap=!1,ha=0;function xi(i){i!==Ao&&i.next===null&&(Ao===null?Ph=Ao=i:Ao=Ao.next=i),Nh=!0,sp||(sp=!0,AC())}function uu(i,s){if(!ap&&Nh){ap=!0;do for(var o=!1,u=Ph;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Ze(42|i)+1)-1,g&=d&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,AT(u,g))}else g=jt,g=La(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ks(u,g)||(o=!0,AT(u,g));u=u.next}while(o);ap=!1}}function bC(){TT()}function TT(){Nh=sp=!1;var i=0;ha!==0&&(VC()&&(i=ha),ha=0);for(var s=Dn(),o=null,u=Ph;u!==null;){var d=u.next,g=ET(u,s);g===0?(u.next=null,o===null?Ph=d:o.next=d,d===null&&(Ao=o)):(o=u,(i!==0||(g&3)!==0)&&(Nh=!0)),u=d}uu(i)}function ET(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-Ze(g),A=1<<b,I=d[b];I===-1?((A&o)===0||(A&u)!==0)&&(d[b]=gl(A,s)):I<=s&&(i.expiredLanes|=A),g&=~A}if(s=te,o=jt,o=La(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&($t===2||$t===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Vs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ks(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Vs(u),Ua(o)){case 2:case 8:o=Ma;break;case 32:o=Ps;break;case 268435456:o=ka;break;default:o=Ps}return u=bT.bind(null,i),o=Ds(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Vs(u),i.callbackPriority=2,i.callbackNode=null,2}function bT(i,s){if(Ke!==0&&Ke!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Vh()&&i.callbackNode!==o)return null;var u=jt;return u=La(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(rT(i,u,s),ET(i,Dn()),i.callbackNode!=null&&i.callbackNode===o?bT.bind(null,i):null)}function AT(i,s){if(Vh())return null;rT(i,s,!0)}function AC(){NC(function(){(Kt&6)!==0?Ds(ml,bC):TT()})}function op(){return ha===0&&(ha=yl()),ha}function ST(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ha(""+i)}function wT(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function SC(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=ST((d[be]||null).action),b=u.submitter;b&&(s=(s=b[be]||null)?ST(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new Ga("action","action",null,u,d);i.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var I=b?wT(d,b):new FormData(d);xm(o,{pending:!0,data:I,method:d.method,action:g},null,I)}}else typeof g=="function"&&(A.preventDefault(),I=b?wT(d,b):new FormData(d),xm(o,{pending:!0,data:I,method:d.method,action:g},g,I))},currentTarget:d}]})}}for(var lp=0;lp<Kd.length;lp++){var up=Kd[lp],wC=up.toLowerCase(),RC=up[0].toUpperCase()+up.slice(1);Wn(wC,"on"+RC)}Wn(r_,"onAnimationEnd"),Wn(s_,"onAnimationIteration"),Wn(a_,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(qx,"onTransitionRun"),Wn(Hx,"onTransitionStart"),Wn(Gx,"onTransitionCancel"),Wn(o_,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function RT(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var A=u[b],I=A.instance,G=A.currentTarget;if(A=A.listener,I!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=G;try{g(d)}catch(Z){Th(Z)}d.currentTarget=null,g=I}else for(b=0;b<u.length;b++){if(A=u[b],I=A.instance,G=A.currentTarget,A=A.listener,I!==g&&d.isPropagationStopped())break t;g=A,d.currentTarget=G;try{g(d)}catch(Z){Th(Z)}d.currentTarget=null,g=I}}}}function Nt(i,s){var o=s[El];o===void 0&&(o=s[El]=new Set);var u=i+"__bubble";o.has(u)||(xT(s,i,2,!1),o.add(u))}function cp(i,s,o){var u=0;s&&(u|=4),xT(o,i,u,s)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Oh]){i[Oh]=!0,bl.forEach(function(o){o!=="selectionchange"&&(xC.has(o)||cp(o,!1,i),cp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Oh]||(s[Oh]=!0,cp("selectionchange",!1,s))}}function xT(i,s,o,u){switch(WT(s)){case 2:var d=tI;break;case 8:d=eI;break;default:d=wp}o=d.bind(null,s,o,i),d=void 0,!On||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function fp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===d)break;if(b===4)for(b=u.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;A!==null;){if(b=Fi(A),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){u=g=b;continue t}A=A.parentNode}}u=u.return}kc(function(){var G=g,Z=Nn(o),et=[];t:{var K=l_.get(i);if(K!==void 0){var $=Ga,Et=i;switch(i){case"keypress":if(vi(o)===0)break t;case"keydown":case"keyup":$=Wa;break;case"focusin":Et="focus",$=Ya;break;case"focusout":Et="blur",$=Ya;break;case"beforeblur":case"afterblur":$=Ya;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Hc;break;case r_:case s_:case a_:$=Qa;break;case o_:$=Kc;break;case"scroll":case"scrollend":$=Lc;break;case"wheel":$=Za;break;case"copy":case"cut":case"paste":$=Xa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Ol;break;case"toggle":case"beforetoggle":$=Yc}var vt=(s&4)!==0,Wt=!vt&&(i==="scroll"||i==="scrollend"),z=vt?K!==null?K+"Capture":null:K;vt=[];for(var k=G,H;k!==null;){var J=k;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||z===null||(J=Hs(k,z),J!=null&&vt.push(hu(k,J,H))),Wt)break;k=k.return}0<vt.length&&(K=new $(K,Et,null,o,Z),et.push({event:K,listeners:vt}))}}if((s&7)===0){t:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&o!==Ki&&(Et=o.relatedTarget||o.fromElement)&&(Fi(Et)||Et[Vn]))break t;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Et=o.relatedTarget||o.toElement,$=G,Et=Et?Fi(Et):null,Et!==null&&(Wt=l(Et),vt=Et.tag,Et!==Wt||vt!==5&&vt!==27&&vt!==6)&&(Et=null)):($=null,Et=G),$!==Et)){if(vt=Mn,J="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(vt=Ol,J="onPointerLeave",z="onPointerEnter",k="pointer"),Wt=$==null?K:mi($),H=Et==null?K:mi(Et),K=new vt(J,k+"leave",$,o,Z),K.target=Wt,K.relatedTarget=H,J=null,Fi(Z)===G&&(vt=new vt(z,k+"enter",Et,o,Z),vt.target=H,vt.relatedTarget=Wt,J=vt),Wt=J,$&&Et)e:{for(vt=$,z=Et,k=0,H=vt;H;H=So(H))k++;for(H=0,J=z;J;J=So(J))H++;for(;0<k-H;)vt=So(vt),k--;for(;0<H-k;)z=So(z),H--;for(;k--;){if(vt===z||z!==null&&vt===z.alternate)break e;vt=So(vt),z=So(z)}vt=null}else vt=null;$!==null&&CT(et,K,$,vt,!1),Et!==null&&Wt!==null&&CT(et,Wt,Et,vt,!0)}}t:{if(K=G?mi(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var mt=$v;else if(Pe(K))if(Yv)mt=Bx;else{mt=Ux;var Vt=Lx}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&xl(G.elementType)&&(mt=$v):mt=jx;if(mt&&(mt=mt(i,G))){Wi(et,mt,o,Z);break t}Vt&&Vt(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Or(K,"number",K.value)}switch(Vt=G?mi(G):window,i){case"focusin":(Pe(Vt)||Vt.contentEditable==="true")&&(Ja=Vt,qd=G,Ll=null);break;case"focusout":Ll=qd=Ja=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,n_(et,o,Z);break;case"selectionchange":if(Fx)break;case"keydown":case"keyup":n_(et,o,Z)}var pt;if(Ei)t:{switch(i){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?Q(i,o)&&(_t="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(_t="onCompositionStart");_t&&(E&&o.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=Il()):(yi=Z,Mr="value"in yi?yi.value:yi.textContent,Lt=!0)),Vt=Mh(G,_t),0<Vt.length&&(_t=new Pl(_t,i,null,o,Z),et.push({event:_t,listeners:Vt}),pt?_t.data=pt:(pt=lt(o),pt!==null&&(_t.data=pt)))),(pt=v?Ve(i,o):Ut(i,o))&&(_t=Mh(G,"onBeforeInput"),0<_t.length&&(Vt=new Pl("onBeforeInput","beforeinput",null,o,Z),et.push({event:Vt,listeners:_t}),Vt.data=pt)),SC(et,i,G,o,Z)}RT(et,s)})}function hu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Mh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Hs(i,o),d!=null&&u.unshift(hu(i,d,g)),d=Hs(i,s),d!=null&&u.push(hu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function CT(i,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var A=o,I=A.alternate,G=A.stateNode;if(A=A.tag,I!==null&&I===u)break;A!==5&&A!==26&&A!==27||G===null||(I=G,d?(G=Hs(o,g),G!=null&&b.unshift(hu(o,G,I))):d||(G=Hs(o,g),G!=null&&b.push(hu(o,G,I)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var CC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function IT(i){return(typeof i=="string"?i:""+i).replace(CC,`
`).replace(IC,"")}function DT(i,s){return s=IT(s),IT(i)===s}function kh(){}function Xt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Pn(i,""+u);break;case"className":pi(i,"class",u);break;case"tabIndex":pi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(i,o,u);break;case"style":Rl(i,u,g);break;case"data":if(s!=="object"){pi(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ha(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Xt(i,s,"name",d.name,d,null),Xt(i,s,"formEncType",d.formEncType,d,null),Xt(i,s,"formMethod",d.formMethod,d,null),Xt(i,s,"formTarget",d.formTarget,d,null)):(Xt(i,s,"encType",d.encType,d,null),Xt(i,s,"method",d.method,d,null),Xt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ha(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=kh);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ha(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Nt("beforetoggle",i),Nt("toggle",i),Nr(i,"popover",u);break;case"xlinkActuate":qe(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qe(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qe(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qe(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qe(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qe(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qe(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qe(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qe(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Nr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kd.get(o)||o,Nr(i,o,u))}}function dp(i,s,o,u,d,g){switch(o){case"style":Rl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&Pn(i,""+u);break;case"onScroll":u!=null&&Nt("scroll",i);break;case"onScrollEnd":u!=null&&Nt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[be]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Nr(i,o,u)}}}function $e(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",i),Nt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xt(i,s,g,b,o,null)}}d&&Xt(i,s,"srcSet",o.srcSet,o,null),u&&Xt(i,s,"src",o.src,o,null);return;case"input":Nt("invalid",i);var A=g=b=d=null,I=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":d=Z;break;case"type":b=Z;break;case"checked":I=Z;break;case"defaultChecked":G=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Xt(i,s,u,Z,o,null)}}zs(i,g,A,I,G,b,d,!1),qa(i);return;case"select":Nt("invalid",i),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:Xt(i,s,d,A,o,null)}s=g,o=b,i.multiple=!!u,s!=null?Gi(i,!!u,s,!1):o!=null&&Gi(i,!!u,o,!0);return;case"textarea":Nt("invalid",i),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Xt(i,s,b,A,o,null)}Fs(i,u,d,g),qa(i);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xt(i,s,I,u,o,null)}return;case"dialog":Nt("beforetoggle",i),Nt("toggle",i),Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":Nt("load",i);break;case"video":case"audio":for(u=0;u<cu.length;u++)Nt(cu[u],i);break;case"image":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"embed":case"source":case"link":Nt("error",i),Nt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xt(i,s,G,u,o,null)}return;default:if(xl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&dp(i,s,Z,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Xt(i,s,A,u,o,null))}function DC(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,A=null,I=null,G=null,Z=null;for($ in o){var et=o[$];if(o.hasOwnProperty($)&&et!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=et;default:u.hasOwnProperty($)||Xt(i,s,$,null,u,et)}}for(var K in u){var $=u[K];if(et=o[K],u.hasOwnProperty(K)&&($!=null||et!=null))switch(K){case"type":g=$;break;case"name":d=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":b=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:$!==et&&Xt(i,s,K,$,u,et)}}En(i,b,A,I,G,Z,g,d);return;case"select":$=b=A=K=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":$=I;default:u.hasOwnProperty(g)||Xt(i,s,g,null,u,I)}for(d in u)if(g=u[d],I=o[d],u.hasOwnProperty(d)&&(g!=null||I!=null))switch(d){case"value":K=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==I&&Xt(i,s,d,g,u,I)}s=A,o=b,u=$,K!=null?Gi(i,!!o,K,!1):!!u!=!!o&&(s!=null?Gi(i,!!o,s,!0):Gi(i,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xt(i,s,A,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":K=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Xt(i,s,b,d,u,g)}Yt(i,K,$);return;case"option":for(var Et in o)if(K=o[Et],o.hasOwnProperty(Et)&&K!=null&&!u.hasOwnProperty(Et))switch(Et){case"selected":i.selected=!1;break;default:Xt(i,s,Et,null,u,K)}for(I in u)if(K=u[I],$=o[I],u.hasOwnProperty(I)&&K!==$&&(K!=null||$!=null))switch(I){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Xt(i,s,I,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in o)K=o[vt],o.hasOwnProperty(vt)&&K!=null&&!u.hasOwnProperty(vt)&&Xt(i,s,vt,null,u,K);for(G in u)if(K=u[G],$=o[G],u.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Xt(i,s,G,K,u,$)}return;default:if(xl(s)){for(var Wt in o)K=o[Wt],o.hasOwnProperty(Wt)&&K!==void 0&&!u.hasOwnProperty(Wt)&&dp(i,s,Wt,void 0,u,K);for(Z in u)K=u[Z],$=o[Z],!u.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||dp(i,s,Z,K,u,$);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Xt(i,s,z,null,u,K);for(et in u)K=u[et],$=o[et],!u.hasOwnProperty(et)||K===$||K==null&&$==null||Xt(i,s,et,K,u,$)}var mp=null,pp=null;function Lh(i){return i.nodeType===9?i:i.ownerDocument}function VT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function gp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yp=null;function VC(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var NT=typeof setTimeout=="function"?setTimeout:void 0,PC=typeof clearTimeout=="function"?clearTimeout:void 0,OT=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof OT<"u"?function(i){return OT.resolve(null).then(i).catch(OC)}:NT;function OC(i){setTimeout(function(){throw i})}function Wr(i){return i==="head"}function MT(i,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&fu(b.documentElement),o&2&&fu(b.body),o&4)for(o=b.head,fu(o),b=o.firstChild;b;){var A=b.nextSibling,I=b.nodeName;b[Ls]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=A}}if(d===0){i.removeChild(g),Tu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Tu(s)}function vp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),Pr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function MC(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ls])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function kC(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function _p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function LC(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Tp=null;function kT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function LT(i,s,o){switch(s=Lh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Pr(i)}var Fn=new Map,UT=new Set;function Uh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var cr=st.d;st.d={f:UC,r:jC,D:BC,C:zC,L:FC,m:qC,X:GC,S:HC,M:KC};function UC(){var i=cr.f(),s=Ih();return i||s}function jC(i){var s=di(i);s!==null&&s.tag===5&&s.type==="form"?r0(s):cr.r(i)}var wo=typeof document>"u"?null:document;function jT(i,s,o){var u=wo;if(u&&typeof s=="string"&&s){var d=Ae(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),UT.has(d)||(UT.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),$e(s,"link",i),pe(s),u.head.appendChild(s)))}}function BC(i){cr.D(i),jT("dns-prefetch",i,null)}function zC(i,s){cr.C(i,s),jT("preconnect",i,s)}function FC(i,s,o){cr.L(i,s,o);var u=wo;if(u&&i&&s){var d='link[rel="preload"][as="'+Ae(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Ae(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Ae(o.imageSizes)+'"]')):d+='[href="'+Ae(i)+'"]';var g=d;switch(s){case"style":g=Ro(i);break;case"script":g=xo(i)}Fn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Fn.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(du(g))||s==="script"&&u.querySelector(mu(g))||(s=u.createElement("link"),$e(s,"link",i),pe(s),u.head.appendChild(s)))}}function qC(i,s){cr.m(i,s);var o=wo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ae(u)+'"][href="'+Ae(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(i)}if(!Fn.has(g)&&(i=y({rel:"modulepreload",href:i},s),Fn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(g)))return}u=o.createElement("link"),$e(u,"link",i),pe(u),o.head.appendChild(u)}}}function HC(i,s,o){cr.S(i,s,o);var u=wo;if(u&&i){var d=ln(u).hoistableStyles,g=Ro(i);s=s||"default";var b=d.get(g);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(du(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Fn.get(g))&&Ep(i,o);var I=b=u.createElement("link");pe(I),$e(I,"link",i),I._p=new Promise(function(G,Z){I.onload=G,I.onerror=Z}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,jh(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:A},d.set(g,b)}}}function GC(i,s){cr.X(i,s);var o=wo;if(o&&i){var u=ln(o).hoistableScripts,d=xo(i),g=u.get(d);g||(g=o.querySelector(mu(d)),g||(i=y({src:i,async:!0},s),(s=Fn.get(d))&&bp(i,s),g=o.createElement("script"),pe(g),$e(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function KC(i,s){cr.M(i,s);var o=wo;if(o&&i){var u=ln(o).hoistableScripts,d=xo(i),g=u.get(d);g||(g=o.querySelector(mu(d)),g||(i=y({src:i,async:!0,type:"module"},s),(s=Fn.get(d))&&bp(i,s),g=o.createElement("script"),pe(g),$e(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function BT(i,s,o,u){var d=(d=St.current)?Uh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ro(o.href),o=ln(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ro(o.href);var g=ln(d).hoistableStyles,b=g.get(i);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=d.querySelector(du(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Fn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Fn.set(i,o),g||$C(d,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=xo(o),o=ln(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ro(i){return'href="'+Ae(i)+'"'}function du(i){return'link[rel="stylesheet"]['+i+"]"}function zT(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function $C(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),$e(s,"link",o),pe(s),i.head.appendChild(s))}function xo(i){return'[src="'+Ae(i)+'"]'}function mu(i){return"script[async]"+i}function FT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Ae(o.href)+'"]');if(u)return s.instance=u,pe(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),pe(u),$e(u,"style",d),jh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Ro(o.href);var g=i.querySelector(du(d));if(g)return s.state.loading|=4,s.instance=g,pe(g),g;u=zT(o),(d=Fn.get(d))&&Ep(u,d),g=(i.ownerDocument||i).createElement("link"),pe(g);var b=g;return b._p=new Promise(function(A,I){b.onload=A,b.onerror=I}),$e(g,"link",u),s.state.loading|=4,jh(g,o.precedence,i),s.instance=g;case"script":return g=xo(o.src),(d=i.querySelector(mu(g)))?(s.instance=d,pe(d),d):(u=o,(d=Fn.get(g))&&(u=y({},o),bp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),pe(d),$e(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,jh(u,o.precedence,i));return s.instance}function jh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===s)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Ep(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Bh=null;function qT(i,s,o){if(Bh===null){var u=new Map,d=Bh=new Map;d.set(o,u)}else d=Bh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ls]||g[De]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var A=u.get(b);A?A.push(g):u.set(b,[g])}}return u}function HT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function YC(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function GT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var pu=null;function QC(){}function XC(i,s,o){if(pu===null)throw Error(r(475));var u=pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Ro(o.href),g=i.querySelector(du(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=zh.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,pe(g);return}g=i.ownerDocument||i,o=zT(o),(d=Fn.get(d))&&Ep(o,d),g=g.createElement("link"),pe(g);var b=g;b._p=new Promise(function(A,I){b.onload=A,b.onerror=I}),$e(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zh.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function WC(){if(pu===null)throw Error(r(475));var i=pu;return i.stylesheets&&i.count===0&&Ap(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Ap(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function zh(){if(this.count--,this.count===0){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fh=null;function Ap(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fh=new Map,s.forEach(ZC,i),Fh=null,zh.call(i))}function ZC(i,s){if(!(s.state.loading&4)){var o=Fh.get(i);if(o)var u=o.get(null);else{o=new Map,Fh.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=zh.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var gu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function JC(i,s,o,u,d,g,b,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function KT(i,s,o,u,d,g,b,A,I,G,Z,et){return i=new JC(i,s,o,b,A,I,G,et),s=1,g===!0&&(s|=24),g=An(3,null,null,s),i.current=g,g.stateNode=i,s=rm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},lm(g),i}function $T(i){return i?(i=io,i):io}function YT(i,s,o,u,d,g){d=$T(d),u.context===null?u.context=d:u.pendingContext=d,u=Ur(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=jr(i,u,s),o!==null&&(Cn(o,i,s),Kl(o,i,s))}function QT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Sp(i,s){QT(i,s),(i=i.alternate)&&QT(i,s)}function XT(i){if(i.tag===13){var s=no(i,67108864);s!==null&&Cn(s,i,67108864),Sp(i,67108864)}}var qh=!0;function tI(i,s,o,u){var d=W.T;W.T=null;var g=st.p;try{st.p=2,wp(i,s,o,u)}finally{st.p=g,W.T=d}}function eI(i,s,o,u){var d=W.T;W.T=null;var g=st.p;try{st.p=8,wp(i,s,o,u)}finally{st.p=g,W.T=d}}function wp(i,s,o,u){if(qh){var d=Rp(u);if(d===null)fp(i,s,u,Hh,o),ZT(i,u);else if(iI(d,i,s,o,u))u.stopPropagation();else if(ZT(i,u),s&4&&-1<nI.indexOf(i)){for(;d!==null;){var g=di(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Yn(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var I=1<<31-Ze(b);A.entanglements[1]|=I,b&=~I}xi(g),(Kt&6)===0&&(xh=Dn()+500,uu(0))}}break;case 13:A=no(g,2),A!==null&&Cn(A,g,2),Ih(),Sp(g,2)}if(g=Rp(u),g===null&&fp(i,s,u,Hh,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else fp(i,s,u,null,o)}}function Rp(i){return i=Nn(i),xp(i)}var Hh=null;function xp(i){if(Hh=null,i=Fi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Hh=i,null}function WT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dd()){case ml:return 2;case Ma:return 8;case Ps:case Vd:return 32;case ka:return 268435456;default:return 32}default:return 32}}var Cp=!1,Zr=null,Jr=null,ts=null,yu=new Map,vu=new Map,es=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZT(i,s){switch(i){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(s.pointerId)}}function _u(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=di(s),s!==null&&XT(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function iI(i,s,o,u,d){switch(s){case"focusin":return Zr=_u(Zr,i,s,o,u,d),!0;case"dragenter":return Jr=_u(Jr,i,s,o,u,d),!0;case"mouseover":return ts=_u(ts,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return yu.set(g,_u(yu.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,vu.set(g,_u(vu.get(g)||null,i,s,o,u,d)),!0}return!1}function JT(i){var s=Fi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Ic(i.priority,function(){if(o.tag===13){var u=xn();u=Ir(u);var d=no(o,u);d!==null&&Cn(d,o,u),Sp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gh(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=Rp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ki=u,o.target.dispatchEvent(u),Ki=null}else return s=di(o),s!==null&&XT(s),i.blockedOn=o,!1;s.shift()}return!0}function tE(i,s,o){Gh(i)&&o.delete(s)}function rI(){Cp=!1,Zr!==null&&Gh(Zr)&&(Zr=null),Jr!==null&&Gh(Jr)&&(Jr=null),ts!==null&&Gh(ts)&&(ts=null),yu.forEach(tE),vu.forEach(tE)}function Kh(i,s){i.blockedOn===s&&(i.blockedOn=null,Cp||(Cp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rI)))}var $h=null;function eE(i){$h!==i&&($h=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){$h===i&&($h=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(xp(u||o)===null)continue;break}var g=di(o);g!==null&&(i.splice(s,3),s-=3,xm(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Tu(i){function s(I){return Kh(I,i)}Zr!==null&&Kh(Zr,i),Jr!==null&&Kh(Jr,i),ts!==null&&Kh(ts,i),yu.forEach(s),vu.forEach(s);for(var o=0;o<es.length;o++){var u=es[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<es.length&&(o=es[0],o.blockedOn===null);)JT(o),o.blockedOn===null&&es.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[be]||null;if(typeof g=="function")b||eE(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[be]||null)A=b.formAction;else if(xp(d)!==null)continue}else A=b.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),eE(o)}}}function Ip(i){this._internalRoot=i}Yh.prototype.render=Ip.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=xn();YT(o,u,i,s,null,null)},Yh.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;YT(i.current,2,null,i,null,null),Ih(),s[Vn]=null}};function Yh(i){this._internalRoot=i}Yh.prototype.unstable_scheduleHydration=function(i){if(i){var s=Dr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<es.length&&s!==0&&s<es[o].priority;o++);es.splice(o,0,i),o===0&&JT(i)}};var nE=t.version;if(nE!=="19.1.0")throw Error(r(527,nE,"19.1.0"));st.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var sI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{he=Qh.inject(sI),Gt=Qh}catch{}}return bu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=v0,g=_0,b=T0,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=KT(i,1,!1,null,null,o,u,d,g,b,A,null),i[Vn]=s.current,hp(i),new Ip(s)},bu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=v0,b=_0,A=T0,I=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(I=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),s=KT(i,1,!0,s,o??null,u,d,g,b,A,I,G),s.context=$T(null),o=s.current,u=xn(),u=Ir(u),d=Ur(u),d.callback=null,jr(o,d,u),o=u,s.current.lanes=o,zi(s,o),xi(s),i[Vn]=s.current,hp(i),new Yh(s)},bu.version="19.1.0",bu}var fE;function pI(){if(fE)return Pp.exports;fE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pp.exports=mI(),Pp.exports}var gI=pI(),Au={},dE;function yI(){if(dE)return Au;dE=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.parse=c,Au.serialize=p;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,R){const x=new l,B=_.length;if(B<2)return x;const U=R?.decode||y;let L=0;do{const X=_.indexOf("=",L);if(X===-1)break;const Y=_.indexOf(";",L),ot=Y===-1?B:Y;if(X>ot){L=_.lastIndexOf(";",X-1)+1;continue}const it=f(_,L,X),ht=m(_,X,it),V=_.slice(it,ht);if(x[V]===void 0){let w=f(_,X+1,ot),C=m(_,ot,w);const P=U(_.slice(w,C));x[V]=P}L=ot+1}while(L<B);return x}function f(_,R,x){do{const B=_.charCodeAt(R);if(B!==32&&B!==9)return R}while(++R<x);return x}function m(_,R,x){for(;R>x;){const B=_.charCodeAt(--R);if(B!==32&&B!==9)return R+1}return x}function p(_,R,x){const B=x?.encode||encodeURIComponent;if(!e.test(_))throw new TypeError(`argument name is invalid: ${_}`);const U=B(R);if(!t.test(U))throw new TypeError(`argument val is invalid: ${R}`);let L=_+"="+U;if(!x)return L;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);L+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);L+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);L+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);L+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(L+="; HttpOnly"),x.secure&&(L+="; Secure"),x.partitioned&&(L+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return L}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function T(_){return a.call(_)==="[object Date]"}return Au}yI();var mE="popstate";function vI(e={}){function t(r,a){let{pathname:l,search:c,hash:f}=r.location;return cg("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:qu(a)}return TI(t,n,null,e)}function ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ai(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _I(){return Math.random().toString(36).substring(2,10)}function pE(e,t){return{usr:e.state,key:e.key,idx:t}}function cg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jo(t):t,state:n,key:t&&t.key||r||_I()}}function qu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Jo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function TI(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function T(){f="POP";let U=y(),L=U==null?null:U-p;p=U,m&&m({action:f,location:B.location,delta:L})}function _(U,L){f="PUSH";let X=cg(B.location,U,L);p=y()+1;let Y=pE(X,p),ot=B.createHref(X);try{c.pushState(Y,"",ot)}catch(it){if(it instanceof DOMException&&it.name==="DataCloneError")throw it;a.location.assign(ot)}l&&m&&m({action:f,location:B.location,delta:1})}function R(U,L){f="REPLACE";let X=cg(B.location,U,L);p=y();let Y=pE(X,p),ot=B.createHref(X);c.replaceState(Y,"",ot),l&&m&&m({action:f,location:B.location,delta:0})}function x(U){return EI(U)}let B={get action(){return f},get location(){return e(a,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(mE,T),m=U,()=>{a.removeEventListener(mE,T),m=null}},createHref(U){return t(a,U)},createURL:x,encodeLocation(U){let L=x(U);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:_,replace:R,go(U){return c.go(U)}};return B}function EI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ae(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:qu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function uS(e,t,n="/"){return bI(e,t,n,!1)}function bI(e,t,n,r){let a=typeof t=="string"?Jo(t):t,l=yr(a.pathname||"/",n);if(l==null)return null;let c=cS(e);AI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=OI(l);f=PI(c[m],p,r)}return f}function cS(e,t=[],n=[],r=""){let a=(l,c,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(ae(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=pr([r,m.relativePath]),y=n.concat(m);l.children&&l.children.length>0&&(ae(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cS(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:DI(p,l.index),routesMeta:y})};return e.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of hS(l.path))a(l,c,f)}),t}function hS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=hS(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function AI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:VI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SI=/^:[\w-]+$/,wI=3,RI=2,xI=1,CI=10,II=-2,gE=e=>e==="*";function DI(e,t){let n=e.split("/"),r=n.length;return n.some(gE)&&(r+=II),t&&(r+=RI),n.filter(a=>!gE(a)).reduce((a,l)=>a+(SI.test(l)?wI:l===""?xI:CI),r)}function VI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function PI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",T=Rf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),_=m.route;if(!T&&p&&n&&!r[r.length-1].route.index&&(T=Rf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:pr([l,T.pathname]),pathnameBase:UI(pr([l,T.pathnameBase])),route:_}),T.pathnameBase!=="/"&&(l=pr([l,T.pathnameBase]))}return c}function Rf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=NI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:T},_)=>{if(y==="*"){let x=f[_]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const R=f[_];return T&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function NI(e,t=!1,n=!0){ai(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function OI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ai(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Jo(e):e;return{pathname:n?n.startsWith("/")?n:kI(n,t):t,search:jI(r),hash:BI(a)}}function kI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function LI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function oy(e){let t=LI(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function ly(e,t,n,r=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},ae(!a.pathname||!a.pathname.includes("?"),kp("?","pathname","search",a)),ae(!a.pathname||!a.pathname.includes("#"),kp("#","pathname","hash",a)),ae(!a.search||!a.search.includes("#"),kp("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let T=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),T-=1;a.pathname=_.join("/")}f=T>=0?t[T]:"/"}let m=MI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var pr=e=>e.join("/").replace(/\/\/+/g,"/"),UI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,BI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var fS=["POST","PUT","PATCH","DELETE"];new Set(fS);var FI=["GET",...fS];new Set(FI);var tl=O.createContext(null);tl.displayName="DataRouter";var Zf=O.createContext(null);Zf.displayName="DataRouterState";var dS=O.createContext({isTransitioning:!1});dS.displayName="ViewTransition";var qI=O.createContext(new Map);qI.displayName="Fetchers";var HI=O.createContext(null);HI.displayName="Await";var ui=O.createContext(null);ui.displayName="Navigation";var oc=O.createContext(null);oc.displayName="Location";var ci=O.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var uy=O.createContext(null);uy.displayName="RouteError";function GI(e,{relative:t}={}){ae(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(ui),{hash:a,pathname:l,search:c}=lc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:pr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function el(){return O.useContext(oc)!=null}function wr(){return ae(el(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(oc).location}var mS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pS(e){O.useContext(ui).static||O.useLayoutEffect(e)}function Rr(){let{isDataRoute:e}=O.useContext(ci);return e?sD():KI()}function KI(){ae(el(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(tl),{basename:t,navigator:n}=O.useContext(ui),{matches:r}=O.useContext(ci),{pathname:a}=wr(),l=JSON.stringify(oy(r)),c=O.useRef(!1);return pS(()=>{c.current=!0}),O.useCallback((m,p={})=>{if(ai(c.current,mS),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=ly(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:pr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}O.createContext(null);function $I(){let{matches:e}=O.useContext(ci),t=e[e.length-1];return t?t.params:{}}function lc(e,{relative:t}={}){let{matches:n}=O.useContext(ci),{pathname:r}=wr(),a=JSON.stringify(oy(n));return O.useMemo(()=>ly(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function YI(e,t){return gS(e,t)}function gS(e,t,n,r){ae(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(ui),{matches:l}=O.useContext(ci),c=l[l.length-1],f=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let L=y&&y.path||"";yS(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let T=wr(),_;if(t){let L=typeof t=="string"?Jo(t):t;ae(p==="/"||L.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),_=L}else _=T;let R=_.pathname||"/",x=R;if(p!=="/"){let L=p.replace(/^\//,"").split("/");x="/"+R.replace(/^\//,"").split("/").slice(L.length).join("/")}let B=uS(e,{pathname:x});ai(y||B!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ai(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=JI(B&&B.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:pr([p,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:pr([p,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,r);return t&&U?O.createElement(oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},U):U}function QI(){let e=rD(),t=zI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:a},n):null,c)}var XI=O.createElement(QI,null),WI=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(ci.Provider,{value:this.props.routeContext},O.createElement(uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZI({routeContext:e,match:t,children:n}){let r=O.useContext(tl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(ci.Provider,{value:e},n)}function JI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=n?.errors;if(l!=null){let m=a.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);ae(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,f=-1;if(n)for(let m=0;m<a.length;m++){let p=a[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:y,errors:T}=n,_=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!T||T[p.route.id]===void 0);if(p.route.lazy||_){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((m,p,y)=>{let T,_=!1,R=null,x=null;n&&(T=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||XI,c&&(f<0&&y===0?(yS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):f===y&&(_=!0,x=p.route.hydrateFallbackElement||null)));let B=t.concat(a.slice(0,y+1)),U=()=>{let L;return T?L=R:_?L=x:p.route.Component?L=O.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=m,O.createElement(ZI,{match:p,routeContext:{outlet:m,matches:B,isDataRoute:n!=null},children:L})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?O.createElement(WI,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:U(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):U()},null)}function cy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(e){let t=O.useContext(tl);return ae(t,cy(e)),t}function eD(e){let t=O.useContext(Zf);return ae(t,cy(e)),t}function nD(e){let t=O.useContext(ci);return ae(t,cy(e)),t}function hy(e){let t=nD(e),n=t.matches[t.matches.length-1];return ae(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function iD(){return hy("useRouteId")}function rD(){let e=O.useContext(uy),t=eD("useRouteError"),n=hy("useRouteError");return e!==void 0?e:t.errors?.[n]}function sD(){let{router:e}=tD("useNavigate"),t=hy("useNavigate"),n=O.useRef(!1);return pS(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{ai(n.current,mS),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var yE={};function yS(e,t,n){!t&&!yE[e]&&(yE[e]=!0,ai(!1,n))}O.memo(aD);function aD({routes:e,future:t,state:n}){return gS(e,void 0,n,t)}function fy({to:e,replace:t,state:n,relative:r}){ae(el(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=O.useContext(ui);ai(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(ci),{pathname:c}=wr(),f=Rr(),m=ly(e,oy(l),c,r==="path"),p=JSON.stringify(m);return O.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:r})},[f,p,r,t,n]),null}function ti(e){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){ae(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Jo(n));let{pathname:m="/",search:p="",hash:y="",state:T=null,key:_="default"}=n,R=O.useMemo(()=>{let x=yr(m,c);return x==null?null:{location:{pathname:x,search:p,hash:y,state:T,key:_},navigationType:r}},[c,m,p,y,T,_,r]);return ai(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:O.createElement(ui.Provider,{value:f},O.createElement(oc.Provider,{children:t,value:R}))}function lD({children:e,location:t}){return YI(hg(e),t)}function hg(e,t=[]){let n=[];return O.Children.forEach(e,(r,a)=>{if(!O.isValidElement(r))return;let l=[...t,a];if(r.type===O.Fragment){n.push.apply(n,hg(r.props.children,l));return}ae(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=hg(r.props.children,l)),n.push(c)}),n}var uf="get",cf="application/x-www-form-urlencoded";function Jf(e){return e!=null&&typeof e.tagName=="string"}function uD(e){return Jf(e)&&e.tagName.toLowerCase()==="button"}function cD(e){return Jf(e)&&e.tagName.toLowerCase()==="form"}function hD(e){return Jf(e)&&e.tagName.toLowerCase()==="input"}function fD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dD(e,t){return e.button===0&&(!t||t==="_self")&&!fD(e)}var Xh=null;function mD(){if(Xh===null)try{new FormData(document.createElement("form"),0),Xh=!1}catch{Xh=!0}return Xh}var pD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lp(e){return e!=null&&!pD.has(e)?(ai(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):e}function gD(e,t){let n,r,a,l,c;if(cD(e)){let f=e.getAttribute("action");r=f?yr(f,t):null,n=e.getAttribute("method")||uf,a=Lp(e.getAttribute("enctype"))||cf,l=new FormData(e)}else if(uD(e)||hD(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?yr(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||uf,a=Lp(e.getAttribute("formenctype"))||Lp(f.getAttribute("enctype"))||cf,l=new FormData(f,e),!mD()){let{name:p,type:y,value:T}=e;if(y==="image"){let _=p?`${p}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else p&&l.append(p,T)}}else{if(Jf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uf,r=null,a=cf,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}function dy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function yD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _D(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await yD(l,n);return c.links?c.links():[]}return[]}));return AD(r.flat(1).filter(vD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vE(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let T=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TD(e,t,{includeHydrateFallback:n}={}){return ED(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ED(e){return[...new Set(e)]}function bD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function AD(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(bD(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var SD=new Set([100,101,204,205]);function wD(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&yr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vS(){let e=O.useContext(tl);return dy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RD(){let e=O.useContext(Zf);return dy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var my=O.createContext(void 0);my.displayName="FrameworkContext";function _S(){let e=O.useContext(my);return dy(e,"You must render this element inside a <HydratedRouter> element"),e}function xD(e,t){let n=O.useContext(my),[r,a]=O.useState(!1),[l,c]=O.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:T}=t,_=O.useRef(null);O.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let B=L=>{L.forEach(X=>{c(X.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return _.current&&U.observe(_.current),()=>{U.disconnect()}}},[e]),O.useEffect(()=>{if(r){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[r]);let R=()=>{a(!0)},x=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,_,{}]:[l,_,{onFocus:Su(f,R),onBlur:Su(m,x),onMouseEnter:Su(p,R),onMouseLeave:Su(y,x),onTouchStart:Su(T,R)}]:[!1,_,{}]}function Su(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function CD({page:e,...t}){let{router:n}=vS(),r=O.useMemo(()=>uS(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(DD,{page:e,matches:r,...t}):null}function ID(e){let{manifest:t,routeModules:n}=_S(),[r,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return _D(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function DD({page:e,matches:t,...n}){let r=wr(),{manifest:a,routeModules:l}=_S(),{basename:c}=vS(),{loaderData:f,matches:m}=RD(),p=O.useMemo(()=>vE(e,t,m,a,r,"data"),[e,t,m,a,r]),y=O.useMemo(()=>vE(e,t,m,a,r,"assets"),[e,t,m,a,r]),T=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,B=!1;if(t.forEach(L=>{let X=a.routes[L.route.id];!X||!X.hasLoader||(!p.some(Y=>Y.route.id===L.route.id)&&L.route.id in f&&l[L.route.id]?.shouldRevalidate||X.hasClientLoader?B=!0:x.add(L.route.id))}),x.size===0)return[];let U=wD(e,c);return B&&x.size>0&&U.searchParams.set("_routes",t.filter(L=>x.has(L.route.id)).map(L=>L.route.id).join(",")),[U.pathname+U.search]},[c,f,r,a,p,t,e,l]),_=O.useMemo(()=>TD(y,a),[y,a]),R=ID(y);return O.createElement(O.Fragment,null,T.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),_.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),R.map(({key:x,link:B})=>O.createElement("link",{key:x,...B})))}function VD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TS&&(window.__reactRouterVersion="7.6.3")}catch{}function PD({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=vI({window:n,v5Compat:!0}));let a=r.current,[l,c]=O.useState({action:a.action,location:a.location}),f=O.useCallback(m=>{O.startTransition(()=>c(m))},[c]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(oD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pa=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:T,..._},R){let{basename:x}=O.useContext(ui),B=typeof p=="string"&&ES.test(p),U,L=!1;if(typeof p=="string"&&B&&(U=p,TS))try{let C=new URL(window.location.href),P=p.startsWith("//")?new URL(C.protocol+p):new URL(p),j=yr(P.pathname,x);P.origin===C.origin&&j!=null?p=j+P.search+P.hash:L=!0}catch{ai(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=GI(p,{relative:a}),[Y,ot,it]=xD(r,_),ht=kD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:T});function V(C){t&&t(C),C.defaultPrevented||ht(C)}let w=O.createElement("a",{..._,...it,href:U||X,onClick:L||l?t:V,ref:VD(R,ot),target:m,"data-discover":!B&&n==="render"?"true":void 0});return Y&&!B?O.createElement(O.Fragment,null,w,O.createElement(CD,{page:X})):w});pa.displayName="Link";var ND=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let T=lc(c,{relative:p.relative}),_=wr(),R=O.useContext(Zf),{navigator:x,basename:B}=O.useContext(ui),U=R!=null&&zD(T)&&f===!0,L=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,X=_.pathname,Y=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(X=X.toLowerCase(),Y=Y?Y.toLowerCase():null,L=L.toLowerCase()),Y&&B&&(Y=yr(Y,B)||Y);const ot=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let it=X===L||!a&&X.startsWith(L)&&X.charAt(ot)==="/",ht=Y!=null&&(Y===L||!a&&Y.startsWith(L)&&Y.charAt(L.length)==="/"),V={isActive:it,isPending:ht,isTransitioning:U},w=it?t:void 0,C;typeof r=="function"?C=r(V):C=[r,it?"active":null,ht?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(V):l;return O.createElement(pa,{...p,"aria-current":w,className:C,ref:y,style:P,to:c,viewTransition:f},typeof m=="function"?m(V):m)});ND.displayName="NavLink";var OD=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=uf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:T,..._},R)=>{let x=jD(),B=BD(f,{relative:p}),U=c.toLowerCase()==="get"?"get":"post",L=typeof f=="string"&&ES.test(f),X=Y=>{if(m&&m(Y),Y.defaultPrevented)return;Y.preventDefault();let ot=Y.nativeEvent.submitter,it=ot?.getAttribute("formmethod")||c;x(ot||Y.currentTarget,{fetcherKey:t,method:it,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:T})};return O.createElement("form",{ref:R,method:U,action:B,onSubmit:r?m:X,..._,"data-discover":!L&&e==="render"?"true":void 0})});OD.displayName="Form";function MD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(e){let t=O.useContext(tl);return ae(t,MD(e)),t}function kD(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Rr(),m=wr(),p=lc(e,{relative:l});return O.useCallback(y=>{if(dD(y,t)){y.preventDefault();let T=n!==void 0?n:qu(m)===qu(p);f(e,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,t,e,a,l,c])}var LD=0,UD=()=>`__${String(++LD)}__`;function jD(){let{router:e}=bS("useSubmit"),{basename:t}=O.useContext(ui),n=iD();return O.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=gD(r,t);if(a.navigate===!1){let y=a.fetcherKey||UD();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function BD(e,{relative:t}={}){let{basename:n}=O.useContext(ui),r=O.useContext(ci);ae(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...lc(e||".",{relative:t})},c=wr();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(T=>T).forEach(T=>f.append("index",T));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:pr([n,l.pathname])),qu(l)}function zD(e,t={}){let n=O.useContext(dS);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bS("useViewTransitionState"),a=lc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=yr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=yr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rf(a.pathname,c)!=null||Rf(a.pathname,l)!=null}[...SD];const FD=()=>{};var _E={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},qD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,T=(l&3)<<4|f>>4;let _=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(_=64)),r.push(n[y],n[T],n[_],n[R])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const T=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||T==null)throw new HD;const _=l<<2|f>>4;if(r.push(_),p!==64){const R=f<<4&240|p>>2;if(r.push(R),T!==64){const x=p<<6&192|T;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GD=function(e){const t=AS(e);return SS.encodeByteArray(t,!0)},xf=function(e){return GD(e).replace(/\./g,"")},wS=function(e){try{return SS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=()=>KD().__FIREBASE_DEFAULTS__,YD=()=>{if(typeof process>"u"||typeof _E>"u")return;const e=_E.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},QD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&wS(e[1]);return t&&JSON.parse(t)},td=()=>{try{return FD()||$D()||YD()||QD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},RS=e=>{var t,n;return(n=(t=td())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},XD=e=>{const t=RS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},xS=()=>{var e;return(e=td())===null||e===void 0?void 0:e.config},CS=e=>{var t;return(t=td())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function IS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[xf(JSON.stringify(n)),xf(JSON.stringify(c)),""].join(".")}const Vu={};function JD(){const e={prod:[],emulator:[]};for(const t of Object.keys(Vu))Vu[t]?e.emulator.push(t):e.prod.push(t);return e}function t2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let TE=!1;function DS(e,t){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Vu[e]===t||Vu[e]||TE)return;Vu[e]=t;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=JD().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function m(_,R){_.setAttribute("width","24"),_.setAttribute("id",R),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{TE=!0,c()},_}function y(_,R){_.setAttribute("id",R),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function T(){const _=t2(r),R=n("text"),x=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),L=n("preprendIcon"),X=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const Y=_.element;f(Y),y(U,B);const ot=p();m(X,L),Y.append(X,x,U,ot),document.body.appendChild(Y)}l?(x.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function n2(){var e;const t=(e=td())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function r2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function s2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function a2(){const e=an();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function o2(){return!n2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function l2(){try{return typeof indexedDB=="object"}catch{return!1}}function u2(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="FirebaseError";class xr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=c2,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?h2(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new xr(a,f,r)}}function h2(e,t){return e.replace(f2,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const f2=/\{\$([^}]+)}/g;function d2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(EE(l)&&EE(c)){if(!wa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function EE(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function m2(e,t){const n=new p2(e,t);return n.subscribe.bind(n)}class p2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g2(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=Up),a.error===void 0&&(a.error=Up),a.complete===void 0&&(a.complete=Up);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(e){return e&&e._delegate?e._delegate:e}class Ra{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new WD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),a=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_2(t))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=da){return this.instances.has(t)}getOptions(t=da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:v2(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=da){return this.component?this.component.multipleInstances?t:da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function v2(e){return e===da?void 0:e}function _2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new y2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ot||(Ot={}));const E2={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},b2=Ot.INFO,A2={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},S2=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=A2[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class py{constructor(t){this.name=t,this._logLevel=b2,this._logHandler=S2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?E2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const w2=(e,t)=>t.some(n=>e instanceof n);let bE,AE;function R2(){return bE||(bE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return AE||(AE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,fg=new WeakMap,PS=new WeakMap,jp=new WeakMap,gy=new WeakMap;function C2(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(cs(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&VS.set(n,e)}).catch(()=>{}),gy.set(t,e),t}function I2(e){if(fg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});fg.set(e,t)}let dg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||PS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function D2(e){dg=e(dg)}function V2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Bp(this),t,...n);return PS.set(r,t.sort?t.sort():[t]),cs(r)}:x2().includes(e)?function(...t){return e.apply(Bp(this),t),cs(VS.get(this))}:function(...t){return cs(e.apply(Bp(this),t))}}function P2(e){return typeof e=="function"?V2(e):(e instanceof IDBTransaction&&I2(e),w2(e,R2())?new Proxy(e,dg):e)}function cs(e){if(e instanceof IDBRequest)return C2(e);if(jp.has(e))return jp.get(e);const t=P2(e);return t!==e&&(jp.set(e,t),gy.set(t,e)),t}const Bp=e=>gy.get(e);function N2(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=cs(c);return r&&c.addEventListener("upgradeneeded",m=>{r(cs(c.result),m.oldVersion,m.newVersion,cs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const O2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],zp=new Map;function SE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zp.get(t))return zp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=M2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||O2.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return zp.set(t,l),l}D2(e=>({...e,get:(t,n,r)=>SE(t,n)||e.get(t,n,r),has:(t,n)=>!!SE(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(L2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function L2(e){const t=e.getComponent();return t?.type==="VERSION"}const mg="@firebase/app",wE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new py("@firebase/app"),U2="@firebase/app-compat",j2="@firebase/analytics-compat",B2="@firebase/analytics",z2="@firebase/app-check-compat",F2="@firebase/app-check",q2="@firebase/auth",H2="@firebase/auth-compat",G2="@firebase/database",K2="@firebase/data-connect",$2="@firebase/database-compat",Y2="@firebase/functions",Q2="@firebase/functions-compat",X2="@firebase/installations",W2="@firebase/installations-compat",Z2="@firebase/messaging",J2="@firebase/messaging-compat",tV="@firebase/performance",eV="@firebase/performance-compat",nV="@firebase/remote-config",iV="@firebase/remote-config-compat",rV="@firebase/storage",sV="@firebase/storage-compat",aV="@firebase/firestore",oV="@firebase/ai",lV="@firebase/firestore-compat",uV="firebase",cV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="[DEFAULT]",hV={[mg]:"fire-core",[U2]:"fire-core-compat",[B2]:"fire-analytics",[j2]:"fire-analytics-compat",[F2]:"fire-app-check",[z2]:"fire-app-check-compat",[q2]:"fire-auth",[H2]:"fire-auth-compat",[G2]:"fire-rtdb",[K2]:"fire-data-connect",[$2]:"fire-rtdb-compat",[Y2]:"fire-fn",[Q2]:"fire-fn-compat",[X2]:"fire-iid",[W2]:"fire-iid-compat",[Z2]:"fire-fcm",[J2]:"fire-fcm-compat",[tV]:"fire-perf",[eV]:"fire-perf-compat",[nV]:"fire-rc",[iV]:"fire-rc-compat",[rV]:"fire-gcs",[sV]:"fire-gcs-compat",[aV]:"fire-fst",[lV]:"fire-fst-compat",[oV]:"fire-vertex","fire-js":"fire-js",[uV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,fV=new Map,gg=new Map;function RE(e,t){try{e.container.addComponent(t)}catch(n){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ho(e){const t=e.name;if(gg.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;gg.set(t,e);for(const n of Cf.values())RE(n,e);for(const n of fV.values())RE(n,e);return!0}function yy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ni(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new uc("app","Firebase",dV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=cV;function NS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:pg,automaticDataCollectionEnabled:!0},t),a=r.name;if(typeof a!="string"||!a)throw hs.create("bad-app-name",{appName:String(a)});if(n||(n=xS()),!n)throw hs.create("no-options");const l=Cf.get(a);if(l){if(wa(n,l.options)&&wa(r,l.config))return l;throw hs.create("duplicate-app",{appName:a})}const c=new T2(a);for(const m of gg.values())c.addComponent(m);const f=new mV(n,r,c);return Cf.set(a,f),f}function OS(e=pg){const t=Cf.get(e);if(!t&&e===pg&&xS())return NS();if(!t)throw hs.create("no-app",{appName:e});return t}function fs(e,t,n){var r;let a=(r=hV[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(f.join(" "));return}Ho(new Ra(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="firebase-heartbeat-database",gV=1,Hu="firebase-heartbeat-store";let Fp=null;function MS(){return Fp||(Fp=N2(pV,gV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hu)}catch(n){console.warn(n)}}}}).catch(e=>{throw hs.create("idb-open",{originalErrorMessage:e.message})})),Fp}async function yV(e){try{const n=(await MS()).transaction(Hu),r=await n.objectStore(Hu).get(kS(e));return await n.done,r}catch(t){if(t instanceof xr)vr.warn(t.message);else{const n=hs.create("idb-get",{originalErrorMessage:t?.message});vr.warn(n.message)}}}async function xE(e,t){try{const r=(await MS()).transaction(Hu,"readwrite");await r.objectStore(Hu).put(t,kS(e)),await r.done}catch(n){if(n instanceof xr)vr.warn(n.message);else{const r=hs.create("idb-set",{originalErrorMessage:n?.message});vr.warn(r.message)}}}function kS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=1024,_V=30;class TV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=CE();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>_V){const c=AV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CE(),{heartbeatsToSend:r,unsentEntries:a}=EV(this._heartbeatsCache.heartbeats),l=xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return vr.warn(n),""}}}function CE(){return new Date().toISOString().substring(0,10)}function EV(e,t=vV){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IE(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),IE(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return l2()?u2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xE(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function IE(e){return xf(JSON.stringify({version:2,heartbeats:e})).length}function AV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(e){Ho(new Ra("platform-logger",t=>new k2(t),"PRIVATE")),Ho(new Ra("heartbeat",t=>new TV(t),"PRIVATE")),fs(mg,wE,e),fs(mg,wE,"esm2017"),fs("fire-js","")}SV("");var wV="firebase",RV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(wV,RV,"app");function vy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xV=LS,US=new uc("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new py("@firebase/auth");function CV(e,...t){If.logLevel<=Ot.WARN&&If.warn(`Auth (${il}): ${e}`,...t)}function hf(e,...t){If.logLevel<=Ot.ERROR&&If.error(`Auth (${il}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,...t){throw Ty(e,...t)}function ri(e,...t){return Ty(e,...t)}function _y(e,t,n){const r=Object.assign(Object.assign({},xV()),{[t]:n});return new uc("auth","Firebase",r).create(t,{appName:e.name})}function Ea(e){return _y(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function IV(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Li(e,"argument-error"),_y(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ty(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return US.create(e,...t)}function At(e,t,...n){if(!e)throw Ty(t,...n)}function dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hf(t),new Error(t)}function _r(e,t){e||dr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function DV(){return DE()==="http:"||DE()==="https:"}function DE(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DV()||r2()||"connection"in navigator)?navigator.onLine:!0}function PV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=e2()||s2()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(e,t){_r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MV=new hc(3e4,6e4);function by(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function rl(e,t,n,r,a={}){return BS(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=cc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return i2()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&nl(e.emulatorConfig.host)&&(p.credentials="include"),jS.fetch()(await zS(e,e.config.apiHost,n,f),p)})}async function BS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},NV),t);try{const a=new LV(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Wh(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Wh(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw Wh(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw _y(e,y,p);Li(e,y)}}catch(a){if(a instanceof xr)throw a;Li(e,"network-request-failed",{message:String(a)})}}async function kV(e,t,n,r,a={}){const l=await rl(e,t,n,r,a);return"mfaPendingCredential"in l&&Li(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function zS(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?Ey(e.config,a):`${e.config.apiScheme}://${a}`;return OV.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class LV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ri(this.auth,"network-request-failed")),MV.get())})}}function Wh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ri(e,t,r);return a.customData._tokenResponse=n,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(e,t){return rl(e,"POST","/v1/accounts:delete",t)}async function Df(e,t){return rl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function jV(e,t=!1){const n=on(e),r=await n.getIdToken(t),a=Ay(r);At(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Pu(qp(a.auth_time)),issuedAtTime:Pu(qp(a.iat)),expirationTime:Pu(qp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function qp(e){return Number(e)*1e3}function Ay(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const a=wS(n);return a?JSON.parse(a):(hf("Failed to decode base64 JWT payload"),null)}catch(a){return hf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function VE(e){const t=Ay(e);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof xr&&BV(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function BV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await Gu(e,Df(n,{idToken:r}));At(a?.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?FS(l.providerUserInfo):[],f=qV(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!f?.length,y=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new vg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,T)}async function FV(e){const t=on(e);await Vf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qV(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function FS(e){return e.map(t=>{var{providerId:n}=t,r=vy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(e,t){const n=await BS(e,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await zS(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return e.emulatorConfig&&nl(e.emulatorConfig.host)&&(m.credentials="include"),jS.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GV(e,t){return rl(e,"POST","/v2/accounts:revokeToken",by(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):VE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=VE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await HV(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new jo;return r&&(At(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(At(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(At(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jo,this.toJSON())}_performRefresh(){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(e,t){At(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class ii{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=vy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Gu(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return jV(this,t)}reload(){return FV(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ii(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ea(this.auth));const t=await this.getIdToken();return await Gu(this,UV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(a=n.email)!==null&&a!==void 0?a:void 0,R=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=n.photoURL)!==null&&c!==void 0?c:void 0,B=(f=n.tenantId)!==null&&f!==void 0?f:void 0,U=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,L=(p=n.createdAt)!==null&&p!==void 0?p:void 0,X=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Y,emailVerified:ot,isAnonymous:it,providerData:ht,stsTokenManager:V}=n;At(Y&&V,t,"internal-error");const w=jo.fromJSON(this.name,V);At(typeof Y=="string",t,"internal-error"),is(T,t.name),is(_,t.name),At(typeof ot=="boolean",t,"internal-error"),At(typeof it=="boolean",t,"internal-error"),is(R,t.name),is(x,t.name),is(B,t.name),is(U,t.name),is(L,t.name),is(X,t.name);const C=new ii({uid:Y,auth:t,email:_,emailVerified:ot,displayName:T,isAnonymous:it,photoURL:x,phoneNumber:R,tenantId:B,stsTokenManager:w,createdAt:L,lastLoginAt:X});return ht&&Array.isArray(ht)&&(C.providerData=ht.map(P=>Object.assign({},P))),U&&(C._redirectEventId=U),C}static async _fromIdTokenResponse(t,n,r=!1){const a=new jo;a.updateFromServerResponse(n);const l=new ii({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Vf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];At(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new jo;f.updateFromIdToken(r);const m=new ii({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function mr(e){_r(e instanceof Function,"Expected a class definition");let t=PE.get(e);return t?(_r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,PE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}qS.type="NONE";const NE=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(e,t,n){return`firebase:${e}:${t}:${n}`}class Bo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=ff(this.userKey,a.apiKey,l),this.fullPersistenceKey=ff("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Df(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Bo(mr(NE),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||mr(NE);const c=ff(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let T;if(typeof y=="string"){const _=await Df(t,{idToken:y}).catch(()=>{});if(!_)break;T=await ii._fromGetAccountInfoResponse(t,_,y)}else T=ii._fromJSON(t,y);p!==l&&(f=T),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Bo(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Bo(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(HS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(QS(t))return"Blackberry";if(XS(t))return"Webos";if(GS(t))return"Safari";if((t.includes("chrome/")||KS(t))&&!t.includes("edge/"))return"Chrome";if(YS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function HS(e=an()){return/firefox\//i.test(e)}function GS(e=an()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function KS(e=an()){return/crios\//i.test(e)}function $S(e=an()){return/iemobile/i.test(e)}function YS(e=an()){return/android/i.test(e)}function QS(e=an()){return/blackberry/i.test(e)}function XS(e=an()){return/webos/i.test(e)}function Sy(e=an()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function KV(e=an()){var t;return Sy(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $V(){return a2()&&document.documentMode===10}function WS(e=an()){return Sy(e)||YS(e)||XS(e)||QS(e)||/windows phone/i.test(e)||$S(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(e,t=[]){let n;switch(e){case"Browser":n=OE(an());break;case"Worker":n=`${OE(an())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(e,t={}){return rl(e,"GET","/v2/passwordPolicy",by(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=6;class WV{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:XV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ME(this),this.idTokenSubscription=new ME(this),this.beforeStateQueue=new YV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=US,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Df(this,{idToken:t}),r=await ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&m?.user&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Vf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(Ea(this));const n=t?on(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QV(this),n=new WV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new uc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await GV(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mr(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&CV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ed(e){return on(e)}class ME{constructor(t){this.auth=t,this.observer=null,this.addObserver=m2(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JV(e){wy=e}function tP(e){return wy.loadJS(e)}function eP(){return wy.gapiScript}function nP(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(e,t){const n=yy(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(wa(l,t??{}))return a;Li(a,"already-initialized")}return n.initialize({options:t})}function rP(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(mr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function sP(e,t,n){const r=ed(e);At(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=JS(t),{host:c,port:f}=aP(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){At(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),At(wa(p,r.config.emulator)&&wa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,nl(c)?(IS(`${l}//${c}${m}`),DS("Auth",!0)):oP()}function JS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aP(e){const t=JS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:kE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:kE(c)}}}function kE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function oP(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(t){return dr("not implemented")}_linkToIdToken(t,n){return dr("not implemented")}_getReauthenticationResolver(t){return dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e,t){return kV(e,"POST","/v1/accounts:signInWithIdp",by(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="http://localhost";class xa extends tw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=vy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new xa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return zo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,zo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,zo(t,n)}buildRequest(){const t={requestUri:lP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=cc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Ry{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends fc{constructor(){super("facebook.com")}static credential(t){return xa._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ss.credentialFromTaggedObject(t)}static credentialFromError(t){return ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ss.credential(t.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return xa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends fc{constructor(){super("github.com")}static credential(t){return xa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return as.credentialFromTaggedObject(t)}static credentialFromError(t){return as.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return as.credential(t.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends fc{constructor(){super("twitter.com")}static credential(t,n){return xa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return os.credential(n,r)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await ii._fromIdTokenResponse(t,r,a),c=LE(r);return new Go({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=LE(r);return new Go({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function LE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends xr{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Pf(t,n,r,a)}}function ew(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(e,l,t,r):l})}async function uP(e,t,n=!1){const r=await Gu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Go._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(e,t,n=!1){const{auth:r}=e;if(ni(r.app))return Promise.reject(Ea(r));const a="reauthenticate";try{const l=await Gu(e,ew(r,a,t,e),n);At(l.idToken,r,"internal-error");const c=Ay(l.idToken);At(c,r,"internal-error");const{sub:f}=c;return At(e.uid===f,r,"user-mismatch"),Go._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hP(e,t,n=!1){if(ni(e.app))return Promise.reject(Ea(e));const r="signIn",a=await ew(e,r,t),l=await Go._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function fP(e,t,n,r){return on(e).onIdTokenChanged(t,n,r)}function dP(e,t,n){return on(e).beforeAuthStateChanged(t,n)}function mP(e,t,n,r){return on(e).onAuthStateChanged(t,n,r)}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1e3,gP=10;class iw extends nw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);$V()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,gP):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}iw.type="LOCAL";const yP=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends nw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}rw.type="SESSION";const sw=rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new nd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await vP(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=xy("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const _=T;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function TP(e){Ii().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function EP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bP(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function AP(){return aw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="firebaseLocalStorageDb",SP=1,Of="firebaseLocalStorage",lw="fbase_key";class dc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(e,t){return e.transaction([Of],t?"readwrite":"readonly").objectStore(Of)}function wP(){const e=indexedDB.deleteDatabase(ow);return new dc(e).toPromise()}function _g(){const e=indexedDB.open(ow,SP);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Of,{keyPath:lw})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Of)?t(r):(r.close(),await wP(),t(await _g()))})})}async function UE(e,t,n){const r=id(e,!0).put({[lw]:t,value:n});return new dc(r).toPromise()}async function RP(e,t){const n=id(e,!1).get(t),r=await new dc(n).toPromise();return r===void 0?null:r.value}function jE(e,t){const n=id(e,!0).delete(t);return new dc(n).toPromise()}const xP=800,CP=3;class uw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _g(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>CP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(AP()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await EP(),!this.activeServiceWorker)return;this.sender=new _P(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||bP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _g();return await UE(t,Nf,"1"),await jE(t,Nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>UE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>RP(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=id(a,!1).getAll();return new dc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uw.type="LOCAL";const IP=uw;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e,t){return t?mr(t):(At(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy extends tw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return zo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return zo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function DP(e){return hP(e.auth,new Cy(e),e.bypassAuthState)}function VP(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),cP(n,new Cy(e),e.bypassAuthState)}async function PP(e){const{auth:t,user:n}=e;return At(n,t,"internal-error"),uP(n,new Cy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return DP;case"linkViaPopup":case"linkViaRedirect":return PP;case"reauthViaPopup":case"reauthViaRedirect":return VP;default:Li(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new hc(2e3,1e4);async function OP(e,t,n){if(ni(e.app))return Promise.reject(ri(e,"operation-not-supported-in-this-environment"));const r=ed(e);IV(e,t,Ry);const a=cw(r,n);return new ga(r,"signInViaPopup",t,a).executeNotNull()}class ga extends hw{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,NP.get())};t()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="pendingRedirect",df=new Map;class kP extends hw{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=df.get(this.auth._key());if(!t){try{const r=await LP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}df.set(this.auth._key(),t)}return this.bypassAuthState||df.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LP(e,t){const n=BP(t),r=jP(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function UP(e,t){df.set(e._key(),t)}function jP(e){return mr(e._redirectPersistence)}function BP(e){return ff(MP,e.config.apiKey,e.name)}async function zP(e,t,n=!1){if(ni(e.app))return Promise.reject(Ea(e));const r=ed(e),a=cw(r,t),c=await new kP(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=10*60*1e3;class qP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!HP(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!fw(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ri(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FP&&this.cachedEventUids.clear(),this.cachedEventUids.has(BE(t))}saveEventToCache(t){this.cachedEventUids.add(BE(t)),this.lastProcessedEventTime=Date.now()}}function BE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function fw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function HP(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(e,t={}){return rl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$P=/^https?/;async function YP(e){if(e.config.emulator)return;const{authorizedDomains:t}=await GP(e);for(const n of t)try{if(QP(n))return}catch{}Li(e,"unauthorized-domain")}function QP(e){const t=yg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!$P.test(n))return!1;if(KP.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new hc(3e4,6e4);function zE(){const e=Ii().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function WP(e){return new Promise((t,n)=>{var r,a,l;function c(){zE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(ri(e,"network-request-failed"))},timeout:XP.get()})}if(!((a=(r=Ii().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ii().gapi)===null||l===void 0)&&l.load)c();else{const f=nP("iframefcb");return Ii()[f]=()=>{gapi.load?c():n(ri(e,"network-request-failed"))},tP(`${eP()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw mf=null,t})}let mf=null;function ZP(e){return mf=mf||WP(e),mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=new hc(5e3,15e3),tN="__/auth/iframe",eN="emulator/auth/iframe",nN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rN(e){const t=e.config;At(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ey(t,eN):`https://${e.config.authDomain}/${tN}`,r={apiKey:t.apiKey,appName:e.name,v:il},a=iN.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${cc(r).slice(1)}`}async function sN(e){const t=await ZP(e),n=Ii().gapi;return At(n,e,"internal-error"),t.open({where:document.body,url:rN(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nN,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ri(e,"network-request-failed"),f=Ii().setTimeout(()=>{l(c)},JP.get());function m(){Ii().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oN=500,lN=600,uN="_blank",cN="http://localhost";class FE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hN(e,t,n,r=oN,a=lN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},aN),{width:r.toString(),height:a.toString(),top:l,left:c}),p=an().toLowerCase();n&&(f=KS(p)?uN:n),HS(p)&&(t=t||cN,m.scrollbars="yes");const y=Object.entries(m).reduce((_,[R,x])=>`${_}${R}=${x},`,"");if(KV(p)&&f!=="_self")return fN(t||"",f),new FE(null);const T=window.open(t||"",f,y);At(T,e,"popup-blocked");try{T.focus()}catch{}return new FE(T)}function fN(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="__/auth/handler",mN="emulator/auth/handler",pN=encodeURIComponent("fac");async function qE(e,t,n,r,a,l){At(e.config.authDomain,e,"auth-domain-config-required"),At(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:il,eventId:a};if(t instanceof Ry){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",d2(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(t instanceof fc){const y=t.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${pN}=${encodeURIComponent(m)}`:"";return`${gN(e)}?${cc(f).slice(1)}${p}`}function gN({config:e}){return e.emulator?Ey(e,mN):`https://${e.authDomain}/${dN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="webStorageSupport";class yN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sw,this._completeRedirectFn=zP,this._overrideRedirectResult=UP}async _openPopup(t,n,r,a){var l;_r((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await qE(t,n,r,yg(),a);return hN(t,c,xy())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await qE(t,n,r,yg(),a);return TP(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(_r(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await sN(t),r=new qP(t);return n.register("authEvent",a=>(At(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Hp,{type:Hp},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[Hp];c!==void 0&&n(!!c),Li(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YP(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return WS()||GS()||Sy()}}const vN=yN;var HE="@firebase/auth",GE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EN(e){Ho(new Ra("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;At(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(e)},p=new ZV(r,a,l,m);return rP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ho(new Ra("auth-internal",t=>{const n=ed(t.getProvider("auth").getImmediate());return(r=>new _N(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(HE,GE,TN(e)),fs(HE,GE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=5*60,AN=CS("authIdTokenMaxAge")||bN;let KE=null;const SN=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AN)return;const a=n?.token;KE!==a&&(KE=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wN(e=OS()){const t=yy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=iP(e,{popupRedirectResolver:vN,persistence:[IP,yP,sw]}),r=CS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=SN(l.toString());dP(n,c,()=>c(n.currentUser)),fP(n,f=>c(f))}}const a=RS("auth");return a&&sP(n,`http://${a}`),n}function RN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}JV({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=ri("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",RN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EN("Browser");var $E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,dw;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function C(){}C.prototype=w.prototype,V.D=w.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(P,j,F){for(var D=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)D[Ee-2]=arguments[Ee];return w.prototype[j].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,w,C){C||(C=0);var P=Array(16);if(typeof w=="string")for(var j=0;16>j;++j)P[j]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(j=0;16>j;++j)P[j]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=V.g[0],C=V.g[1],j=V.g[2];var F=V.g[3],D=w+(F^C&(j^F))+P[0]+3614090360&4294967295;w=C+(D<<7&4294967295|D>>>25),D=F+(j^w&(C^j))+P[1]+3905402710&4294967295,F=w+(D<<12&4294967295|D>>>20),D=j+(C^F&(w^C))+P[2]+606105819&4294967295,j=F+(D<<17&4294967295|D>>>15),D=C+(w^j&(F^w))+P[3]+3250441966&4294967295,C=j+(D<<22&4294967295|D>>>10),D=w+(F^C&(j^F))+P[4]+4118548399&4294967295,w=C+(D<<7&4294967295|D>>>25),D=F+(j^w&(C^j))+P[5]+1200080426&4294967295,F=w+(D<<12&4294967295|D>>>20),D=j+(C^F&(w^C))+P[6]+2821735955&4294967295,j=F+(D<<17&4294967295|D>>>15),D=C+(w^j&(F^w))+P[7]+4249261313&4294967295,C=j+(D<<22&4294967295|D>>>10),D=w+(F^C&(j^F))+P[8]+1770035416&4294967295,w=C+(D<<7&4294967295|D>>>25),D=F+(j^w&(C^j))+P[9]+2336552879&4294967295,F=w+(D<<12&4294967295|D>>>20),D=j+(C^F&(w^C))+P[10]+4294925233&4294967295,j=F+(D<<17&4294967295|D>>>15),D=C+(w^j&(F^w))+P[11]+2304563134&4294967295,C=j+(D<<22&4294967295|D>>>10),D=w+(F^C&(j^F))+P[12]+1804603682&4294967295,w=C+(D<<7&4294967295|D>>>25),D=F+(j^w&(C^j))+P[13]+4254626195&4294967295,F=w+(D<<12&4294967295|D>>>20),D=j+(C^F&(w^C))+P[14]+2792965006&4294967295,j=F+(D<<17&4294967295|D>>>15),D=C+(w^j&(F^w))+P[15]+1236535329&4294967295,C=j+(D<<22&4294967295|D>>>10),D=w+(j^F&(C^j))+P[1]+4129170786&4294967295,w=C+(D<<5&4294967295|D>>>27),D=F+(C^j&(w^C))+P[6]+3225465664&4294967295,F=w+(D<<9&4294967295|D>>>23),D=j+(w^C&(F^w))+P[11]+643717713&4294967295,j=F+(D<<14&4294967295|D>>>18),D=C+(F^w&(j^F))+P[0]+3921069994&4294967295,C=j+(D<<20&4294967295|D>>>12),D=w+(j^F&(C^j))+P[5]+3593408605&4294967295,w=C+(D<<5&4294967295|D>>>27),D=F+(C^j&(w^C))+P[10]+38016083&4294967295,F=w+(D<<9&4294967295|D>>>23),D=j+(w^C&(F^w))+P[15]+3634488961&4294967295,j=F+(D<<14&4294967295|D>>>18),D=C+(F^w&(j^F))+P[4]+3889429448&4294967295,C=j+(D<<20&4294967295|D>>>12),D=w+(j^F&(C^j))+P[9]+568446438&4294967295,w=C+(D<<5&4294967295|D>>>27),D=F+(C^j&(w^C))+P[14]+3275163606&4294967295,F=w+(D<<9&4294967295|D>>>23),D=j+(w^C&(F^w))+P[3]+4107603335&4294967295,j=F+(D<<14&4294967295|D>>>18),D=C+(F^w&(j^F))+P[8]+1163531501&4294967295,C=j+(D<<20&4294967295|D>>>12),D=w+(j^F&(C^j))+P[13]+2850285829&4294967295,w=C+(D<<5&4294967295|D>>>27),D=F+(C^j&(w^C))+P[2]+4243563512&4294967295,F=w+(D<<9&4294967295|D>>>23),D=j+(w^C&(F^w))+P[7]+1735328473&4294967295,j=F+(D<<14&4294967295|D>>>18),D=C+(F^w&(j^F))+P[12]+2368359562&4294967295,C=j+(D<<20&4294967295|D>>>12),D=w+(C^j^F)+P[5]+4294588738&4294967295,w=C+(D<<4&4294967295|D>>>28),D=F+(w^C^j)+P[8]+2272392833&4294967295,F=w+(D<<11&4294967295|D>>>21),D=j+(F^w^C)+P[11]+1839030562&4294967295,j=F+(D<<16&4294967295|D>>>16),D=C+(j^F^w)+P[14]+4259657740&4294967295,C=j+(D<<23&4294967295|D>>>9),D=w+(C^j^F)+P[1]+2763975236&4294967295,w=C+(D<<4&4294967295|D>>>28),D=F+(w^C^j)+P[4]+1272893353&4294967295,F=w+(D<<11&4294967295|D>>>21),D=j+(F^w^C)+P[7]+4139469664&4294967295,j=F+(D<<16&4294967295|D>>>16),D=C+(j^F^w)+P[10]+3200236656&4294967295,C=j+(D<<23&4294967295|D>>>9),D=w+(C^j^F)+P[13]+681279174&4294967295,w=C+(D<<4&4294967295|D>>>28),D=F+(w^C^j)+P[0]+3936430074&4294967295,F=w+(D<<11&4294967295|D>>>21),D=j+(F^w^C)+P[3]+3572445317&4294967295,j=F+(D<<16&4294967295|D>>>16),D=C+(j^F^w)+P[6]+76029189&4294967295,C=j+(D<<23&4294967295|D>>>9),D=w+(C^j^F)+P[9]+3654602809&4294967295,w=C+(D<<4&4294967295|D>>>28),D=F+(w^C^j)+P[12]+3873151461&4294967295,F=w+(D<<11&4294967295|D>>>21),D=j+(F^w^C)+P[15]+530742520&4294967295,j=F+(D<<16&4294967295|D>>>16),D=C+(j^F^w)+P[2]+3299628645&4294967295,C=j+(D<<23&4294967295|D>>>9),D=w+(j^(C|~F))+P[0]+4096336452&4294967295,w=C+(D<<6&4294967295|D>>>26),D=F+(C^(w|~j))+P[7]+1126891415&4294967295,F=w+(D<<10&4294967295|D>>>22),D=j+(w^(F|~C))+P[14]+2878612391&4294967295,j=F+(D<<15&4294967295|D>>>17),D=C+(F^(j|~w))+P[5]+4237533241&4294967295,C=j+(D<<21&4294967295|D>>>11),D=w+(j^(C|~F))+P[12]+1700485571&4294967295,w=C+(D<<6&4294967295|D>>>26),D=F+(C^(w|~j))+P[3]+2399980690&4294967295,F=w+(D<<10&4294967295|D>>>22),D=j+(w^(F|~C))+P[10]+4293915773&4294967295,j=F+(D<<15&4294967295|D>>>17),D=C+(F^(j|~w))+P[1]+2240044497&4294967295,C=j+(D<<21&4294967295|D>>>11),D=w+(j^(C|~F))+P[8]+1873313359&4294967295,w=C+(D<<6&4294967295|D>>>26),D=F+(C^(w|~j))+P[15]+4264355552&4294967295,F=w+(D<<10&4294967295|D>>>22),D=j+(w^(F|~C))+P[6]+2734768916&4294967295,j=F+(D<<15&4294967295|D>>>17),D=C+(F^(j|~w))+P[13]+1309151649&4294967295,C=j+(D<<21&4294967295|D>>>11),D=w+(j^(C|~F))+P[4]+4149444226&4294967295,w=C+(D<<6&4294967295|D>>>26),D=F+(C^(w|~j))+P[11]+3174756917&4294967295,F=w+(D<<10&4294967295|D>>>22),D=j+(w^(F|~C))+P[2]+718787259&4294967295,j=F+(D<<15&4294967295|D>>>17),D=C+(F^(j|~w))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+j&4294967295,V.g[3]=V.g[3]+F&4294967295}r.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var C=w-this.blockSize,P=this.B,j=this.h,F=0;F<w;){if(j==0)for(;F<=C;)a(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<w;)if(P[j++]=V.charCodeAt(F++),j==this.blockSize){a(this,P),j=0;break}}else for(;F<w;)if(P[j++]=V[F++],j==this.blockSize){a(this,P),j=0;break}}this.h=j,this.o+=w},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var C=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=C&255,C/=256;for(this.u(V),V=Array(16),w=C=0;4>w;++w)for(var P=0;32>P;P+=8)V[C++]=this.g[w]>>>P&255;return V};function l(V,w){var C=f;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=w(V)}function c(V,w){this.h=w;for(var C=[],P=!0,j=V.length-1;0<=j;j--){var F=V[j]|0;P&&F==w||(C[j]=F,P=!1)}this.g=C}var f={};function m(V){return-128<=V&&128>V?l(V,function(w){return new c([w|0],0>w?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return U(p(-V));for(var w=[],C=1,P=0;V>=C;P++)w[P]=V/C|0,C*=4294967296;return new c(w,0)}function y(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return U(y(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(w,8)),P=T,j=0;j<V.length;j+=8){var F=Math.min(8,V.length-j),D=parseInt(V.substring(j,j+F),w);8>F?(F=p(Math.pow(w,F)),P=P.j(F).add(p(D))):(P=P.j(C),P=P.add(p(D)))}return P}var T=m(0),_=m(1),R=m(16777216);e=c.prototype,e.m=function(){if(B(this))return-U(this).m();for(var V=0,w=1,C=0;C<this.g.length;C++){var P=this.i(C);V+=(0<=P?P:4294967296+P)*w,w*=4294967296}return V},e.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(B(this))return"-"+U(this).toString(V);for(var w=p(Math.pow(V,6)),C=this,P="";;){var j=ot(C,w).g;C=L(C,j.j(w));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=j,x(C))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},e.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function B(V){return V.h==-1}e.l=function(V){return V=L(this,V),B(V)?-1:x(V)?0:1};function U(V){for(var w=V.g.length,C=[],P=0;P<w;P++)C[P]=~V.g[P];return new c(C,~V.h).add(_)}e.abs=function(){return B(this)?U(this):this},e.add=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0,j=0;j<=w;j++){var F=P+(this.i(j)&65535)+(V.i(j)&65535),D=(F>>>16)+(this.i(j)>>>16)+(V.i(j)>>>16);P=D>>>16,F&=65535,D&=65535,C[j]=D<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function L(V,w){return V.add(U(w))}e.j=function(V){if(x(this)||x(V))return T;if(B(this))return B(V)?U(this).j(U(V)):U(U(this).j(V));if(B(V))return U(this.j(U(V)));if(0>this.l(R)&&0>V.l(R))return p(this.m()*V.m());for(var w=this.g.length+V.g.length,C=[],P=0;P<2*w;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<V.g.length;j++){var F=this.i(P)>>>16,D=this.i(P)&65535,Ee=V.i(j)>>>16,oe=V.i(j)&65535;C[2*P+2*j]+=D*oe,X(C,2*P+2*j),C[2*P+2*j+1]+=F*oe,X(C,2*P+2*j+1),C[2*P+2*j+1]+=D*Ee,X(C,2*P+2*j+1),C[2*P+2*j+2]+=F*Ee,X(C,2*P+2*j+2)}for(P=0;P<w;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=w;P<2*w;P++)C[P]=0;return new c(C,0)};function X(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function Y(V,w){this.g=V,this.h=w}function ot(V,w){if(x(w))throw Error("division by zero");if(x(V))return new Y(T,T);if(B(V))return w=ot(U(V),w),new Y(U(w.g),U(w.h));if(B(w))return w=ot(V,U(w)),new Y(U(w.g),w.h);if(30<V.g.length){if(B(V)||B(w))throw Error("slowDivide_ only works with positive integers.");for(var C=_,P=w;0>=P.l(V);)C=it(C),P=it(P);var j=ht(C,1),F=ht(P,1);for(P=ht(P,2),C=ht(C,2);!x(P);){var D=F.add(P);0>=D.l(V)&&(j=j.add(C),F=D),P=ht(P,1),C=ht(C,1)}return w=L(V,j.j(w)),new Y(j,w)}for(j=T;0<=V.l(w);){for(C=Math.max(1,Math.floor(V.m()/w.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),F=p(C),D=F.j(w);B(D)||0<D.l(V);)C-=P,F=p(C),D=F.j(w);x(F)&&(F=_),j=j.add(F),V=L(V,D)}return new Y(j,V)}e.A=function(V){return ot(this,V).h},e.and=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)&V.i(P);return new c(C,this.h&V.h)},e.or=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)|V.i(P);return new c(C,this.h|V.h)},e.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),C=[],P=0;P<w;P++)C[P]=this.i(P)^V.i(P);return new c(C,this.h^V.h)};function it(V){for(var w=V.g.length+1,C=[],P=0;P<w;P++)C[P]=V.i(P)<<1|V.i(P-1)>>>31;return new c(C,V.h)}function ht(V,w){var C=w>>5;w%=32;for(var P=V.g.length-C,j=[],F=0;F<P;F++)j[F]=0<w?V.i(F+C)>>>w|V.i(F+C+1)<<32-w:V.i(F+C);return new c(j,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ds=c}).apply(typeof $E<"u"?$E:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mw,Ru,pw,pf,Tg,gw,yw,vw;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var E=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in E))break t;E=E[q]}h=h[h.length-1],S=E[h],v=v(S),v!=S&&v!=null&&t(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,S=!1,q={next:function(){if(!S&&E<h.length){var Q=E++;return{value:v(Q,h[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function T(h,v,E){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),h.apply(v,q)}}return function(){return h.apply(v,arguments)}}function _(h,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,_.apply(null,arguments)}function R(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function x(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(S,q,Q){for(var lt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)lt[Lt-2]=arguments[Lt];return v.prototype[q].apply(S,lt)}}function B(h){const v=h.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=h[S];return E}return[]}function U(h,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(m(S)){const q=h.length||0,Q=S.length||0;h.length=q+Q;for(let lt=0;lt<Q;lt++)h[q+lt]=S[lt]}else h.push(S)}}class L{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function X(h){return/^[\s\xa0]*$/.test(h)}function Y(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function ot(h){return ot[" "](h),h}ot[" "]=function(){};var it=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ht(h,v,E){for(const S in h)v.call(E,h[S],S,h)}function V(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function w(h){const v={};for(const E in h)v[E]=h[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let E,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(E in S)h[E]=S[E];for(let Q=0;Q<C.length;Q++)E=C[Q],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function j(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function F(h){f.setTimeout(()=>{throw h},0)}function D(){var h=kt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ee{constructor(){this.h=this.g=null}add(v,E){const S=oe.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new L(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,kt=new Ee,N=()=>{const h=f.Promise.resolve(void 0);st=()=>{h.then(rt)}};var rt=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(E){F(E)}var v=oe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}dt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};f.addEventListener("test",E,v),f.removeEventListener("test",E,v)}catch{}return h}();function Dt(h,v){if(at.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(it){t:{try{ot(v.nodeName);var q=!0;break t}catch{}q=!1}q||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:St[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Dt.aa.h.call(this)}}x(Dt,at);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function hi(h,v,E,S,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=q,this.key=++Jt,this.da=this.fa=!1}function Cr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ji(h){this.src=h,this.g={},this.h=0}ji.prototype.add=function(h,v,E,S,q){var Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);var lt=Ds(h,v,S,q);return-1<lt?(v=h[lt],E||(v.fa=!1)):(v=new hi(v,this.src,Q,!!S,q),v.fa=E,h.push(v)),v};function Is(h,v){var E=v.type;if(E in h.g){var S=h.g[E],q=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(S,q,1),Q&&(Cr(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ds(h,v,E,S){for(var q=0;q<h.length;++q){var Q=h[q];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==S)return q}return-1}var Vs="closure_lm_"+(1e6*Math.random()|0),dl={};function Rc(h,v,E,S,q){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)Rc(h,v[Q],E,S,q);return null}return E=xc(E),h&&h[ke]?h.K(v,E,p(S)?!!S.capture:!1,q):Dn(h,v,E,!1,S,q)}function Dn(h,v,E,S,q,Q){if(!v)throw Error("Invalid event type");var lt=p(q)?!!q.capture:!!q,Lt=ka(h);if(Lt||(h[Vs]=Lt=new ji(h)),E=Lt.add(v,E,S,lt,Q),E.proxy)return E;if(S=Dd(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)yt||(q=lt),q===void 0&&(q=!1),h.addEventListener(v.toString(),S,q);else if(h.attachEvent)h.attachEvent(Ps(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Dd(){function h(E){return v.call(h.src,h.listener,E)}const v=Vd;return h}function ml(h,v,E,S,q){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)ml(h,v[Q],E,S,q);else S=p(S)?!!S.capture:!!S,E=xc(E),h&&h[ke]?(h=h.i,v=String(v).toString(),v in h.g&&(Q=h.g[v],E=Ds(Q,E,S,q),-1<E&&(Cr(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete h.g[v],h.h--)))):h&&(h=ka(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ds(v,E,S,q)),(E=-1<h?v[h]:null)&&Ma(E))}function Ma(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ke])Is(v.i,h);else{var E=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(E,S,h.capture):v.detachEvent?v.detachEvent(Ps(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=ka(v))?(Is(E,h),E.h==0&&(E.src=null,v[Vs]=null)):Cr(h)}}}function Ps(h){return h in dl?dl[h]:dl[h]="on"+h}function Vd(h,v){if(h.da)h=!0;else{v=new Dt(v,this);var E=h.listener,S=h.ha||h.src;h.fa&&Ma(h),h=E.call(S,v)}return h}function ka(h){return h=h[Vs],h instanceof ji?h:null}var pl="__closure_events_fn_"+(1e9*Math.random()>>>0);function xc(h){return typeof h=="function"?h:(h[pl]||(h[pl]=function(v){return h.handleEvent(v)}),h[pl])}function he(){ut.call(this),this.i=new ji(this),this.M=this,this.F=null}x(he,ut),he.prototype[ke]=!0,he.prototype.removeEventListener=function(h,v,E,S){ml(this,h,v,E,S)};function Gt(h,v){var E,S=h.F;if(S)for(E=[];S;S=S.F)E.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new at(v,h);else if(v instanceof at)v.target=v.target||h;else{var q=v;v=new at(S,h),P(v,q)}if(q=!0,E)for(var Q=E.length-1;0<=Q;Q--){var lt=v.g=E[Q];q=Tn(lt,S,!0,v)&&q}if(lt=v.g=h,q=Tn(lt,S,!0,v)&&q,q=Tn(lt,S,!1,v)&&q,E)for(Q=0;Q<E.length;Q++)lt=v.g=E[Q],q=Tn(lt,S,!1,v)&&q}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],S=0;S<E.length;S++)Cr(E[S]);delete h.g[v],h.h--}}this.F=null},he.prototype.K=function(h,v,E,S){return this.i.add(String(h),v,!1,E,S)},he.prototype.L=function(h,v,E,S){return this.i.add(String(h),v,!0,E,S)};function Tn(h,v,E,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,Q=0;Q<v.length;++Q){var lt=v[Q];if(lt&&!lt.da&&lt.capture==E){var Lt=lt.listener,Ve=lt.ha||lt.src;lt.fa&&Is(h.i,lt),q=Lt.call(Ve,S)!==!1&&q}}return q&&!S.defaultPrevented}function Ze(h,v,E){if(typeof h=="function")E&&(h=_(h,E));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function Cc(h){h.g=Ze(()=>{h.g=null,h.i&&(h.i=!1,Cc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Pd extends ut{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(h){ut.call(this),this.h=h,this.g={}}x(Ns,ut);var Os=[];function Ms(h){ht(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ma(v)},h),h.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Ms(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=f.JSON.stringify,La=f.JSON.parse,ks=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function gl(){}gl.prototype.h=null;function yl(h){return h.h||(h.h=h.i())}function vl(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){at.call(this,"d")}x(zi,at);function _l(){at.call(this,"c")}x(_l,at);var fi={},Tl=null;function Ir(){return Tl=Tl||new he}fi.La="serverreachability";function Ua(h){at.call(this,fi.La,h)}x(Ua,at);function Dr(h){const v=Ir();Gt(v,new Ua(v))}fi.STAT_EVENT="statevent";function Ic(h,v){at.call(this,fi.STAT_EVENT,h),this.stat=v}x(Ic,at);function ie(h){const v=Ir();Gt(v,new Ic(v,h))}fi.Ma="timingevent";function De(h,v){at.call(this,fi.Ma,h),this.size=v}x(De,at);function be(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function El(h,v,E,S,q,Q){h.info(function(){if(h.g)if(Q)for(var lt="",Lt=Q.split("&"),Ve=0;Ve<Lt.length;Ve++){var Ut=Lt[Ve].split("=");if(1<Ut.length){var Ue=Ut[0];Ut=Ut[1];var Pe=Ue.split("_");lt=2<=Pe.length&&Pe[1]=="type"?lt+(Ue+"="+Ut+"&"):lt+(Ue+"=redacted&")}}else lt=null;else lt=Q;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+E+`
`+lt})}function Nd(h,v,E,S,q,Q,lt){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+E+`
`+Q+" "+lt})}function Vr(h,v,E,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ls(h,E)+(S?" "+S:"")})}function Dc(h,v){h.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function Ls(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var S=E[h];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var lt=1;lt<q.length;lt++)q[lt]=""}}}}return Yn(E)}catch{return v}}var Pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function mi(){}x(mi,gl),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},di=new mi;function ln(h,v,E,S){this.j=h,this.i=v,this.l=E,this.R=S||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}var bl={},ja={};function Qn(h,v,E){h.L=1,h.v=Fs(En(v)),h.m=E,h.P=!0,qi(h,null)}function qi(h,v){h.F=Date.now(),Us(h),h.A=En(h.v);var E=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Cl(E.i,"t",S),h.C=0,E=h.j.J,h.h=new pe,h.g=Kc(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Pd(_(h.Y,h,h.g),h.O)),v=h.U,E=h.g,S=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(Os[0]=q.toString()),q=Os);for(var Q=0;Q<q.length;Q++){var lt=Rc(E,q[Q],S||v.handleEvent,!1,v.h||v);if(!lt)break;v.g[lt.key]=lt}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Dr(),El(h.i,h.u,h.A,h.l,h.R,h.m)}ln.prototype.ca=function(h){h=h.target;const v=this.M;v&&Mn(h)==3?v.j():this.Y(h)},ln.prototype.Y=function(h){try{if(h==this.g)t:{const Pe=Mn(this.g);var v=this.g.Ba();const Wi=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Uc(this.g)))){this.J||Pe!=4||v==7||(v==8||0>=Wi?Dr(3):Dr(2)),Nr(this);var E=this.g.Z();this.X=E;e:if(Vc(this)){var S=Uc(this.g);h="";var q=S.length,Q=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qe(this),pi(this);var lt="";break e}this.h.i=new f.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,h+=this.h.i.decode(S[v],{stream:!(Q&&v==q-1)});S.length=0,this.h.g+=h,this.C=0,lt=this.h.g}else lt=this.g.oa();if(this.o=E==200,Nd(this.i,this.u,this.A,this.l,this.R,Pe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ve=this.g;if((Lt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Lt)){var Ut=Lt;break e}}Ut=null}if(E=Ut)Vr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,js(this,E);else{this.o=!1,this.s=3,ie(12),qe(this),pi(this);break t}}if(this.P){E=!0;let He;for(;!this.J&&this.C<lt.length;)if(He=Pc(this,lt),He==ja){Pe==4&&(this.s=4,ie(14),E=!1),Vr(this.i,this.l,null,"[Incomplete Response]");break}else if(He==bl){this.s=4,ie(15),Vr(this.i,this.l,lt,"[Invalid Chunk]"),E=!1;break}else Vr(this.i,this.l,He,null),js(this,He);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||lt.length!=0||this.h.h||(this.s=1,ie(16),E=!1),this.o=this.o&&E,!E)Vr(this.i,this.l,lt,"[Invalid Chunked Response]"),qe(this),pi(this);else if(0<lt.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+lt.length),Xs(Ue),Ue.M=!0,ie(11))}}else Vr(this.i,this.l,lt,null),js(this,lt);Pe==4&&qe(this),this.o&&!this.J&&(Pe==4?qc(this.j,this):(this.o=!1,Us(this)))}else Ud(this.g),E==400&&0<lt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),qe(this),pi(this)}}}catch{}finally{}};function Vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pc(h,v){var E=h.C,S=v.indexOf(`
`,E);return S==-1?ja:(E=Number(v.substring(E,S)),isNaN(E)?bl:(S+=1,S+E>v.length?ja:(v=v.slice(S,S+E),h.C=S+E,v)))}ln.prototype.cancel=function(){this.J=!0,qe(this)};function Us(h){h.S=Date.now()+h.I,Nc(h,h.I)}function Nc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=be(_(h.ba,h),v)}function Nr(h){h.B&&(f.clearTimeout(h.B),h.B=null)}ln.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Dc(this.i,this.A),this.L!=2&&(Dr(),ie(17)),qe(this),this.s=2,pi(this)):Nc(this,this.S-h)};function pi(h){h.j.G==0||h.J||qc(h.j,h)}function qe(h){Nr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ms(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function js(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Al(E.h,h))){if(!h.K&&Al(E.h,h)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Wa(E),Qa(E);else break t;Nl(E),ie(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=be(_(E.Za,E),6e3));if(1>=za(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Xi(E,11)}else if((h.K||E.g==h)&&Wa(E),!X(v))for(q=E.Da.g.parse(v),v=0;v<q.length;v++){let Ut=q[v];if(E.T=Ut[0],Ut=Ut[1],E.G==2)if(Ut[0]=="c"){E.K=Ut[1],E.ia=Ut[2];const Ue=Ut[3];Ue!=null&&(E.la=Ue,E.j.info("VER="+E.la));const Pe=Ut[4];Pe!=null&&(E.Aa=Pe,E.j.info("SVER="+E.Aa));const Wi=Ut[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(S=1.5*Wi,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const He=h.g;if(He){const bi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var Q=S.h;Q.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Fa(Q,Q.h),Q.h=null))}if(S.D){const Ml=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(S.ya=Ml,Yt(S.I,S.D,Ml))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var lt=h;if(S.qa=Gc(S,S.J?S.ia:null,S.W),lt.K){un(S.h,lt);var Lt=lt,Ve=S.L;Ve&&(Lt.I=Ve),Lt.B&&(Nr(Lt),Us(Lt)),S.g=lt}else zc(S);0<E.i.length&&Xa(E)}else Ut[0]!="stop"&&Ut[0]!="close"||Xi(E,7);else E.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Xi(E,7):Vl(E):Ut[0]!="noop"&&E.l&&E.l.ta(Ut),E.v=0)}}Dr(4)}catch{}}var Oc=class{constructor(h,v){this.g=h,this.map=v}};function Hi(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ba(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function za(h){return h.h?1:h.g?h.g.size:0}function Al(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Fa(h,v){h.g?h.g.add(v):h.h=v}function un(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Hi.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return B(h.i)}function Od(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],E=h.length,S=0;S<E;S++)v.push(h[S]);return v}v=[],E=0;for(S in h)v[E++]=h[S];return v}function qa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const S in h)v[E++]=S;return v}}}function wl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=qa(h),S=Od(h),q=S.length,Q=0;Q<q;Q++)v.call(void 0,S[Q],E&&E[Q],h)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var S=h[E].indexOf("="),q=null;if(0<=S){var Q=h[E].substring(0,S);q=h[E].substring(S+1)}else Q=h[E];v(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ae(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ae){this.h=h.h,zs(this,h.j),this.o=h.o,this.g=h.g,Or(this,h.s),this.l=h.l;var v=h.i,E=new Ki;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Gi(this,E),this.m=h.m}else h&&(v=String(h).match(Bs))?(this.h=!1,zs(this,v[1]||"",!0),this.o=Pn(v[2]||""),this.g=Pn(v[3]||"",!0),Or(this,v[4]),this.l=Pn(v[5]||"",!0),Gi(this,v[6]||"",!0),this.m=Pn(v[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Ae.prototype.toString=function(){var h=[],v=this.j;v&&h.push(qs(v,Rl,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(qs(v,Rl,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(qs(E,E.charAt(0)=="/"?kd:xl,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",qs(E,Ha)),h.join("")};function En(h){return new Ae(h)}function zs(h,v,E){h.j=E?Pn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Or(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Gi(h,v,E){v instanceof Ki?(h.i=v,kc(h.i,h.h)):(E||(v=qs(v,Ld)),h.i=new Ki(v,h.h))}function Yt(h,v,E){h.i.set(v,E)}function Fs(h){return Yt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Pn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function qs(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Mc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Mc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Rl=/[#\/\?@]/g,xl=/[#\?:]/g,kd=/[#\?]/g,Ld=/[#\?@]/g,Ha=/#/g;function Ki(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Md(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Ki.prototype,e.add=function(h,v){Nn(this),this.i=null,h=gi(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function $i(h,v){Nn(h),v=gi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Yi(h,v){return Nn(h),v=gi(h,v),h.g.has(v)}e.forEach=function(h,v){Nn(this),this.g.forEach(function(E,S){E.forEach(function(q){h.call(v,q,S,this)},this)},this)},e.na=function(){Nn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const q=h[S];for(let Q=0;Q<q.length;Q++)E.push(v[S])}return E},e.V=function(h){Nn(this);let v=[];if(typeof h=="string")Yi(this,h)&&(v=v.concat(this.g.get(gi(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},e.set=function(h,v){return Nn(this),this.i=null,h=gi(this,h),Yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Cl(h,v,E){$i(h,v),0<E.length&&(h.i=null,h.g.set(gi(h,v),B(E)),h.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const Q=encodeURIComponent(String(S)),lt=this.V(S);for(S=0;S<lt.length;S++){var q=Q;lt[S]!==""&&(q+="="+encodeURIComponent(String(lt[S]))),h.push(q)}}return this.i=h.join("&")};function gi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function kc(h,v){v&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(E,S){var q=S.toLowerCase();S!=q&&($i(this,S),Cl(this,q,E))},h)),h.j=v}function Hs(h,v){const E=new Vn;if(f.Image){const S=new Image;S.onload=R(On,E,"TestLoadImage: loaded",!0,v,S),S.onerror=R(On,E,"TestLoadImage: error",!1,v,S),S.onabort=R(On,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=R(On,E,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Xn(h,v){const E=new Vn,S=new AbortController,q=setTimeout(()=>{S.abort(),On(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(q),Q.ok?On(E,"TestPingServer: ok",!0,v):On(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),On(E,"TestPingServer: error",!1,v)})}function On(h,v,E,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(E)}catch{}}function Gs(){this.g=new ks}function yi(h,v,E){const S=E||"";try{wl(h,function(q,Q){let lt=q;p(q)&&(lt=Yn(q)),v.push(S+Q+"="+encodeURIComponent(lt))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Mr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(Mr,gl),Mr.prototype.g=function(){return new Qi(this.l,this.j)},Mr.prototype.i=function(h){return function(){return h}}({});function Qi(h,v){he.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qi,he),e=Qi.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,_i(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Il(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Il(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?vi(this):_i(this),this.readyState==3&&Il(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,vi(this))},e.Qa=function(h){this.g&&(this.response=h,vi(this))},e.ga=function(){this.g&&vi(this)};function vi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,_i(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function _i(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Dl(h){let v="";return ht(h,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Le(h,v,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=Dl(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Yt(h,v,E))}function qt(h){he.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qt,he);var Ga=/^https?$/i,Ks=["POST","PUT"];e=qt.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?yl(this.o):yl(di),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Lc(this,Q);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)E.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())E.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ks,v,void 0))||S||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,lt]of E)this.g.setRequestHeader(Q,lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$s(this),this.u=!0,this.g.send(h),this.u=!1}catch(Q){Lc(this,Q)}};function Lc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Ka(h),Ti(h)}function Ka(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Gt(this,"complete"),Gt(this,"abort"),Ti(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),qt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},e.bb=function(){$a(this)};function $a(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Mn(h)!=4||h.Z()!=2)){if(h.u&&Mn(h)==4)Ze(h.Ea,0,h);else if(Gt(h,"readystatechange"),Mn(h)==4){h.h=!1;try{const lt=h.Z();t:switch(lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var S;if(S=lt===0){var q=String(h.D).match(Bs)[1]||null;!q&&f.self&&f.self.location&&(q=f.self.location.protocol.slice(0,-1)),S=!Ga.test(q?q.toLowerCase():"")}E=S}if(E)Gt(h,"complete"),Gt(h,"success");else{h.m=6;try{var Q=2<Mn(h)?h.g.statusText:""}catch{Q=""}h.l=Q+" ["+h.Z()+"]",Ka(h)}}finally{Ti(h)}}}}function Ti(h,v){if(h.g){$s(h);const E=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Gt(h,"ready");try{E.onreadystatechange=S}catch{}}}function $s(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function Mn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),La(v)}};function Uc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ud(h){const v={};h=(h.g&&2<=Mn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(X(h[S]))continue;var E=j(h[S]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[q]||[];v[q]=Q,Q.push(E)}V(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Ya(h){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,h),this.cb=Ys("retryDelaySeedMs",1e4,h),this.Wa=Ys("forwardChannelMaxRetries",2,h),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(h&&h.concurrentRequestLimit),this.Da=new Gs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Ya.prototype,e.la=8,e.G=1,e.connect=function(h,v,E,S){ie(0),this.W=h,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=Gc(this,null,this.W),Xa(this)};function Vl(h){if(jc(h),h.G==3){var v=h.U++,E=En(h.I);if(Yt(E,"SID",h.K),Yt(E,"RID",v),Yt(E,"TYPE","terminate"),Qs(h,E),v=new ln(h,h.j,v),v.L=2,v.v=Fs(En(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&f.Image&&(new Image().src=v.v,E=!0),E||(v.g=Kc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Us(v)}Hc(h)}function Qa(h){h.g&&(Xs(h),h.g.cancel(),h.g=null)}function jc(h){Qa(h),h.u&&(f.clearTimeout(h.u),h.u=null),Wa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function Xa(h){if(!Ba(h.h)&&!h.s){h.s=!0;var v=h.Ga;st||N(),dt||(st(),dt=!0),kt.add(v,h),h.B=0}}function jd(h,v){return za(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=be(_(h.Ga,h,v),Ol(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new ln(this,this.j,h);let Q=this.o;if(this.S&&(Q?(Q=w(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Bc(this,q,v),E=En(this.I),Yt(E,"RID",h),Yt(E,"CVER",22),this.D&&Yt(E,"X-HTTP-Session-Id",this.D),Qs(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(Dl(Q)))+"&"+v:this.m&&Le(E,this.m,Q)),Fa(this.h,q),this.Ua&&Yt(E,"TYPE","init"),this.P?(Yt(E,"$req",v),Yt(E,"SID","null"),q.T=!0,Qn(q,E,null)):Qn(q,E,v),this.G=2}}else this.G==3&&(h?Pl(this,h):this.i.length==0||Ba(this.h)||Pl(this))};function Pl(h,v){var E;v?E=v.l:E=h.U++;const S=En(h.I);Yt(S,"SID",h.K),Yt(S,"RID",E),Yt(S,"AID",h.T),Qs(h,S),h.m&&h.o&&Le(S,h.m,h.o),E=new ln(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Bc(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Fa(h.h,E),Qn(E,S,v)}function Qs(h,v){h.H&&ht(h.H,function(E,S){Yt(v,S,E)}),h.l&&wl({},function(E,S){Yt(v,S,E)})}function Bc(h,v,E){E=Math.min(h.i.length,E);var S=h.l?_(h.l.Na,h.l,h):null;t:{var q=h.i;let Q=-1;for(;;){const lt=["count="+E];Q==-1?0<E?(Q=q[0].g,lt.push("ofs="+Q)):Q=0:lt.push("ofs="+Q);let Lt=!0;for(let Ve=0;Ve<E;Ve++){let Ut=q[Ve].g;const Ue=q[Ve].map;if(Ut-=Q,0>Ut)Q=Math.max(0,q[Ve].g-100),Lt=!1;else try{yi(Ue,lt,"req"+Ut+"_")}catch{S&&S(Ue)}}if(Lt){S=lt.join("&");break t}}}return h=h.i.splice(0,E),v.D=h,S}function zc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;st||N(),dt||(st(),dt=!0),kt.add(v,h),h.v=0}}function Nl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=be(_(h.Fa,h),Ol(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=be(_(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Qa(this),Fc(this))};function Xs(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Fc(h){h.g=new ln(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=En(h.qa);Yt(v,"RID","rpc"),Yt(v,"SID",h.K),Yt(v,"AID",h.T),Yt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Yt(v,"TO",h.ja),Yt(v,"TYPE","xmlhttp"),Qs(h,v),h.m&&h.o&&Le(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Fs(En(v)),E.m=null,E.P=!0,qi(E,h)}e.Za=function(){this.C!=null&&(this.C=null,Qa(this),Nl(this),ie(19))};function Wa(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function qc(h,v){var E=null;if(h.g==v){Wa(h),Xs(h),h.g=null;var S=2}else if(Al(h.h,v))E=v.D,un(h.h,v),S=1;else return;if(h.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var q=h.B;S=Ir(),Gt(S,new De(S,E)),Xa(h)}else zc(h);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&jd(h,v)||S==2&&Nl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),q){case 1:Xi(h,5);break;case 4:Xi(h,10);break;case 3:Xi(h,6);break;default:Xi(h,2)}}}function Ol(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function Xi(h,v){if(h.j.info("Error code "+v),v==2){var E=_(h.fb,h),S=h.Xa;const q=!S;S=new Ae(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zs(S,"https"),Fs(S),q?Hs(S.toString(),E):Xn(S.toString(),E)}else ie(2);h.G=0,h.l&&h.l.sa(v),Hc(h),jc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Hc(h){if(h.G=0,h.ka=[],h.l){const v=Sl(h.h);(v.length!=0||h.i.length!=0)&&(U(h.ka,v),U(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Gc(h,v,E){var S=E instanceof Ae?En(E):new Ae(E);if(S.g!="")v&&(S.g=v+"."+S.g),Or(S,S.s);else{var q=f.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var Q=new Ae(null);S&&zs(Q,S),v&&(Q.g=v),q&&Or(Q,q),E&&(Q.l=E),S=Q}return E=h.D,v=h.ya,E&&v&&Yt(S,E,v),Yt(S,"VER",h.la),Qs(h,S),S}function Kc(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new qt(new Mr({eb:E})):new qt(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function $c(){}e=$c.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Za(){}Za.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){he.call(this),this.g=new Ya(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!X(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!X(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ei(this)}x(cn,he),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Vl(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Yn(h),h=E);v.i.push(new Oc(v.Ya++,h)),v.G==3&&Xa(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,cn.aa.N.call(this)};function Yc(h){zi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const E in v){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(Yc,zi);function Qc(){_l.call(this),this.status=1}x(Qc,_l);function Ei(h){this.g=h}x(Ei,$c),Ei.prototype.ua=function(){Gt(this.g,"a")},Ei.prototype.ta=function(h){Gt(this.g,new Yc(h))},Ei.prototype.sa=function(h){Gt(this.g,new Qc)},Ei.prototype.ra=function(){Gt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,vw=function(){return new Za},yw=function(){return Ir()},gw=fi,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,pf=Pr,Fi.COMPLETE="complete",pw=Fi,vl.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",he.prototype.listen=he.prototype.K,Ru=vl,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,mw=qt}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const YE="@firebase/firestore",QE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new py("@firebase/firestore");function Io(){return Ca.logLevel}function ft(e,...t){if(Ca.logLevel<=Ot.DEBUG){const n=t.map(Iy);Ca.debug(`Firestore (${sl}): ${e}`,...n)}}function Tr(e,...t){if(Ca.logLevel<=Ot.ERROR){const n=t.map(Iy);Ca.error(`Firestore (${sl}): ${e}`,...n)}}function ps(e,...t){if(Ca.logLevel<=Ot.WARN){const n=t.map(Iy);Ca.warn(`Firestore (${sl}): ${e}`,...n)}}function Iy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,_w(e,r,n)}function _w(e,t,n){let r=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Tr(r),new Error(r)}function Ht(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||_w(t,a,r)}function Rt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends xr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class CN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IN{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new gr,t.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;t.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new gr)}},0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new Tw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class DN{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VN{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new DN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const r=l=>{l.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const a=l=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new XE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new XE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=NN(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function It(e,t){return e<t?-1:e>t?1:0}function Eg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return It(r,a);{const l=Ew(),c=ON(l.encode(WE(e,n)),l.encode(WE(t,n)));return c!==0?c:It(r,a)}}n+=r>65535?2:1}return It(e.length,t.length)}function WE(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ON(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return It(e[n],t[n]);return It(e.length,t.length)}function Ko(e,t,n){return e.length===t.length&&e.every((r,a)=>n(r,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="__name__";class Ci{constructor(t,n,r){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Tt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Ci.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return It(t.length,n.length)}static compareSegments(t,n){const r=Ci.isNumericId(t),a=Ci.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ci.extractNumericId(t).compare(Ci.extractNumericId(n)):Eg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ds.fromString(t.substring(4,t.length-2))}}class ee extends Ci{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ee(n)}static emptyPath(){return new ee([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Ci{construct(t,n,r){return new Xe(t,n,r)}static isValidIdentifier(t){return MN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ZE}static keyField(){return new Xe([ZE])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(ee.fromString(t))}static fromName(t){return new gt(ee.fromString(t).popFirst(5))}static empty(){return new gt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new ee(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(e,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kN(e,t,n,r){if(t===!0&&r===!0)throw new ct(tt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function JE(e){if(!gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tb(e){if(gt.isDocumentKey(e))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Aw(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function rd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Tt(12329,{type:typeof e})}function oi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rd(e);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(e,t){const n={typeString:e};return t&&(n.value=t),n}function mc(e,t){if(!Aw(e))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=-62135596800,nb=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*nb);return new ne(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<eb)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nb}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mc(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-eb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ie("string",ne._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ne(0,0))}static max(){return new wt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function LN(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=wt.fromTimestamp(r===1e9?new ne(n+1,0):new ne(n,r));return new gs(a,gt.empty(),t)}function UN(e){return new gs(e.readTime,e.key,Ku)}class gs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(wt.min(),gt.empty(),Ku)}static max(){return new gs(wt.max(),gt.empty(),Ku)}}function jN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=gt.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(e){if(e.code!==tt.FAILED_PRECONDITION||e.message!==BN)throw e;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):nt.reject(n)}static resolve(t){return new nt((n,r)=>{n(t)})}static reject(t){return new nt((n,r)=>{r(t)})}static waitFor(t){return new nt((n,r)=>{let a=0,l=0,c=!1;t.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&n()},m=>r(m))}),c=!0,l===a&&n()})}static or(t){let n=nt.resolve(!1);for(const r of t)n=n.next(a=>a?nt.resolve(a):r());return n}static forEach(t,n){const r=[];return t.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(t,n){return new nt((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next(y=>{c[p]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(t,n){return new nt((r,a)=>{const l=()=>{t()===!0?n().next(()=>{l()},a):r()};l()})}}function FN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}sd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function ad(e){return e==null}function Mf(e){return e===0&&1/e==-1/0}function qN(e){return typeof e=="number"&&Number.isInteger(e)&&!Mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="";function HN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ib(t)),t=GN(e.get(n),t);return ib(t)}function GN(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case Sw:n+="";break;default:n+=l}}return n}function ib(e){return e+Sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ws(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ww(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??Qe.RED,this.left=a??Qe.EMPTY,this.right=l??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new Qe(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return Qe.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new sb(this.data.getIterator())}getIteratorFrom(t){return new sb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Me(this.comparator);return n.data=t,n}}class sb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let n=new Me(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new In(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ko(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}}(t);return new We(n)}static fromUint8Array(t){const n=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const KN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(e){if(Ht(!!e,39018),typeof e=="string"){let t=0;const n=KN.exec(e);if(Ht(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_e(e.seconds),nanos:_e(e.nanos)}}function _e(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vs(e){return typeof e=="string"?We.fromBase64String(e):We.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="server_timestamp",Cw="__type__",Iw="__previous_value__",Dw="__local_write_time__";function Py(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Cw])===null||n===void 0?void 0:n.stringValue)===xw}function od(e){const t=e.mapValue.fields[Iw];return Py(t)?od(t):t}function $u(e){const t=ys(e.mapValue.fields[Dw].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n,r,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const kf="(default)";class Yu{constructor(t,n){this.projectId=t,this.database=n||kf}static empty(){return new Yu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(t){return t instanceof Yu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="__type__",YN="__max__",tf={mapValue:{}},Pw="__vector__",Lf="value";function _s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Py(e)?4:XN(e)?9007199254740991:QN(e)?10:11:Tt(28295,{value:e})}function Ui(e,t){if(e===t)return!0;const n=_s(e);if(n!==_s(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return $u(e).isEqual($u(t));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=ys(a.timestampValue),f=ys(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,l){return vs(a.bytesValue).isEqual(vs(l.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,l){return _e(a.geoPointValue.latitude)===_e(l.geoPointValue.latitude)&&_e(a.geoPointValue.longitude)===_e(l.geoPointValue.longitude)}(e,t);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return _e(a.integerValue)===_e(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=_e(a.doubleValue),f=_e(l.doubleValue);return c===f?Mf(c)===Mf(f):isNaN(c)&&isNaN(f)}return!1}(e,t);case 9:return Ko(e.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(rb(c)!==rb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Ui(c[m],f[m])))return!1;return!0}(e,t);default:return Tt(52216,{left:e})}}function Qu(e,t){return(e.values||[]).find(n=>Ui(n,t))!==void 0}function $o(e,t){if(e===t)return 0;const n=_s(e),r=_s(t);if(n!==r)return It(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(l,c){const f=_e(l.integerValue||l.doubleValue),m=_e(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(e,t);case 3:return ab(e.timestampValue,t.timestampValue);case 4:return ab($u(e),$u(t));case 5:return Eg(e.stringValue,t.stringValue);case 6:return function(l,c){const f=vs(l),m=vs(c);return f.compareTo(m)}(e.bytesValue,t.bytesValue);case 7:return function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=It(f[p],m[p]);if(y!==0)return y}return It(f.length,m.length)}(e.referenceValue,t.referenceValue);case 8:return function(l,c){const f=It(_e(l.latitude),_e(c.latitude));return f!==0?f:It(_e(l.longitude),_e(c.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return ob(e.arrayValue,t.arrayValue);case 10:return function(l,c){var f,m,p,y;const T=l.fields||{},_=c.fields||{},R=(f=T[Lf])===null||f===void 0?void 0:f.arrayValue,x=(m=_[Lf])===null||m===void 0?void 0:m.arrayValue,B=It(((p=R?.values)===null||p===void 0?void 0:p.length)||0,((y=x?.values)===null||y===void 0?void 0:y.length)||0);return B!==0?B:ob(R,x)}(e.mapValue,t.mapValue);case 11:return function(l,c){if(l===tf.mapValue&&c===tf.mapValue)return 0;if(l===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const _=Eg(m[T],y[T]);if(_!==0)return _;const R=$o(f[m[T]],p[y[T]]);if(R!==0)return R}return It(m.length,y.length)}(e.mapValue,t.mapValue);default:throw Tt(23264,{le:n})}}function ab(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=ys(e),r=ys(t),a=It(n.seconds,r.seconds);return a!==0?a:It(n.nanos,r.nanos)}function ob(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=$o(n[a],r[a]);if(l)return l}return It(n.length,r.length)}function Yo(e){return bg(e)}function bg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return vs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return gt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=bg(l);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${bg(n.fields[c])}`;return a+"}"}(e.mapValue):Tt(61005,{value:e})}function gf(e){switch(_s(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(e);return t?16+gf(t):16;case 5:return 2*e.stringValue.length;case 6:return vs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+gf(l),0)}(e.arrayValue);case 10:case 11:return function(r){let a=0;return ws(r.fields,(l,c)=>{a+=l.length+gf(c)}),a}(e.mapValue);default:throw Tt(13486,{value:e})}}function lb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Ag(e){return!!e&&"integerValue"in e}function Ny(e){return!!e&&"arrayValue"in e}function ub(e){return!!e&&"nullValue"in e}function cb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yf(e){return!!e&&"mapValue"in e}function QN(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[Vw])===null||n===void 0?void 0:n.stringValue)===Pw}function Nu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ws(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Nu(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function XN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===YN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!yf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nu(n)}setAll(t){let n=Xe.emptyPath(),r={},a=[];t.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=Nu(c):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){ws(n,(a,l)=>t[a]=l);for(const a of r)delete t[a]}clone(){return new vn(Nu(this.value))}}function Nw(e){const t=[];return ws(e.fields,(n,r)=>{const a=new Xe([n]);if(yf(r)){const l=Nw(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)}),new In(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new rn(t,0,wt.min(),wt.min(),wt.min(),vn.empty(),0)}static newFoundDocument(t,n,r,a){return new rn(t,1,n,wt.min(),r,a,0)}static newNoDocument(t,n){return new rn(t,2,n,wt.min(),wt.min(),vn.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,wt.min(),wt.min(),vn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.position=t,this.inclusive=n}}function hb(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=gt.comparator(gt.fromName(c.referenceValue),n.key):r=$o(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function fb(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ui(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n="asc"){this.field=t,this.dir=n}}function WN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{}class Ce extends Ow{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new JN(t,n,r):n==="array-contains"?new nO(t,r):n==="in"?new iO(t,r):n==="not-in"?new rO(t,r):n==="array-contains-any"?new sO(t,r):new Ce(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new tO(t,r):new eO(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&_s(this.value)===_s(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Ow{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new li(t,n)}matches(t){return Mw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Mw(e){return e.op==="and"}function kw(e){return ZN(e)&&Mw(e)}function ZN(e){for(const t of e.filters)if(t instanceof li)return!1;return!0}function Sg(e){if(e instanceof Ce)return e.field.canonicalString()+e.op.toString()+Yo(e.value);if(kw(e))return e.filters.map(t=>Sg(t)).join(",");{const t=e.filters.map(n=>Sg(n)).join(",");return`${e.op}(${t})`}}function Lw(e,t){return e instanceof Ce?function(r,a){return a instanceof Ce&&r.op===a.op&&r.field.isEqual(a.field)&&Ui(r.value,a.value)}(e,t):e instanceof li?function(r,a){return a instanceof li&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&Lw(c,a.filters[f]),!0):!1}(e,t):void Tt(19439)}function Uw(e){return e instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`}(e):e instanceof li?function(n){return n.op.toString()+" {"+n.getFilters().map(Uw).join(" ,")+"}"}(e):"Filter"}class JN extends Ce{constructor(t,n,r){super(t,n,r),this.key=gt.fromName(r.referenceValue)}matches(t){const n=gt.comparator(t.key,this.key);return this.matchesComparison(n)}}class tO extends Ce{constructor(t,n){super(t,"in",n),this.keys=jw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class eO extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=jw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function jw(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>gt.fromName(r.referenceValue))}class nO extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ny(n)&&Qu(n.arrayValue,this.value)}}class iO extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Qu(this.value.arrayValue,n)}}class rO extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qu(this.value.arrayValue,n)}}class sO extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function db(e,t=null,n=[],r=[],a=null,l=null,c=null){return new aO(e,t,n,r,a,l,c)}function Oy(e){const t=Rt(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Sg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Yo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Yo(r)).join(",")),t.Pe=n}return t.Pe}function My(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!WN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Lw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fb(e.startAt,t.startAt)&&fb(e.endAt,t.endAt)}function wg(e){return gt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function oO(e,t,n,r,a,l,c,f){return new ll(e,t,n,r,a,l,c,f)}function ky(e){return new ll(e)}function mb(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Bw(e){return e.collectionGroup!==null}function Ou(e){const t=Rt(e);if(t.Te===null){t.Te=[];const n=new Set;for(const l of t.explicitOrderBy)t.Te.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Me(Xe.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||t.Te.push(new Xu(l,r))}),n.has(Xe.keyField().canonicalString())||t.Te.push(new Xu(Xe.keyField(),r))}return t.Te}function Di(e){const t=Rt(e);return t.Ie||(t.Ie=lO(t,Ou(e))),t.Ie}function lO(e,t){if(e.limitType==="F")return db(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Xu(a.field,l)});const n=e.endAt?new Uf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Uf(e.startAt.position,e.startAt.inclusive):null;return db(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Rg(e,t){const n=e.filters.concat([t]);return new ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function xg(e,t,n){return new ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ld(e,t){return My(Di(e),Di(t))&&e.limitType===t.limitType}function zw(e){return`${Oy(Di(e))}|lt:${e.limitType}`}function Do(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>Uw(a)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Yo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Yo(a)).join(",")),`Target(${r})`}(Di(e))}; limitType=${e.limitType})`}function ud(e,t){return t.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):gt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(e,t)&&function(r,a){for(const l of Ou(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(e,t)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(e,t)&&function(r,a){return!(r.startAt&&!function(c,f,m){const p=hb(c,f,m);return c.inclusive?p<=0:p<0}(r.startAt,Ou(r),a)||r.endAt&&!function(c,f,m){const p=hb(c,f,m);return c.inclusive?p>=0:p>0}(r.endAt,Ou(r),a))}(e,t)}function uO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Fw(e){return(t,n)=>{let r=!1;for(const a of Ou(e)){const l=cO(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function cO(e,t,n){const r=e.field.isKeyField()?gt.comparator(t.key,n.key):function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?$o(m,p):Tt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(n,r)=>{for(const[a,l]of r)t(a,l)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new ce(gt.comparator);function Er(){return hO}const qw=new ce(gt.comparator);function xu(...e){let t=qw;for(const n of e)t=t.insert(n.key,n);return t}function Hw(e){let t=qw;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function ya(){return Mu()}function Gw(){return Mu()}function Mu(){return new Da(e=>e.toString(),(e,t)=>e.isEqual(t))}const fO=new ce(gt.comparator),dO=new Me(gt.comparator);function Mt(...e){let t=dO;for(const n of e)t=t.add(n);return t}const mO=new Me(It);function pO(){return mO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function Kw(e){return{integerValue:""+e}}function $w(e,t){return qN(t)?Kw(t):Ly(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function gO(e,t,n){return e instanceof jf?function(a,l){const c={fields:{[Cw]:{stringValue:xw},[Dw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Py(l)&&(l=od(l)),l&&(c.fields[Iw]=l),{mapValue:c}}(n,t):e instanceof Wu?Qw(e,t):e instanceof Zu?Xw(e,t):function(a,l){const c=Yw(a,l),f=pb(c)+pb(a.Ee);return Ag(c)&&Ag(a.Ee)?Kw(f):Ly(a.serializer,f)}(e,t)}function yO(e,t,n){return e instanceof Wu?Qw(e,t):e instanceof Zu?Xw(e,t):n}function Yw(e,t){return e instanceof Ju?function(r){return Ag(r)||function(l){return!!l&&"doubleValue"in l}(r)}(t)?t:{integerValue:0}:null}class jf extends cd{}class Wu extends cd{constructor(t){super(),this.elements=t}}function Qw(e,t){const n=Ww(t);for(const r of e.elements)n.some(a=>Ui(a,r))||n.push(r);return{arrayValue:{values:n}}}class Zu extends cd{constructor(t){super(),this.elements=t}}function Xw(e,t){let n=Ww(t);for(const r of e.elements)n=n.filter(a=>!Ui(a,r));return{arrayValue:{values:n}}}class Ju extends cd{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function pb(e){return _e(e.integerValue||e.doubleValue)}function Ww(e){return Ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t,n){this.field=t,this.transform=n}}function _O(e,t){return e.field.isEqual(t.field)&&function(r,a){return r instanceof Wu&&a instanceof Wu||r instanceof Zu&&a instanceof Zu?Ko(r.elements,a.elements,Ui):r instanceof Ju&&a instanceof Ju?Ui(r.Ee,a.Ee):r instanceof jf&&a instanceof jf}(e.transform,t.transform)}class TO{constructor(t,n){this.version=t,this.transformResults=n}}class Kn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Kn}static exists(t){return new Kn(void 0,t)}static updateTime(t){return new Kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hd{}function Zw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Uy(e.key,Kn.none()):new pc(e.key,e.data,Kn.none());{const n=e.data,r=vn.empty();let a=new Me(Xe.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Rs(e.key,r,new In(a.toArray()),Kn.none())}}function EO(e,t,n){e instanceof pc?function(a,l,c){const f=a.value.clone(),m=yb(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(e,t,n):e instanceof Rs?function(a,l,c){if(!vf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=yb(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Jw(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(e,t,n):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,n)}function ku(e,t,n,r){return e instanceof pc?function(l,c,f,m){if(!vf(l.precondition,c))return f;const p=l.value.clone(),y=vb(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rs?function(l,c,f,m){if(!vf(l.precondition,c))return f;const p=vb(l.fieldTransforms,m,c),y=c.data;return y.setAll(Jw(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(e,t,n,r):function(l,c,f){return vf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(e,t,n)}function bO(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=Yw(r.transform,a||null);l!=null&&(n===null&&(n=vn.empty()),n.set(r.field,l))}return n||null}function gb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ko(r,a,(l,c)=>_O(l,c))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pc extends hd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Rs extends hd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function yb(e,t,n){const r=new Map;Ht(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,yO(c,f,n[a]))}return r}function vb(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,gO(l,c,t))}return r}class Uy extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&EO(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ku(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ku(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Gw();return this.mutations.forEach(a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=Zw(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Ko(this.mutations,t.mutations,(n,r)=>gb(n,r))&&Ko(this.baseMutations,t.baseMutations,(n,r)=>gb(n,r))}}class jy{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){Ht(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let a=function(){return fO}();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new jy(t,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,Bt;function xO(e){switch(e){case tt.OK:return Tt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Tt(15467,{code:e})}}function t1(e){if(e===void 0)return Tr("GRPC error has no .code"),tt.UNKNOWN;switch(e){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return Tt(39323,{code:e})}}(Bt=Re||(Re={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new ds([4294967295,4294967295],0);function _b(e){const t=Ew().encode(e),n=new dw;return n.update(t),new Uint8Array(n.digest())}function Tb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ds([n,r],0),new ds([a,l],0)]}class By{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(r<0)throw new Cu(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=ds.fromNumber(this.fe)}pe(t,n,r){let a=t.add(n.multiply(ds.fromNumber(r)));return a.compare(CO)===1&&(a=new ds([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=_b(t),[r,a]=Tb(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);if(!this.ye(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new By(l,a,n);return r.forEach(f=>c.insert(f)),c}insert(t){if(this.fe===0)return;const n=_b(t),[r,a]=Tb(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);this.we(c)}}we(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,gc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fd(wt.min(),a,new ce(It),Er(),Mt())}}class gc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new gc(r,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,n,r,a){this.Se=t,this.removedTargetIds=n,this.key=r,this.be=a}}class e1{constructor(t,n){this.targetId=t,this.De=n}}class n1{constructor(t,n,r=We.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Eb{constructor(){this.ve=0,this.Ce=bb(),this.Fe=We.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Mt(),n=Mt(),r=Mt();return this.Ce.forEach((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Tt(38017,{changeType:l})}}),new gc(this.Fe,this.Me,t,n,r)}ke(){this.xe=!1,this.Ce=bb()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class IO{constructor(t){this.We=t,this.Ge=new Map,this.ze=Er(),this.je=ef(),this.Je=ef(),this.He=new ce(It)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const r=this.tt(n);switch(t.state){case 0:this.nt(n)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((r,a)=>{this.nt(a)&&n(a)})}it(t){const n=t.targetId,r=t.De.count,a=this.st(n);if(a){const l=a.target;if(wg(l))if(r===0){const c=new gt(l.path);this.Xe(n,c,rn.newNoDocument(c,wt.min()))}else Ht(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const f=this._t(t),m=f?this.ut(f,t,c):1;if(m!==0){this.rt(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=vs(r).toUint8Array()}catch(m){if(m instanceof Rw)return ps("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new By(c,a,l)}catch(m){return ps(m instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(t,n,r){return n.De.count===r-this.ht(t,n.targetId)?0:2}ht(t,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.Xe(n,l,null),a++)}),a}Pt(t){const n=new Map;this.Ge.forEach((l,c)=>{const f=this.st(c);if(f){if(l.current&&wg(f.target)){const m=new gt(f.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,rn.newNoDocument(m,t))}l.Ne&&(n.set(c,l.Le()),l.ke())}});let r=Mt();this.Je.forEach((l,c)=>{let f=!0;c.forEachWhile(m=>{const p=this.st(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(t));const a=new fd(t,n,this.He,this.ze,r);return this.ze=Er(),this.je=ef(),this.Je=ef(),this.He=new ce(It),a}Ze(t,n){if(!this.nt(t))return;const r=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,r){if(!this.nt(t))return;const a=this.tt(t);this.It(t,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new Eb,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Me(It),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Me(It),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new Eb),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function ef(){return new ce(gt.comparator)}function bb(){return new ce(gt.comparator)}const DO={asc:"ASCENDING",desc:"DESCENDING"},VO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class NO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Cg(e,t){return e.useProto3Json||ad(t)?t:{value:t}}function Bf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function i1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function OO(e,t){return Bf(e,t.toTimestamp())}function Vi(e){return Ht(!!e,49232),wt.fromTimestamp(function(n){const r=ys(n);return new ne(r.seconds,r.nanos)}(e))}function zy(e,t){return Ig(e,t).canonicalString()}function Ig(e,t){const n=function(a){return new ee(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?n:n.child(t)}function r1(e){const t=ee.fromString(e);return Ht(u1(t),10190,{key:t.toString()}),t}function Dg(e,t){return zy(e.databaseId,t.path)}function Gp(e,t){const n=r1(t);if(n.get(1)!==e.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gt(a1(n))}function s1(e,t){return zy(e.databaseId,t)}function MO(e){const t=r1(e);return t.length===4?ee.emptyPath():a1(t)}function Vg(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function a1(e){return Ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Ab(e,t,n){return{name:Dg(e,t),fields:n.value.mapValue.fields}}function kO(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(Ht(y===void 0||typeof y=="string",58123),We.fromBase64String(y||"")):(Ht(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),We.fromUint8Array(y||new Uint8Array))}(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const y=p.code===void 0?tt.UNKNOWN:t1(p.code);return new ct(y,p.message||"")}(c);n=new n1(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Gp(e,r.document.name),l=Vi(r.document.updateTime),c=r.document.createTime?Vi(r.document.createTime):wt.min(),f=new vn({mapValue:{fields:r.document.fields}}),m=rn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new _f(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Gp(e,r.document),l=r.readTime?Vi(r.readTime):wt.min(),c=rn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new _f([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Gp(e,r.document),l=r.removedTargetIds||[];n=new _f([],l,a,null)}else{if(!("filter"in t))return Tt(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new RO(a,l),f=r.targetId;n=new e1(f,c)}}return n}function LO(e,t){let n;if(t instanceof pc)n={update:Ab(e,t.key,t.value)};else if(t instanceof Uy)n={delete:Dg(e,t.key)};else if(t instanceof Rs)n={update:Ab(e,t.key,t.data),updateMask:KO(t.fieldMask)};else{if(!(t instanceof AO))return Tt(16599,{Rt:t.type});n={verify:Dg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof jf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ju)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw Tt(20930,{transform:c.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:OO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Tt(27497)}(e,t.precondition)),n}function UO(e,t){return e&&e.length>0?(Ht(t!==void 0,14353),e.map(n=>function(a,l){let c=a.updateTime?Vi(a.updateTime):Vi(l);return c.isEqual(wt.min())&&(c=Vi(l)),new TO(c,a.transformResults||[])}(n,t))):[]}function jO(e,t){return{documents:[s1(e,t.path)]}}function BO(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=s1(e,a);const l=function(p){if(p.length!==0)return l1(li.create(p,"and"))}(t.filters);l&&(n.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(_){return{field:Vo(_.field),direction:qO(_.dir)}}(y))}(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=Cg(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{Vt:n,parent:a}}function zO(e){let t=MO(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ht(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=function(T){const _=o1(T);return _ instanceof li&&kw(_)?_.getFilters():[_]}(n.where));let c=[];n.orderBy&&(c=function(T){return T.map(_=>function(x){return new Xu(Po(x.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(_))}(n.orderBy));let f=null;n.limit&&(f=function(T){let _;return _=typeof T=="object"?T.value:T,ad(_)?null:_}(n.limit));let m=null;n.startAt&&(m=function(T){const _=!!T.before,R=T.values||[];return new Uf(R,_)}(n.startAt));let p=null;return n.endAt&&(p=function(T){const _=!T.before,R=T.values||[];return new Uf(R,_)}(n.endAt)),oO(t,a,c,l,f,"F",m,p)}function FO(e,t){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function o1(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Po(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(n.unaryFilter.field);return Ce.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(n.unaryFilter.field);return Ce.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Po(n.unaryFilter.field);return Ce.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ce.create(Po(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return li.create(n.compositeFilter.filters.map(r=>o1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(e):Tt(30097,{filter:e})}function qO(e){return DO[e]}function HO(e){return VO[e]}function GO(e){return PO[e]}function Vo(e){return{fieldPath:e.canonicalString()}}function Po(e){return Xe.fromServerFormat(e.fieldPath)}function l1(e){return e instanceof Ce?function(n){if(n.op==="=="){if(cb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(ub(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cb(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(ub(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:HO(n.op),value:n.value}}}(e):e instanceof li?function(n){const r=n.getFilters().map(a=>l1(a));return r.length===1?r[0]:{compositeFilter:{op:GO(n.op),filters:r}}}(e):Tt(54877,{filter:e})}function KO(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function u1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,n,r,a,l=wt.min(),c=wt.min(),f=We.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.gt=t}}function YO(e){const t=zO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Dn=new XO}addToCollectionParentIndex(t,n){return this.Dn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(gs.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(gs.min())}updateCollectionGroup(t,n,r){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class XO{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Me(ee.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c1=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(c1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Qo(0)}static ur(){return new Qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="LruGarbageCollector",WO=1048576;function Rb([e,t],[n,r]){const a=It(e,n);return a===0?It(t,r):a}class ZO{constructor(t){this.Tr=t,this.buffer=new Me(Rb),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Rb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JO{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){ft(wb,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?ft(wb,"Ignoring IndexedDB error during garbage collection: ",n):await al(n)}await this.Rr(3e5)})}}class tM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(sd.ue);const r=new ZO(n);return this.Vr.forEachTarget(t,a=>r.Er(a.sequenceNumber)).next(()=>this.Vr.gr(t,a=>r.Er(a))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Sb)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sb):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(t,a))).next(T=>(r=T,f=Date.now(),this.removeTargets(t,r,n))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(p=Date.now(),Io()<=Ot.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${T} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function eM(e,t){return new tM(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.changes=new Da(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?nt.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(t,n))).next(a=>(r!==null&&ku(r.mutation,a,In.empty(),ne.now()),a))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Mt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Mt()){const a=ya();return this.populateOverlays(t,a,n).next(()=>this.computeViews(t,n,a,r).next(l=>{let c=xu();return l.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,n){const r=ya();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Mt()))}populateOverlays(t,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(t,a).next(l=>{l.forEach((c,f)=>{n.set(c,f)})})}computeViews(t,n,r,a){let l=Er();const c=Mu(),f=function(){return Mu()}();return n.forEach((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Rs)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ku(y.mutation,p,y.mutation.getFieldMask(),ne.now())):c.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(t,l).next(m=>(m.forEach((p,y)=>c.set(p,y)),n.forEach((p,y)=>{var T;return f.set(p,new iM(y,(T=c.get(p))!==null&&T!==void 0?T:null))}),f))}recalculateAndSaveOverlays(t,n){const r=Mu();let a=new ce((c,f)=>c-f),l=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||In.empty();y=f.applyToLocalView(p,y),r.set(m,y);const T=(a.get(f.batchId)||Mt()).add(m);a=a.insert(f.batchId,T)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,T=Gw();y.forEach(_=>{if(!l.has(_)){const R=Zw(n.get(_),r.get(_));R!==null&&T.set(_,R),l=l.add(_)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,T))}return nt.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,a){return function(c){return gt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Bw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):nt.resolve(ya());let f=Ku,m=l;return c.next(p=>nt.forEach(p,(y,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(y)?nt.resolve():this.remoteDocumentCache.getEntry(t,y).next(_=>{m=m.insert(y,_)}))).next(()=>this.populateOverlays(t,p,l)).next(()=>this.computeViews(t,m,p,Mt())).next(y=>({batchId:f,changes:Hw(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new gt(n)).next(r=>{let a=xu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=xu();return this.indexManager.getCollectionParents(t,l).next(f=>nt.forEach(f,m=>{const p=function(T,_){return new ll(_,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next(y=>{y.forEach((T,_)=>{c=c.insert(T,_)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a))).next(c=>{l.forEach((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,rn.newInvalidDocument(y)))});let f=xu();return c.forEach((m,p)=>{const y=l.get(m);y!==void 0&&ku(y.mutation,p,In.empty(),ne.now()),ud(n,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Vi(a.createTime)}}(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(a){return{name:a.name,query:YO(a.bundledQuery),readTime:Vi(a.readTime)}}(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(){this.overlays=new ce(gt.comparator),this.kr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const r=ya();return nt.forEach(n,a=>this.getOverlay(t,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((a,l)=>{this.wt(t,n,l)}),nt.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),nt.resolve()}getOverlaysForCollection(t,n,r){const a=ya(),l=n.length+1,c=new gt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return nt.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new ce((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ya(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return nt.resolve(f)}wt(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new wO(n,r));let l=this.kr.get(n);l===void 0&&(l=Mt(),this.kr.set(n,l)),this.kr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.qr=new Me(Fe.Qr),this.$r=new Me(Fe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const r=new Fe(t,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Wr(new Fe(t,n))}Gr(t,n){t.forEach(r=>this.removeReference(r,n))}zr(t){const n=new gt(new ee([])),r=new Fe(n,t),a=new Fe(n,t+1),l=[];return this.$r.forEachInRange([r,a],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new gt(new ee([])),r=new Fe(n,t),a=new Fe(n,t+1);let l=Mt();return this.$r.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(t){const n=new Fe(t,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Fe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return gt.comparator(t.key,n.key)||It(t.Hr,n.Hr)}static Ur(t,n){return It(t.Hr,n.Hr)||gt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Me(Fe.Qr)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new SO(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Yr=this.Yr.add(new Fe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return nt.resolve(c)}lookupMutationBatch(t,n){return nt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?Vy:this.er-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Fe(n,0),a=new Fe(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,a],c=>{const f=this.Zr(c.Hr);l.push(f)}),nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Me(It);return n.forEach(a=>{const l=new Fe(a,0),c=new Fe(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],f=>{r=r.add(f.Hr)})}),nt.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;gt.isDocumentKey(l)||(l=l.child(""));const c=new Fe(new gt(l),0);let f=new Me(It);return this.Yr.forEachWhile(m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)},c),nt.resolve(this.ei(f))}ei(t){const n=[];return t.forEach(r=>{const a=this.Zr(r);a!==null&&n.push(a)}),n}removeMutationBatch(t,n){Ht(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return nt.forEach(n.mutations,a=>{const l=new Fe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Yr=r})}rr(t){}containsKey(t,n){const r=new Fe(n,0),a=this.Yr.firstAfterOrEqual(r);return nt.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t){this.ni=t,this.docs=function(){return new ce(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return nt.resolve(r?r.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let r=Er();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():rn.newInvalidDocument(a))}),nt.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Er();const c=n.path,f=new gt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||jN(UN(y),r)<=0||(a.has(y.key)||ud(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return nt.resolve(l)}getAllFromCollectionGroup(t,n,r,a){Tt(9500)}ri(t,n){return nt.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new cM(this)}getSize(t){return nt.resolve(this.size)}}class cM extends nM{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(t,a)):this.Or.removeEntry(r)}),nt.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(t){this.persistence=t,this.ii=new Da(n=>Oy(n),My),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.si=0,this.oi=new Fy,this.targetCount=0,this._i=Qo.ar()}forEachTarget(t,n){return this.ii.forEach((r,a)=>n(a)),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),nt.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Qo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.hr(n),nt.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.ii.forEach((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)}),nt.waitFor(l).next(()=>a)}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const r=this.ii.get(n)||null;return nt.resolve(r)}addMatchingKeys(t,n,r){return this.oi.Kr(n,r),nt.resolve()}removeMatchingKeys(t,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(c=>{l.push(a.markPotentiallyOrphaned(t,c))}),nt.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const r=this.oi.Jr(n);return nt.resolve(r)}containsKey(t,n){return nt.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t,n){this.ai={},this.overlays={},this.ui=new sd(0),this.ci=!1,this.ci=!0,this.li=new oM,this.referenceDelegate=t(this),this.hi=new hM(this),this.indexManager=new QO,this.remoteDocumentCache=function(a){return new uM(a)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $O(n),this.Ti=new sM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ai[t.toKey()];return r||(r=new lM(n,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,r){ft("MemoryPersistence","Starting transaction:",t);const a=new fM(this.ui.next());return this.referenceDelegate.Ii(),r(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(t,n){return nt.or(Object.values(this.ai).map(r=>()=>r.containsKey(t,n)))}}class fM extends zN{constructor(t){super(),this.currentSequenceNumber=t}}class qy{constructor(t){this.persistence=t,this.Ai=new Fy,this.Ri=null}static Vi(t){return new qy(t)}get mi(){if(this.Ri)return this.Ri;throw Tt(60996)}addReference(t,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),nt.resolve()}removeReference(t,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(a=>this.mi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.mi,r=>{const a=gt.fromPath(r);return this.fi(t,a).next(l=>{l||n.removeEntry(a,wt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return nt.or([()=>nt.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class zf{constructor(t,n){this.persistence=t,this.gi=new Da(r=>HN(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=eM(this,n)}static Vi(t,n){return new zf(t,n)}Ii(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(a=>r+a))}yr(t){let n=0;return this.gr(t,r=>{n++}).next(()=>n)}gr(t,n){return nt.forEach(this.gi,(r,a)=>this.Sr(t,r,a).next(l=>l?nt.resolve():n(a)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(t,c=>this.Sr(t,c,n).next(f=>{f||(r++,l.removeEntry(c,wt.min()))})).next(()=>l.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),nt.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=gf(t.data.value)),n}Sr(t,n,r){return nt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.gi.get(n);return nt.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Is=r,this.ds=a}static Es(t,n){let r=Mt(),a=Mt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Hy(t,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return o2()?8:FN(an())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ps(t,n).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(t,n,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new dM;return this.ws(t,n,c).next(f=>{if(l.result=f,this.Rs)return this.Ss(t,n,c,f.size)})}).next(()=>l.result)}Ss(t,n,r,a){return r.documentReadCount<this.Vs?(Io()<=Ot.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Do(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),nt.resolve()):(Io()<=Ot.DEBUG&&ft("QueryEngine","Query:",Do(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(Io()<=Ot.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Do(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):nt.resolve())}ps(t,n){if(mb(n))return nt.resolve(null);let r=Di(n);return this.indexManager.getIndexType(t,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=xg(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(l=>{const c=Mt(...l);return this.gs.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const p=this.bs(n,f);return this.Ds(n,p,c,m.readTime)?this.ps(t,xg(n,null,"F")):this.vs(t,p,n,m)}))})))}ys(t,n,r,a){return mb(n)||a.isEqual(wt.min())?nt.resolve(null):this.gs.getDocuments(t,r).next(l=>{const c=this.bs(n,l);return this.Ds(n,c,r,a)?nt.resolve(null):(Io()<=Ot.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(n)),this.vs(t,c,n,LN(a,Ku)).next(f=>f))})}bs(t,n){let r=new Me(Fw(t));return n.forEach((a,l)=>{ud(t,l)&&(r=r.add(l))}),r}Ds(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(t,n,r){return Io()<=Ot.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Do(n)),this.gs.getDocumentsMatchingQuery(t,n,gs.min(),r)}vs(t,n,r,a){return this.gs.getDocumentsMatchingQuery(t,r,a).next(l=>(n.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="LocalStore",pM=3e8;class gM{constructor(t,n,r,a){this.persistence=t,this.Cs=n,this.serializer=a,this.Fs=new ce(It),this.Ms=new Da(l=>Oy(l),My),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function yM(e,t,n,r){return new gM(e,t,n,r)}async function f1(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ns(t),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let m=Mt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next(p=>({Bs:p,removedBatchIds:c,addedBatchIds:f}))})})}function vM(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=t.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return function(f,m,p,y){const T=p.batch,_=T.keys();let R=nt.resolve();return _.forEach(x=>{R=R.next(()=>y.getEntry(m,x)).next(B=>{const U=p.docVersions.get(x);Ht(U!==null,48541),B.version.compareTo(U)<0&&(T.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(m,T))}(n,r,t,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Mt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>n.localDocuments.getDocuments(r,a))})}function d1(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function _M(e,t){const n=Rt(e),r=t.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const f=[];t.targetChanges.forEach((y,T)=>{const _=a.get(T);if(!_)return;f.push(n.hi.removeMatchingKeys(l,y.removedDocuments,T).next(()=>n.hi.addMatchingKeys(l,y.addedDocuments,T)));let R=_.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(T)!==null?R=R.withResumeToken(We.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),a=a.insert(T,R),function(B,U,L){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=pM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(_,R,y)&&f.push(n.hi.updateTargetData(l,R))});let m=Er(),p=Mt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(TM(l,c,t.documentUpdates).next(y=>{m=y.Ls,p=y.ks})),!r.isEqual(wt.min())){const y=n.hi.getLastRemoteSnapshotVersion(l).next(T=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return nt.waitFor(f).next(()=>c.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,m,p)).next(()=>m)}).then(l=>(n.Fs=a,l))}function TM(e,t,n){let r=Mt(),a=Mt();return n.forEach(l=>r=r.add(l)),t.getEntries(e,r).next(l=>{let c=Er();return n.forEach((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(wt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):ft(Gy,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{Ls:c,ks:a}})}function EM(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Vy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function bM(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.hi.getTargetData(r,t).next(l=>l?(a=l,nt.resolve(a)):n.hi.allocateTargetId(r).next(c=>(a=new us(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(t,r.targetId)),r})}async function Pg(e,t,n){const r=Rt(e),a=r.Fs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!ol(c))throw c;ft(Gy,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(a.target)}function xb(e,t,n){const r=Rt(e);let a=wt.min(),l=Mt();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,y){const T=Rt(m),_=T.Ms.get(y);return _!==void 0?nt.resolve(T.Fs.get(_)):T.hi.getTargetData(p,y)}(r,c,Di(t)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,f.targetId).next(m=>{l=m})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,t,n?a:wt.min(),n?l:Mt())).next(f=>(AM(r,uO(t),f),{documents:f,qs:l})))}function AM(e,t,n){let r=e.xs.get(t)||wt.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),e.xs.set(t,r)}class Cb{constructor(){this.activeTargetIds=pO()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SM{constructor(){this.Fo=new Cb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,r){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Cb,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib="ConnectivityMonitor";class Db{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ft(Ib,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){ft(Ib,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=null;function Ng(){return nf===null?nf=function(){return 268435456+Math.round(2147483648*Math.random())}():nf++,"0x"+nf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="RestConnection",RM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===kf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(t,n,r,a,l){const c=Ng(),f=this.Go(t,n.toUriEncodedString());ft(Kp,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,l);const{host:p}=new URL(f),y=nl(p);return this.jo(t,f,m,r,y).then(T=>(ft(Kp,`Received RPC '${t}' ${c}: `,T),T),T=>{throw ps(Kp,`RPC '${t}' ${c} failed with error: `,T,"url: ",f,"request:",r),T})}Jo(t,n,r,a,l,c){return this.Wo(t,n,r,a,l)}zo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>t[l]=a),r&&r.headers.forEach((a,l)=>t[l]=a)}Go(t,n){const r=RM[t];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class IM extends xM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,r,a,l){const c=Ng();return new Promise((f,m)=>{const p=new mw;p.setWithCredentials(!0),p.listenOnce(pw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pf.NO_ERROR:const T=p.getResponseJson();ft(en,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),f(T);break;case pf.TIMEOUT:ft(en,`RPC '${t}' ${c} timed out`),m(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case pf.HTTP_ERROR:const _=p.getStatus();if(ft(en,`RPC '${t}' ${c} failed with status:`,_,"response text:",p.getResponseText()),_>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R?.error;if(x&&x.status&&x.message){const B=function(L){const X=L.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(X)>=0?X:tt.UNKNOWN}(x.status);m(new ct(B,x.message))}else m(new ct(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{c_:t,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ft(en,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(a);ft(en,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)})}P_(t,n,r){const a=Ng(),l=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=vw(),f=yw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");ft(en,`Creating RPC '${t}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);this.T_(T);let _=!1,R=!1;const x=new CM({Ho:U=>{R?ft(en,`Not sending because RPC '${t}' stream ${a} is closed:`,U):(_||(ft(en,`Opening RPC '${t}' stream ${a} transport.`),T.open(),_=!0),ft(en,`RPC '${t}' stream ${a} sending:`,U),T.send(U))},Yo:()=>T.close()}),B=(U,L,X)=>{U.listen(L,Y=>{try{X(Y)}catch(ot){setTimeout(()=>{throw ot},0)}})};return B(T,Ru.EventType.OPEN,()=>{R||(ft(en,`RPC '${t}' stream ${a} transport opened.`),x.s_())}),B(T,Ru.EventType.CLOSE,()=>{R||(R=!0,ft(en,`RPC '${t}' stream ${a} transport closed`),x.__(),this.I_(T))}),B(T,Ru.EventType.ERROR,U=>{R||(R=!0,ps(en,`RPC '${t}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),x.__(new ct(tt.UNAVAILABLE,"The operation could not be completed")))}),B(T,Ru.EventType.MESSAGE,U=>{var L;if(!R){const X=U.data[0];Ht(!!X,16349);const Y=X,ot=Y?.error||((L=Y[0])===null||L===void 0?void 0:L.error);if(ot){ft(en,`RPC '${t}' stream ${a} received error:`,ot);const it=ot.status;let ht=function(C){const P=Re[C];if(P!==void 0)return t1(P)}(it),V=ot.message;ht===void 0&&(ht=tt.INTERNAL,V="Unknown error status: "+it+" with message "+ot.message),R=!0,x.__(new ct(ht,V)),T.close()}else ft(en,`RPC '${t}' stream ${a} received:`,X),x.a_(X)}}),B(f,gw.STAT_EVENT,U=>{U.stat===Tg.PROXY?ft(en,`RPC '${t}' stream ${a} detected buffering proxy`):U.stat===Tg.NOPROXY&&ft(en,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function $p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e){return new NO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&ft("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="PersistentStream";class p1{constructor(t,n,r,a,l,c,f,m){this.Fi=t,this.w_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new m1(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.b_===n&&this.W_(r,a)},r=>{t(()=>{const a=new ct(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)})})}W_(t,n){const r=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{r(()=>this.G_(a))}),this.stream.onMessage(a=>{r(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return ft(Vb,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(ft(Vb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DM extends p1{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=kO(this.serializer,t),r=function(l){if(!("targetChange"in l))return wt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?wt.min():c.readTime?Vi(c.readTime):wt.min()}(t);return this.listener.J_(n,r)}H_(t){const n={};n.database=Vg(this.serializer),n.addTarget=function(l,c){let f;const m=c.target;if(f=wg(m)?{documents:jO(l,m)}:{query:BO(l,m).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=i1(l,c.resumeToken);const p=Cg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(wt.min())>0){f.readTime=Bf(l,c.snapshotVersion.toTimestamp());const p=Cg(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const r=FO(this.serializer,t);r&&(n.labels=r),this.k_(n)}Y_(t){const n={};n.database=Vg(this.serializer),n.removeTarget=t,this.k_(n)}}class VM extends p1{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=UO(t.writeResults,t.commitTime),r=Vi(t.commitTime);return this.listener.ta(r,n)}na(){const t={};t.database=Vg(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>LO(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{}class NM extends PM{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(t,Ig(n,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(tt.UNKNOWN,l.toString())})}Jo(t,n,r,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Jo(t,Ig(n,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(tt.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class OM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Tr(n),this._a=!1):ft("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class MM{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Va(this)&&(ft(Ia,"Restarting streams for network reachability change."),await async function(m){const p=Rt(m);p.Ia.add(4),await yc(p),p.Aa.set("Unknown"),p.Ia.delete(4),await md(p)}(this))})}),this.Aa=new OM(r,a)}}async function md(e){if(Va(e))for(const t of e.da)await t(!0)}async function yc(e){for(const t of e.da)await t(!1)}function g1(e,t){const n=Rt(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Qy(n)?Yy(n):ul(n).x_()&&$y(n,t))}function Ky(e,t){const n=Rt(e),r=ul(n);n.Ta.delete(t),r.x_()&&y1(n,t),n.Ta.size===0&&(r.x_()?r.B_():Va(n)&&n.Aa.set("Unknown"))}function $y(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ul(e).H_(t)}function y1(e,t){e.Ra.$e(t),ul(e).Y_(t)}function Yy(e){e.Ra=new IO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),ul(e).start(),e.Aa.aa()}function Qy(e){return Va(e)&&!ul(e).M_()&&e.Ta.size>0}function Va(e){return Rt(e).Ia.size===0}function v1(e){e.Ra=void 0}async function kM(e){e.Aa.set("Online")}async function LM(e){e.Ta.forEach((t,n)=>{$y(e,t)})}async function UM(e,t){v1(e),Qy(e)?(e.Aa.la(t),Yy(e)):e.Aa.set("Unknown")}async function jM(e,t,n){if(e.Aa.set("Online"),t instanceof n1&&t.state===2&&t.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ta.delete(f),a.Ra.removeTarget(f))}(e,t)}catch(r){ft(Ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ff(e,r)}else if(t instanceof _f?e.Ra.Ye(t):t instanceof e1?e.Ra.it(t):e.Ra.et(t),!n.isEqual(wt.min()))try{const r=await d1(e.localStore);n.compareTo(r)>=0&&await function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const y=l.Ta.get(m);if(!y)return;l.Ta.set(m,y.withResumeToken(We.EMPTY_BYTE_STRING,y.snapshotVersion)),y1(l,m);const T=new us(y.target,m,p,y.sequenceNumber);$y(l,T)}),l.remoteSyncer.applyRemoteEvent(f)}(e,n)}catch(r){ft(Ia,"Failed to raise snapshot:",r),await Ff(e,r)}}async function Ff(e,t,n){if(!ol(t))throw t;e.Ia.add(1),await yc(e),e.Aa.set("Offline"),n||(n=()=>d1(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ft(Ia,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await md(e)})}function _1(e,t){return t().catch(n=>Ff(e,n,t))}async function pd(e){const t=Rt(e),n=Ts(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:Vy;for(;BM(t);)try{const a=await EM(t.localStore,r);if(a===null){t.Pa.length===0&&n.B_();break}r=a.batchId,zM(t,a)}catch(a){await Ff(t,a)}T1(t)&&E1(t)}function BM(e){return Va(e)&&e.Pa.length<10}function zM(e,t){e.Pa.push(t);const n=Ts(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function T1(e){return Va(e)&&!Ts(e).M_()&&e.Pa.length>0}function E1(e){Ts(e).start()}async function FM(e){Ts(e).na()}async function qM(e){const t=Ts(e);for(const n of e.Pa)t.X_(n.mutations)}async function HM(e,t,n){const r=e.Pa.shift(),a=jy.from(r,t,n);await _1(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await pd(e)}async function GM(e,t){t&&Ts(e).Z_&&await async function(r,a){if(function(c){return xO(c)&&c!==tt.ABORTED}(a.code)){const l=r.Pa.shift();Ts(r).N_(),await _1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await pd(r)}}(e,t),T1(e)&&E1(e)}async function Pb(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),ft(Ia,"RemoteStore received new credentials");const r=Va(n);n.Ia.add(3),await yc(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await md(n)}async function KM(e,t){const n=Rt(e);t?(n.Ia.delete(2),await md(n)):t||(n.Ia.add(2),await yc(n),n.Aa.set("Unknown"))}function ul(e){return e.Va||(e.Va=function(n,r,a){const l=Rt(n);return l.ia(),new DM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Zo:kM.bind(null,e),e_:LM.bind(null,e),n_:UM.bind(null,e),J_:jM.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Qy(e)?Yy(e):e.Aa.set("Unknown")):(await e.Va.stop(),v1(e))})),e.Va}function Ts(e){return e.ma||(e.ma=function(n,r,a){const l=Rt(n);return l.ia(),new VM(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:FM.bind(null,e),n_:GM.bind(null,e),ea:qM.bind(null,e),ta:HM.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await pd(e)):(await e.ma.stop(),e.Pa.length>0&&(ft(Ia,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Xy(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(e,t){if(Tr("AsyncQueue",`${t}: ${e}`),ol(e))return new ct(tt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{static emptySet(t){return new Fo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||gt.comparator(n.key,r.key):(n,r)=>gt.comparator(n.key,r.key),this.keyedMap=xu(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Fo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.fa=new ce(gt.comparator)}track(t){const n=t.doc.key,r=this.fa.get(n);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(n,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(n):t.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Tt(63341,{At:t,ga:r}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,r)=>{t.push(r)}),t}}class Xo{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new Xo(t,n,Fo.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class YM{constructor(){this.queries=Ob(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=Rt(n),l=a.queries;a.queries=Ob(),l.forEach((c,f)=>{for(const m of f.wa)m.onError(r)})})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function Ob(){return new Da(e=>zw(e),ld)}async function b1(e,t){const n=Rt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.ba()&&(r=2):(l=new $M,r=t.ba()?0:1);try{switch(r){case 0:l.ya=await n.onListen(a,!0);break;case 1:l.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Wy(c,`Initialization of query '${Do(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.wa.push(t),t.va(n.onlineState),l.ya&&t.Ca(l.ya)&&Zy(n)}async function A1(e,t){const n=Rt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.wa.indexOf(t);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=t.ba()?0:1:!l.Sa()&&t.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QM(e,t){const n=Rt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.wa)f.Ca(a)&&(r=!0);c.ya=a}}r&&Zy(n)}function XM(e,t,n){const r=Rt(e),a=r.queries.get(t);if(a)for(const l of a.wa)l.onError(n);r.queries.delete(t)}function Zy(e){e.Da.forEach(t=>{t.next()})}var Og,Mb;(Mb=Og||(Og={})).Fa="default",Mb.Cache="cache";class S1{constructor(t,n,r){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new Xo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(t){this.key=t}}class R1{constructor(t){this.key=t}}class WM{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Mt(),this.mutatedKeys=Mt(),this.Xa=Fw(t),this.eu=new Fo(this.Xa)}get tu(){return this.Ha}nu(t,n){const r=n?n.ru:new Nb,a=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,T)=>{const _=a.get(y),R=ud(this.query,T)?T:null,x=!!_&&this.mutatedKeys.has(_.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;_&&R?_.data.isEqual(R.data)?x!==B&&(r.track({type:3,doc:R}),U=!0):this.iu(_,R)||(r.track({type:2,doc:R}),U=!0,(m&&this.Xa(R,m)>0||p&&this.Xa(R,p)<0)&&(f=!0)):!_&&R?(r.track({type:0,doc:R}),U=!0):_&&!R&&(r.track({type:1,doc:_}),U=!0,(m||p)&&(f=!0)),U&&(R?(c=c.add(R),l=B?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:f,mutatedKeys:l}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort((y,T)=>function(R,x){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{At:U})}};return B(R)-B(x)}(y.type,T.type)||this.Xa(y.doc,T.doc)),this.su(r),a=a!=null&&a;const f=n&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,p=m!==this.Ya;return this.Ya=m,c.length!==0||p?{snapshot:new Xo(this.query,t.eu,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Nb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Mt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return t.forEach(r=>{this.Za.has(r)||n.push(new R1(r))}),this.Za.forEach(r=>{t.has(r)||n.push(new w1(r))}),n}uu(t){this.Ha=t.qs,this.Za=Mt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Xo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Jy="SyncEngine";class ZM{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class JM{constructor(t){this.key=t,this.lu=!1}}class tk{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Da(f=>zw(f),ld),this.Tu=new Map,this.Iu=new Set,this.du=new ce(gt.comparator),this.Eu=new Map,this.Au=new Fy,this.Ru={},this.Vu=new Map,this.mu=Qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function ek(e,t,n=!0){const r=P1(e);let a;const l=r.Pu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await x1(r,t,n,!0),a}async function nk(e,t){const n=P1(e);await x1(n,t,!0,!1)}async function x1(e,t,n,r){const a=await bM(e.localStore,Di(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await ik(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&g1(e.remoteStore,a),f}async function ik(e,t,n,r,a){e.gu=(T,_,R)=>async function(B,U,L,X){let Y=U.view.nu(L);Y.Ds&&(Y=await xb(B.localStore,U.query,!1).then(({documents:V})=>U.view.nu(V,Y)));const ot=X&&X.targetChanges.get(U.targetId),it=X&&X.targetMismatches.get(U.targetId)!=null,ht=U.view.applyChanges(Y,B.isPrimaryClient,ot,it);return Lb(B,U.targetId,ht._u),ht.snapshot}(e,T,_,R);const l=await xb(e.localStore,t,!0),c=new WM(t,l.qs),f=c.nu(l.documents),m=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Lb(e,n,p._u);const y=new ZM(t,n,c);return e.Pu.set(t,y),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),p.snapshot}async function rk(e,t,n){const r=Rt(e),a=r.Pu.get(t),l=r.Tu.get(a.targetId);if(l.length>1)return r.Tu.set(a.targetId,l.filter(c=>!ld(c,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Pg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Ky(r.remoteStore,a.targetId),Mg(r,a.targetId)}).catch(al)):(Mg(r,a.targetId),await Pg(r.localStore,a.targetId,!0))}async function sk(e,t){const n=Rt(e),r=n.Pu.get(t),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ky(n.remoteStore,r.targetId))}async function ak(e,t,n){const r=dk(e);try{const a=await function(c,f){const m=Rt(c),p=ne.now(),y=f.reduce((R,x)=>R.add(x.key),Mt());let T,_;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let x=Er(),B=Mt();return m.Os.getEntries(R,y).next(U=>{x=U,x.forEach((L,X)=>{X.isValidDocument()||(B=B.add(L))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,x)).next(U=>{T=U;const L=[];for(const X of f){const Y=bO(X,T.get(X.key).overlayedDocument);Y!=null&&L.push(new Rs(X.key,Y,Nw(Y.value.mapValue),Kn.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,L,f)}).next(U=>{_=U;const L=U.applyToLocalDocumentSet(T,B);return m.documentOverlayCache.saveOverlays(R,U.batchId,L)})}).then(()=>({batchId:_.batchId,changes:Hw(T)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,m){let p=c.Ru[c.currentUser.toKey()];p||(p=new ce(It)),p=p.insert(f,m),c.Ru[c.currentUser.toKey()]=p}(r,a.batchId,n),await vc(r,a.changes),await pd(r.remoteStore)}catch(a){const l=Wy(a,"Failed to persist write");n.reject(l)}}async function C1(e,t){const n=Rt(e);try{const r=await _M(n.localStore,t);t.targetChanges.forEach((a,l)=>{const c=n.Eu.get(l);c&&(Ht(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?Ht(c.lu,14607):a.removedDocuments.size>0&&(Ht(c.lu,42227),c.lu=!1))}),await vc(n,r,t)}catch(r){await al(r)}}function kb(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)}),function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach((y,T)=>{for(const _ of T.wa)_.va(f)&&(p=!0)}),p&&Zy(m)}(r.eventManager,t),a.length&&r.hu.J_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ok(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),l=a&&a.key;if(l){let c=new ce(gt.comparator);c=c.insert(l,rn.newNoDocument(l,wt.min()));const f=Mt().add(l),m=new fd(wt.min(),new Map,new ce(It),c,f);await C1(r,m),r.du=r.du.remove(l),r.Eu.delete(t),tv(r)}else await Pg(r.localStore,t,!1).then(()=>Mg(r,t,n)).catch(al)}async function lk(e,t){const n=Rt(e),r=t.batch.batchId;try{const a=await vM(n.localStore,t);D1(n,r,null),I1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,a)}catch(a){await al(a)}}async function uk(e,t,n){const r=Rt(e);try{const a=await function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next(T=>(Ht(T!==null,37113),y=T.keys(),m.mutationQueue.removeMutationBatch(p,T))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>m.localDocuments.getDocuments(p,y))})}(r.localStore,t);D1(r,t,n),I1(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await vc(r,a)}catch(a){await al(a)}}function I1(e,t){(e.Vu.get(t)||[]).forEach(n=>{n.resolve()}),e.Vu.delete(t)}function D1(e,t,n){const r=Rt(e);let a=r.Ru[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Ru[r.currentUser.toKey()]=a}}function Mg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(r=>{e.Au.containsKey(r)||V1(e,r)})}function V1(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Ky(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),tv(e))}function Lb(e,t,n){for(const r of n)r instanceof w1?(e.Au.addReference(r.key,t),ck(e,r)):r instanceof R1?(ft(Jy,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||V1(e,r.key)):Tt(19791,{yu:r})}function ck(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(ft(Jy,"New document in limbo: "+n),e.Iu.add(r),tv(e))}function tv(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new gt(ee.fromString(t)),r=e.mu.next();e.Eu.set(r,new JM(n)),e.du=e.du.insert(n,r),g1(e.remoteStore,new us(Di(ky(n.path)),r,"TargetPurposeLimboResolution",sd.ue))}}async function vc(e,t,n){const r=Rt(e),a=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((f,m)=>{c.push(r.gu(m,t,n).then(p=>{var y;if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:(y=n?.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(p){a.push(p);const T=Hy.Es(m.targetId,p);l.push(T)}}))}),await Promise.all(c),r.hu.J_(a),await async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>nt.forEach(p,_=>nt.forEach(_.Is,R=>y.persistence.referenceDelegate.addReference(T,_.targetId,R)).next(()=>nt.forEach(_.ds,R=>y.persistence.referenceDelegate.removeReference(T,_.targetId,R)))))}catch(T){if(!ol(T))throw T;ft(Gy,"Failed to update sequence numbers: "+T)}for(const T of p){const _=T.targetId;if(!T.fromCache){const R=y.Fs.get(_),x=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(x);y.Fs=y.Fs.insert(_,B)}}}(r.localStore,l))}async function hk(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){ft(Jy,"User change. New user:",t.toKey());const r=await f1(n.localStore,t);n.currentUser=t,function(l,c){l.Vu.forEach(f=>{f.forEach(m=>{m.reject(new ct(tt.CANCELLED,c))})}),l.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await vc(n,r.Bs)}}function fk(e,t){const n=Rt(e),r=n.Eu.get(t);if(r&&r.lu)return Mt().add(r.key);{let a=Mt();const l=n.Tu.get(t);if(!l)return a;for(const c of l){const f=n.Pu.get(c);a=a.unionWith(f.view.tu)}return a}}function P1(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ok.bind(null,t),t.hu.J_=QM.bind(null,t.eventManager),t.hu.pu=XM.bind(null,t.eventManager),t}function dk(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,t),t}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return yM(this.persistence,new mM,t.initialUser,this.serializer)}Du(t){return new h1(qy.Vi,this.serializer)}bu(t){return new SM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class mk extends qf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){Ht(this.persistence.referenceDelegate instanceof zf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new JO(r,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new h1(r=>zf.Vi(r,n),this.serializer)}}class kg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new YM}()}createDatastore(t){const n=dd(t.databaseInfo.databaseId),r=function(l){return new IM(l)}(t.databaseInfo);return function(l,c,f,m){return new NM(l,c,f,m)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,a,l,c,f){return new MM(r,a,l,c,f)}(this.localStore,this.datastore,t.asyncQueue,n=>kb(this.syncEngine,n,0),function(){return Db.C()?new Db:new wM}())}createSyncEngine(t,n){return function(a,l,c,f,m,p,y){const T=new tk(a,l,c,f,m,p);return y&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(a){const l=Rt(a);ft(Ia,"RemoteStore shutting down."),l.Ia.add(5),await yc(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}kg.provider={build:()=>new kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Tr("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class pk{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=nn.UNAUTHENTICATED,this.clientId=Dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{ft(Es,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(ft(Es,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Wy(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Yp(e,t){e.asyncQueue.verifyOperationInProgress(),ft(Es,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async a=>{r.isEqual(a)||(await f1(t.localStore,a),r=a)}),t.persistence.setDatabaseDeletedListener(()=>{ps("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{ft("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{ps("Terminating Firestore due to IndexedDb database deletion failed",a)})}),e._offlineComponents=t}async function Ub(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gk(e);ft(Es,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Pb(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,a)=>Pb(t.remoteStore,a)),e._onlineComponents=t}async function gk(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ft(Es,"Using user provided OfflineComponentProvider");try{await Yp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(a){return a.name==="FirebaseError"?a.code===tt.FAILED_PRECONDITION||a.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await Yp(e,new qf)}}else ft(Es,"Using default OfflineComponentProvider"),await Yp(e,new mk(void 0));return e._offlineComponents}async function O1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ft(Es,"Using user provided OnlineComponentProvider"),await Ub(e,e._uninitializedComponentsProvider._online)):(ft(Es,"Using default OnlineComponentProvider"),await Ub(e,new kg))),e._onlineComponents}function yk(e){return O1(e).then(t=>t.syncEngine)}async function M1(e){const t=await O1(e),n=t.eventManager;return n.onListen=ek.bind(null,t.syncEngine),n.onUnlisten=rk.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nk.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sk.bind(null,t.syncEngine),n}function vk(e,t,n={}){const r=new gr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new N1({next:_=>{y.Ou(),c.enqueueAndForget(()=>A1(l,T));const R=_.docs.has(f);!R&&_.fromCache?p.reject(new ct(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&_.fromCache&&m&&m.source==="server"?p.reject(new ct(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),T=new S1(ky(f.path),y,{includeMetadataChanges:!0,ka:!0});return b1(l,T)}(await M1(e),e.asyncQueue,t,n,r)),r.promise}function _k(e,t,n={}){const r=new gr;return e.asyncQueue.enqueueAndForget(async()=>function(l,c,f,m,p){const y=new N1({next:_=>{y.Ou(),c.enqueueAndForget(()=>A1(l,T)),_.fromCache&&m.source==="server"?p.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),T=new S1(f,y,{includeMetadataChanges:!0,ka:!0});return b1(l,T)}(await M1(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firestore.googleapis.com",Bb=!0;class zb{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=Bb}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Bb;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=c1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WO)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xN;switch(r.type){case"firstParty":return new VN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jb.get(n);r&&(ft("ComponentProvider","Removing Datastore"),jb.delete(n),r.terminate())}(this),Promise.resolve()}}function Tk(e,t,n,r={}){var a;e=oi(e,gd);const l=nl(t),c=e._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(IS(`https://${m}`),DS("Firestore",!0)),c.host!==L1&&c.host!==m&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!wa(p,f)&&(e._setSettings(p),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=nn.MOCK_USER;else{y=ZD(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(_)}e._authCredentials=new CN(new Tw(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Pa(this.firestore,t,this._query)}}class Te{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Te(this.firestore,t,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(mc(n,Te._jsonSchema))return new Te(t,r||null,new gt(ee.fromString(n.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ie("string",Te._jsonSchemaVersion),referencePath:Ie("string")};class ms extends Pa{constructor(t,n,r){super(t,n,ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Te(this.firestore,null,new gt(t))}withConverter(t){return new ms(this.firestore,t,this._path)}}function Hf(e,t,...n){if(e=on(e),bw("collection","path",t),e instanceof gd){const r=ee.fromString(t,...n);return tb(r),new ms(e,null,r)}{if(!(e instanceof Te||e instanceof ms))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ee.fromString(t,...n));return tb(r),new ms(e.firestore,null,r)}}function bs(e,t,...n){if(e=on(e),arguments.length===1&&(t=Dy.newId()),bw("doc","path",t),e instanceof gd){const r=ee.fromString(t,...n);return JE(r),new Te(e,null,new gt(r))}{if(!(e instanceof Te||e instanceof ms))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ee.fromString(t,...n));return JE(r),new Te(e.firestore,e instanceof ms?e.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="AsyncQueue";class qb{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new m1(this,"async_queue_retry"),this.oc=()=>{const r=$p();r&&ft(Fb,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=$p();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=$p();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!ol(t))throw t;ft(Fb,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(r=>{throw this.tc=r,this.nc=!1,Tr("INTERNAL UNHANDLED ERROR: ",Hb(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const a=Xy.createAndSchedule(this,t,n,r,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&Tt(47125,{hc:Hb(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function Hb(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Na extends gd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new qb,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qb(t),this._firestoreClient=void 0,await t}}}function Ek(e,t){const n=typeof e=="object"?e:OS(),r=typeof e=="string"?e:kf,a=yy(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=XD("firestore");l&&Tk(a,...l)}return a}function ev(e){if(e._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bk(e),e._firestoreClient}function bk(e){var t,n,r;const a=e._freezeSettings(),l=function(f,m,p,y){return new $N(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,k1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new pk(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&function(f){const m=f?._online.build();return{_offline:f?._offline.build(m),_online:m}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(We.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mc(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Ie("string",Gn._jsonSchemaVersion),bytes:Ie("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(t){if(mc(t,Pi._jsonSchema))return new Pi(t.latitude,t.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ie("string",Pi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mc(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ni(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ie("string",Ni._jsonSchemaVersion),vectorValues:Ie("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^__.*__$/;class Sk{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms):new pc(t,this.data,n,this.fieldTransforms)}}class U1{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Rs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function j1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ec:e})}}class nv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new nv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Rc({path:r,mc:!1});return a.fc(t),a}gc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Gf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(j1(this.Ec)&&Ak.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class wk{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||dd(t)}Dc(t,n,r,a=!1){return new nv({Ec:t,methodName:n,bc:r,path:Xe.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(e){const t=e._freezeSettings(),n=dd(e._databaseId);return new wk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function B1(e,t,n,r,a,l={}){const c=e.Dc(l.merge||l.mergeFields?2:0,t,n,a);rv("Data must be an object, but it was:",c,r);const f=z1(r,c);let m,p;if(l.merge)m=new In(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const _=Lg(t,T,n);if(!c.contains(_))throw new ct(tt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);q1(y,_)||y.push(_)}m=new In(y),p=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,p=c.fieldTransforms;return new Sk(new vn(f),m,p)}class Td extends vd{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Td}}class iv extends vd{constructor(t,n){super(t),this.Cc=n}_toFieldTransform(t){const n=new Ju(t.serializer,$w(t.serializer,this.Cc));return new vO(t.path,n)}isEqual(t){return t instanceof iv&&this.Cc===t.Cc}}function Rk(e,t,n,r){const a=e.Dc(1,t,n);rv("Data must be an object, but it was:",a,r);const l=[],c=vn.empty();ws(r,(m,p)=>{const y=sv(t,m,n);p=on(p);const T=a.gc(y);if(p instanceof Td)l.push(y);else{const _=_c(p,T);_!=null&&(l.push(y),c.set(y,_))}});const f=new In(l);return new U1(c,f,a.fieldTransforms)}function xk(e,t,n,r,a,l){const c=e.Dc(1,t,n),f=[Lg(t,r,n)],m=[a];if(l.length%2!=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(Lg(t,l[_])),m.push(l[_+1]);const p=[],y=vn.empty();for(let _=f.length-1;_>=0;--_)if(!q1(p,f[_])){const R=f[_];let x=m[_];x=on(x);const B=c.gc(R);if(x instanceof Td)p.push(R);else{const U=_c(x,B);U!=null&&(p.push(R),y.set(R,U))}}const T=new In(p);return new U1(y,T,c.fieldTransforms)}function Ck(e,t,n,r=!1){return _c(n,e.Dc(r?4:3,t))}function _c(e,t){if(F1(e=on(e)))return rv("Unsupported field value:",t,e),z1(e,t);if(e instanceof vd)return function(r,a){if(!j1(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let m=_c(f,a.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(e,t)}return function(r,a){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $w(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ne.fromDate(r);return{timestampValue:Bf(a.serializer,l)}}if(r instanceof ne){const l=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(a.serializer,l)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:i1(a.serializer,r._byteString)};if(r instanceof Te){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:zy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Ni)return function(c,f){return{mapValue:{fields:{[Vw]:{stringValue:Pw},[Lf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.wc("VectorValues must only contain numeric values.");return Ly(f.serializer,p)})}}}}}}(r,a);throw a.wc(`Unsupported field value: ${rd(r)}`)}(e,t)}function z1(e,t){const n={};return ww(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(e,(r,a)=>{const l=_c(a,t.Vc(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function F1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof Pi||e instanceof Gn||e instanceof Te||e instanceof vd||e instanceof Ni)}function rv(e,t,n){if(!F1(n)||!Aw(n)){const r=rd(n);throw r==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Lg(e,t,n){if((t=on(t))instanceof yd)return t._internalPath;if(typeof t=="string")return sv(e,t);throw Gf("Field path arguments must be of type string or ",e,!1,void 0,n)}const Ik=new RegExp("[~\\*/\\[\\]]");function sv(e,t,n){if(t.search(Ik)>=0)throw Gf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new yd(...t.split("."))._internalPath}catch{throw Gf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gf(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ct(tt.INVALID_ARGUMENT,f+e+m)}function q1(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(av("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dk extends H1{data(){return super.data()}}function av(e,t){return typeof t=="string"?sv(e,t):t instanceof yd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class G1 extends ov{}function lv(e,t,...n){let r=[];t instanceof ov&&r.push(t),r=r.concat(n),function(l){const c=l.filter(m=>m instanceof cv).length,f=l.filter(m=>m instanceof uv).length;if(c>1||c>0&&f>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)e=a._apply(e);return e}class uv extends G1{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new uv(t,n,r)}_apply(t){const n=this._parse(t);return K1(t._query,n),new Pa(t.firestore,t.converter,Rg(t._query,n))}_parse(t){const n=_d(t.firestore);return function(l,c,f,m,p,y,T){let _;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Kb(T,y);const x=[];for(const B of T)x.push(Gb(m,l,B));_={arrayValue:{values:x}}}else _=Gb(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Kb(T,y),_=Ck(f,c,T,y==="in"||y==="not-in");return Ce.create(p,y,_)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class cv extends ov{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new cv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)K1(c,m),c=Rg(c,m)}(t._query,n),new Pa(t.firestore,t.converter,Rg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hv extends G1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new hv(t,n)}_apply(t){const n=function(a,l,c){if(a.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xu(l,c)}(t._query,this._field,this._direction);return new Pa(t.firestore,t.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new ll(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,n))}}function fv(e,t="asc"){const n=t,r=av("orderBy",e);return hv._create(r,n)}function Gb(e,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bw(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!gt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lb(e,new gt(r))}if(n instanceof Te)return lb(e,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rd(n)}.`)}function Kb(e,t){if(!Array.isArray(e)||e.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function K1(e,t){const n=function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Pk{convertValue(t,n="none"){switch(_s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ws(t,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[Lf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>_e(c.doubleValue));return new Ni(l)}convertGeoPoint(t){return new Pi(_e(t.latitude),_e(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=od(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(t));default:return null}}convertTimestamp(t){const n=ys(t);return new ne(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);Ht(u1(r),9688,{name:t});const a=new Yu(r.get(1),r.get(3)),l=new gt(r.popFirst(5));return a.isEqual(n)||Tr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Iu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ba extends H1{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Tf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(av("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ba._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ba._jsonSchemaVersion="firestore/documentSnapshot/1.0",ba._jsonSchema={type:Ie("string",ba._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Tf extends ba{data(t={}){return super.data(t)}}class qo{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Iu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Tf(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const m=new Tf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new Tf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Iu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:Nk(f.type),doc:m,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=qo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Nk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e){e=oi(e,Te);const t=oi(e.firestore,Na);return vk(ev(t),e._key).then(n=>Lk(t,e,n))}qo._jsonSchemaVersion="firestore/querySnapshot/1.0",qo._jsonSchema={type:Ie("string",qo._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Y1 extends Pk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Te(this.firestore,null,n)}}function dv(e){e=oi(e,Pa);const t=oi(e.firestore,Na),n=ev(t),r=new Y1(t);return Vk(e._query),_k(n,e._query).then(a=>new qo(t,r,e,a))}function Ok(e,t,n){e=oi(e,Te);const r=oi(e.firestore,Na),a=$1(e.converter,t);return bd(r,[B1(_d(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,Kn.none())])}function mv(e,t,n,...r){e=oi(e,Te);const a=oi(e.firestore,Na),l=_d(a);let c;return c=typeof(t=on(t))=="string"||t instanceof yd?xk(l,"updateDoc",e._key,t,n,r):Rk(l,"updateDoc",e._key,t),bd(a,[c.toMutation(e._key,Kn.exists(!0))])}function Mk(e){return bd(oi(e.firestore,Na),[new Uy(e._key,Kn.none())])}function kk(e,t){const n=oi(e.firestore,Na),r=bs(e),a=$1(e.converter,t);return bd(n,[B1(_d(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function bd(e,t){return function(r,a){const l=new gr;return r.asyncQueue.enqueueAndForget(async()=>ak(await yk(r),a,l)),l.promise}(ev(e),t)}function Lk(e,t,n){const r=n.docs.get(t._key),a=new Y1(e);return new ba(e,a,t._key,r,new Iu(n.hasPendingWrites,n.fromCache),t.converter)}function Q1(e){return new iv("increment",e)}(function(t,n=!0){(function(a){sl=a})(il),Ho(new Ra("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Na(new IN(r.getProvider("auth-internal")),new PN(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yu(p.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),fs(YE,QE,t),fs(YE,QE,"esm2017")})();const Uk={apiKey:"AIzaSyAfmSltqXP6NOI7HeWOoYZ4Sz_S2078sgw",authDomain:"biolinker-ba1a9.firebaseapp.com",projectId:"biolinker-ba1a9",storageBucket:"biolinker-ba1a9.firebasestorage.app",messagingSenderId:"831531161417",appId:"1:831531161417:web:101eb19a91556ee8c9ec98"},X1=NS(Uk),Tc=wN(X1),jk=new fr,si=Ek(X1),W1=e=>e?e.toLowerCase().replace(/\s+/g,"").replace(/[^\w-]+/g,""):"",Bk=()=>{const e=Rr(),t=async()=>{try{const r=(await OP(Tc,jk)).user,a=W1(r.displayName),l=bs(si,"users",a),c=await Ed(l);c.exists()||await Ok(l,{uid:r.uid,name:r.displayName,photoURL:r.photoURL,slug:a,isProUser:!1,bio:""});const f=c.exists()&&c.data().isProUser;localStorage.setItem("isPro",f?"true":"false"),e("/dashboard")}catch(n){console.error("Login failed:",n)}};return M.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:M.jsx("button",{onClick:t,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md text-lg font-semibold shadow",children:"Sign in with Google"})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zk(e,t,n,r){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function f(y){try{p(r.next(y))}catch(T){c(T)}}function m(y){try{p(r.throw(y))}catch(T){c(T)}}function p(y){y.done?l(y.value):a(y.value).then(f,m)}p((r=r.apply(e,[])).next())})}function Fk(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(p){return function(y){return m([p,y])}}function m(p){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{r=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var No=function(){return No=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},No.apply(this,arguments)},Z1=function(e){return{loading:e==null,value:e}},qk=function(){return function(e,t){switch(t.type){case"error":return No(No({},e),{error:t.error,loading:!1,value:void 0});case"reset":return Z1(t.defaultValue);case"value":return No(No({},e),{error:void 0,loading:!1,value:t.value});default:return e}}},Hk=function(e){var t=e?e():void 0,n=O.useReducer(qk(),Z1(t)),r=n[0],a=n[1],l=O.useCallback(function(){var m=e?e():void 0;a({type:"reset",defaultValue:m})},[e]),c=O.useCallback(function(m){a({type:"error",error:m})},[]),f=O.useCallback(function(m){a({type:"value",value:m})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:l,setError:c,setValue:f,value:r.value}},[r.error,r.loading,l,c,f,r.value])},Ad=function(e,t){var n=Hk(function(){return e.currentUser}),r=n.error,a=n.loading,l=n.setError,c=n.setValue,f=n.value;return O.useEffect(function(){var m=mP(e,function(p){return zk(void 0,void 0,void 0,function(){var y;return Fk(this,function(T){switch(T.label){case 0:return[3,4];case 1:return T.trys.push([1,3,,4]),[4,t.onUserChanged(p)];case 2:return T.sent(),[3,4];case 3:return y=T.sent(),l(y),[3,4];case 4:return c(p),[2]}})})},l);return function(){m()}},[e]),[f,a,r]};const J1=O.createContext(),Sd=()=>O.useContext(J1),Gk=({children:e})=>{const[t,n]=O.useState(null),[r,a]=O.useState(!1);return O.useEffect(()=>{const l=localStorage.getItem("isPro");a(l==="true"),n({name:"Sahil Rohilla",email:"sahil@example.com",id:"user123"})},[]),M.jsx(J1.Provider,{value:{user:t,isPro:r},children:e})};let Kk={data:""},$k=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Kk,Yk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Qk=/\/\*[^]*?\*\/|  +/g,$b=/\n+/g,ls=(e,t)=>{let n="",r="",a="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":r+=l[1]=="f"?ls(c,l):l+"{"+ls(c,l[1]=="k"?"":t)+"}":typeof c=="object"?r+=ls(c,t?t.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,f):f?f+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ls.p?ls.p(l,c):l+":"+c+";")}return n+(t&&a?t+"{"+a+"}":a)+r},hr={},tR=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+tR(e[n]);return t}return e},Xk=(e,t,n,r,a)=>{let l=tR(e),c=hr[l]||(hr[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!hr[c]){let m=l!==e?e:(p=>{let y,T,_=[{}];for(;y=Yk.exec(p.replace(Qk,""));)y[4]?_.shift():y[3]?(T=y[3].replace($b," ").trim(),_.unshift(_[0][T]=_[0][T]||{})):_[0][y[1]]=y[2].replace($b," ").trim();return _[0]})(e);hr[c]=ls(a?{["@keyframes "+c]:m}:m,n?"":"."+c)}let f=n&&hr.g?hr.g:null;return n&&(hr.g=hr[c]),((m,p,y,T)=>{T?p.data=p.data.replace(T,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(hr[c],t,r,f),c},Wk=(e,t,n)=>e.reduce((r,a,l)=>{let c=t[l];if(c&&c.call){let f=c(n),m=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=m?"."+m:f&&typeof f=="object"?f.props?"":ls(f,""):f===!1?"":f}return r+a+(c??"")},"");function wd(e){let t=this||{},n=e.call?e(t.p):e;return Xk(n.unshift?n.raw?Wk(n,[].slice.call(arguments,1),t.p):n.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):n,$k(t.target),t.g,t.o,t.k)}let eR,Ug,jg;wd.bind({g:1});let br=wd.bind({k:1});function Zk(e,t,n,r){ls.p=t,eR=e,Ug=n,jg=r}function xs(e,t){let n=this||{};return function(){let r=arguments;function a(l,c){let f=Object.assign({},l),m=f.className||a.className;n.p=Object.assign({theme:Ug&&Ug()},f),n.o=/ *go\d+/.test(m),f.className=wd.apply(n,r)+(m?" "+m:"");let p=e;return e[0]&&(p=f.as||e,delete f.as),jg&&p[0]&&jg(f),eR(p,f)}return a}}var Jk=e=>typeof e=="function",Kf=(e,t)=>Jk(e)?e(t):e,t4=(()=>{let e=0;return()=>(++e).toString()})(),nR=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),e4=20,iR=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,e4)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:n}=t;return iR(e,{type:e.toasts.find(l=>l.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Ef=[],va={toasts:[],pausedAt:void 0},Oa=e=>{va=iR(va,e),Ef.forEach(t=>{t(va)})},n4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},i4=(e={})=>{let[t,n]=O.useState(va),r=O.useRef(va);O.useEffect(()=>(r.current!==va&&n(va),Ef.push(n),()=>{let l=Ef.indexOf(n);l>-1&&Ef.splice(l,1)}),[]);let a=t.toasts.map(l=>{var c,f,m;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((c=e[l.type])==null?void 0:c.removeDelay)||e?.removeDelay,duration:l.duration||((f=e[l.type])==null?void 0:f.duration)||e?.duration||n4[l.type],style:{...e.style,...(m=e[l.type])==null?void 0:m.style,...l.style}}});return{...t,toasts:a}},r4=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||t4()}),Ec=e=>(t,n)=>{let r=r4(t,e,n);return Oa({type:2,toast:r}),r.id},fn=(e,t)=>Ec("blank")(e,t);fn.error=Ec("error");fn.success=Ec("success");fn.loading=Ec("loading");fn.custom=Ec("custom");fn.dismiss=e=>{Oa({type:3,toastId:e})};fn.remove=e=>Oa({type:4,toastId:e});fn.promise=(e,t,n)=>{let r=fn.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?Kf(t.success,a):void 0;return l?fn.success(l,{id:r,...n,...n?.success}):fn.dismiss(r),a}).catch(a=>{let l=t.error?Kf(t.error,a):void 0;l?fn.error(l,{id:r,...n,...n?.error}):fn.dismiss(r)}),e};var s4=(e,t)=>{Oa({type:1,toast:{id:e,height:t}})},a4=()=>{Oa({type:5,time:Date.now()})},Lu=new Map,o4=1e3,l4=(e,t=o4)=>{if(Lu.has(e))return;let n=setTimeout(()=>{Lu.delete(e),Oa({type:4,toastId:e})},t);Lu.set(e,n)},u4=e=>{let{toasts:t,pausedAt:n}=i4(e);O.useEffect(()=>{if(n)return;let l=Date.now(),c=t.map(f=>{if(f.duration===1/0)return;let m=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(m<0){f.visible&&fn.dismiss(f.id);return}return setTimeout(()=>fn.dismiss(f.id),m)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[t,n]);let r=O.useCallback(()=>{n&&Oa({type:6,time:Date.now()})},[n]),a=O.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:m=8,defaultPosition:p}=c||{},y=t.filter(R=>(R.position||p)===(l.position||p)&&R.height),T=y.findIndex(R=>R.id===l.id),_=y.filter((R,x)=>x<T&&R.visible).length;return y.filter(R=>R.visible).slice(...f?[_+1]:[0,_]).reduce((R,x)=>R+(x.height||0)+m,0)},[t]);return O.useEffect(()=>{t.forEach(l=>{if(l.dismissed)l4(l.id,l.removeDelay);else{let c=Lu.get(l.id);c&&(clearTimeout(c),Lu.delete(l.id))}})},[t]),{toasts:t,handlers:{updateHeight:s4,startPause:a4,endPause:r,calculateOffset:a}}},c4=br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,h4=br`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,f4=br`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,d4=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${c4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${h4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${f4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,m4=br`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,p4=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${m4} 1s linear infinite;
`,g4=br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,y4=br`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,v4=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${y4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_4=xs("div")`
  position: absolute;
`,T4=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,E4=br`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b4=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${E4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,A4=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?O.createElement(b4,null,t):t:n==="blank"?null:O.createElement(T4,null,O.createElement(p4,{...r}),n!=="loading"&&O.createElement(_4,null,n==="error"?O.createElement(d4,{...r}):O.createElement(v4,{...r})))},S4=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,w4=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,R4="0%{opacity:0;} 100%{opacity:1;}",x4="0%{opacity:1;} 100%{opacity:0;}",C4=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,I4=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,D4=(e,t)=>{let n=e.includes("top")?1:-1,[r,a]=nR()?[R4,x4]:[S4(n),w4(n)];return{animation:t?`${br(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${br(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},V4=O.memo(({toast:e,position:t,style:n,children:r})=>{let a=e.height?D4(e.position||t||"top-center",e.visible):{opacity:0},l=O.createElement(A4,{toast:e}),c=O.createElement(I4,{...e.ariaProps},Kf(e.message,e));return O.createElement(C4,{className:e.className,style:{...a,...n,...e.style}},typeof r=="function"?r({icon:l,message:c}):O.createElement(O.Fragment,null,l,c))});Zk(O.createElement);var P4=({id:e,className:t,style:n,onHeightUpdate:r,children:a})=>{let l=O.useCallback(c=>{if(c){let f=()=>{let m=c.getBoundingClientRect().height;r(e,m)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return O.createElement("div",{ref:l,className:t,style:n},a)},N4=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:nR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...a}},O4=wd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,rf=16,M4=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:m}=u4(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:rf,left:rf,right:rf,bottom:rf,pointerEvents:"none",...l},className:c,onMouseEnter:m.startPause,onMouseLeave:m.endPause},f.map(p=>{let y=p.position||t,T=m.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),_=N4(y,T);return O.createElement(P4,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?O4:"",style:_},p.type==="custom"?Kf(p.message,p):a?a(p):O.createElement(V4,{toast:p,position:y}))}))},Co=fn;const k4=()=>{const e=Rr(),t=()=>{e("/upgrade")};return M.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-lg shadow mb-4",children:M.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-3",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-bold",children:"🚀 Upgrade to Pro"}),M.jsx("p",{className:"text-sm",children:"Unlock link click analytics, custom themes, and more premium features."})]}),M.jsx("button",{onClick:t,className:"bg-yellow-500 hover:bg-yellow-600 text-white font-semibold text-sm px-4 py-2 rounded-md transition",children:"Upgrade Now"})]})})},L4=async(e,t)=>{if(!e||!t){console.warn("trackClick: Missing userId or linkId");return}try{const n=bs(si,"links",e,"items",t);await mv(n,{clicks:Q1(1)}),console.log(`✅ Click tracked for link ${t}`)}catch(n){console.error("❌ Error tracking click:",n)}},U4=()=>{const[e]=Ad(Tc);Rr();const{isPro:t}=Sd(),[n,r]=O.useState(""),[a,l]=O.useState(""),[c,f]=O.useState([]),[m,p]=O.useState(!0);O.useEffect(()=>{if(!e)return;(async()=>{const R=lv(Hf(si,"links",e.uid,"items"),fv("createdAt","desc")),B=(await dv(R)).docs.map(U=>({id:U.id,...U.data()}));f(B),p(!1)})()},[e]);const y=async()=>{if(!n||!a){Co.error("Both fields required");return}if(!t&&c.length>=3){Co.error("Free users can only add 3 links");return}try{const _={title:n,url:a,createdAt:Date.now(),clicks:0},R=await kk(Hf(si,"links",e.uid,"items"),_);f([{..._,id:R.id},...c]),r(""),l(""),Co.success("Link added!")}catch(_){console.error(_),Co.error("Failed to add link")}},T=async _=>{try{await Mk(bs(si,"links",e.uid,"items",_)),f(c.filter(R=>R.id!==_)),Co.success("Link deleted")}catch(R){console.error(R),Co.error("Error deleting link")}};return M.jsxs("div",{className:"p-4 max-w-xl mx-auto",children:[M.jsx(M4,{}),M.jsx("div",{className:"flex justify-between items-center mb-4",children:M.jsx("h2",{className:"text-2xl font-bold",children:"🚀 Dashboard"})}),!t&&M.jsx(k4,{}),M.jsxs("div",{className:"mb-4",children:[M.jsx("input",{type:"text",placeholder:"Link title",value:n,onChange:_=>r(_.target.value),className:"w-full p-2 border rounded mb-2"}),M.jsx("input",{type:"text",placeholder:"https://yourlink.com",value:a,onChange:_=>l(_.target.value),className:"w-full p-2 border rounded mb-2"}),M.jsx("button",{onClick:y,className:"bg-blue-600 text-white w-full py-2 rounded",children:"➕ Add Link"})]}),m?M.jsx("p",{className:"text-center text-gray-500",children:"Loading links..."}):M.jsxs(M.Fragment,{children:[M.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Links:"}),c.map(_=>M.jsxs("div",{className:"flex justify-between items-center bg-white p-3 mb-2 rounded shadow hover:bg-blue-50 transition",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-semibold",children:_.title}),M.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 text-sm",onClick:()=>L4(e.uid,_.id),children:_.url}),t&&M.jsxs("p",{className:"text-xs text-gray-500",children:["Clicks: ",_.clicks||0]})]}),M.jsx("button",{onClick:()=>T(_.id),className:"text-red-500 hover:text-red-700",children:"❌"})]},_.id))]})]})},Rd=()=>{const e=()=>{window.location.href="https://payments.cashfree.com/forms/apniLink"};return M.jsxs("div",{className:"text-center my-6",children:[M.jsx("button",{onClick:e,className:"bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-6 rounded-lg shadow-md transition duration-300",children:"🚀 Upgrade to Pro – ₹89"}),M.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Unlock premium features like analytics, themes, and more!"})]})},j4=()=>{const e=Rr();return M.jsxs("div",{className:"min-h-screen bg-gray-100 p-6 flex flex-col items-center justify-center text-center",children:[M.jsx("h1",{className:"text-4xl font-bold mb-4 text-indigo-700",children:"Upgrade to Pro 🚀"}),M.jsx("p",{className:"text-lg mb-6 max-w-md text-gray-600",children:"Unlock unlimited links, click analytics, and remove branding from your public page."}),M.jsxs("div",{className:"bg-white shadow-lg p-6 rounded-md max-w-md w-full",children:[M.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"💳 Pro Plan – ₹99 Only"}),M.jsxs("ul",{className:"text-left text-gray-600 mb-6 list-disc list-inside",children:[M.jsx("li",{children:"Unlimited Links"}),M.jsx("li",{children:"View Click Analytics"}),M.jsx("li",{children:"Remove Branding"}),M.jsx("li",{children:"Priority Support"})]}),M.jsx(Rd,{}),M.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 text-indigo-600 underline hover:text-indigo-800",children:"← Back to Dashboard"})]})]})},rR=O.createContext({});function B4(e){const t=O.useRef(null);return t.current===null&&(t.current=e()),t.current}const pv=typeof window<"u",z4=pv?O.useLayoutEffect:O.useEffect,gv=O.createContext(null);function yv(e,t){e.indexOf(t)===-1&&e.push(t)}function vv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ar=(e,t,n)=>n>t?t:n<e?e:n;let _v=()=>{};const Sr={},sR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function aR(e){return typeof e=="object"&&e!==null}const oR=e=>/^0[^.\s]+$/u.test(e);function Tv(e){let t;return()=>(t===void 0&&(t=e()),t)}const $n=e=>e,F4=(e,t)=>n=>t(e(n)),bc=(...e)=>e.reduce(F4),tc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Ev{constructor(){this.subscriptions=[]}add(t){return yv(this.subscriptions,t),()=>vv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=e=>e*1e3,Mi=e=>e/1e3;function lR(e,t){return t?e*(1e3/t):0}const uR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,q4=1e-7,H4=12;function G4(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=uR(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>q4&&++f<H4);return c}function Ac(e,t,n,r){if(e===t&&n===r)return $n;const a=l=>G4(l,0,1,e,n);return l=>l===0||l===1?l:uR(a(l),t,r)}const cR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hR=e=>t=>1-e(1-t),fR=Ac(.33,1.53,.69,.99),bv=hR(fR),dR=cR(bv),mR=e=>(e*=2)<1?.5*bv(e):.5*(2-Math.pow(2,-10*(e-1))),Av=e=>1-Math.sin(Math.acos(e)),pR=hR(Av),gR=cR(Av),K4=Ac(.42,0,1,1),$4=Ac(0,0,.58,1),yR=Ac(.42,0,.58,1),Y4=e=>Array.isArray(e)&&typeof e[0]!="number",vR=e=>Array.isArray(e)&&typeof e[0]=="number",Q4={linear:$n,easeIn:K4,easeInOut:yR,easeOut:$4,circIn:Av,circInOut:gR,circOut:pR,backIn:bv,backInOut:dR,backOut:fR,anticipate:mR},X4=e=>typeof e=="string",Yb=e=>{if(vR(e)){_v(e.length===4);const[t,n,r,a]=e;return Ac(t,n,r,a)}else if(X4(e))return Q4[e];return e},sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Qb={value:null};function W4(e,t){let n=new Set,r=new Set,a=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},m=0;function p(T){c.has(T)&&(y.schedule(T),e()),m++,T(f)}const y={schedule:(T,_=!1,R=!1)=>{const B=R&&a?n:r;return _&&c.add(T),B.has(T)||B.add(T),T},cancel:T=>{r.delete(T),c.delete(T)},process:T=>{if(f=T,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),t&&Qb.value&&Qb.value.frameloop[t].push(m),m=0,n.clear(),a=!1,l&&(l=!1,y.process(T))}};return y}const Z4=40;function _R(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=sf.reduce((Y,ot)=>(Y[ot]=W4(l,t?ot:void 0),Y),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:T,preRender:_,render:R,postRender:x}=c,B=()=>{const Y=Sr.useManualTiming?a.timestamp:performance.now();n=!1,Sr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(Y-a.timestamp,Z4),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),T.process(a),_.process(a),R.process(a),x.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(B))},U=()=>{n=!0,r=!0,a.isProcessing||e(B)};return{schedule:sf.reduce((Y,ot)=>{const it=c[ot];return Y[ot]=(ht,V=!1,w=!1)=>(n||U(),it.schedule(ht,V,w)),Y},{}),cancel:Y=>{for(let ot=0;ot<sf.length;ot++)c[sf[ot]].cancel(Y)},state:a,steps:c}}const{schedule:se,cancel:As,state:Ye,steps:Qp}=_R(typeof requestAnimationFrame<"u"?requestAnimationFrame:$n,!0);let bf;function J4(){bf=void 0}const _n={now:()=>(bf===void 0&&_n.set(Ye.isProcessing||Sr.useManualTiming?Ye.timestamp:performance.now()),bf),set:e=>{bf=e,queueMicrotask(J4)}},TR=e=>t=>typeof t=="string"&&t.startsWith(e),Sv=TR("--"),tL=TR("var(--"),wv=e=>tL(e)?eL.test(e.split("/*")[0].trim()):!1,eL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,cl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ec={...cl,transform:e=>Ar(0,1,e)},af={...cl,default:1},Uu=e=>Math.round(e*1e5)/1e5,Rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nL(e){return e==null}const iL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xv=(e,t)=>n=>!!(typeof n=="string"&&iL.test(n)&&n.startsWith(e)||t&&!nL(n)&&Object.prototype.hasOwnProperty.call(n,t)),ER=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(Rv);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},rL=e=>Ar(0,255,e),Xp={...cl,transform:e=>Math.round(rL(e))},_a={test:xv("rgb","red"),parse:ER("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Xp.transform(e)+", "+Xp.transform(t)+", "+Xp.transform(n)+", "+Uu(ec.transform(r))+")"};function sL(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Bg={test:xv("#"),parse:sL,transform:_a.transform},Sc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rs=Sc("deg"),ki=Sc("%"),bt=Sc("px"),aL=Sc("vh"),oL=Sc("vw"),Xb={...ki,parse:e=>ki.parse(e)/100,transform:e=>ki.transform(e*100)},Oo={test:xv("hsl","hue"),parse:ER("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ki.transform(Uu(t))+", "+ki.transform(Uu(n))+", "+Uu(ec.transform(r))+")"},xe={test:e=>_a.test(e)||Bg.test(e)||Oo.test(e),parse:e=>_a.test(e)?_a.parse(e):Oo.test(e)?Oo.parse(e):Bg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_a.transform(e):Oo.transform(e),getAnimatableNone:e=>{const t=xe.parse(e);return t.alpha=0,xe.transform(t)}},lL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uL(e){return isNaN(e)&&typeof e=="string"&&(e.match(Rv)?.length||0)+(e.match(lL)?.length||0)>0}const bR="number",AR="color",cL="var",hL="var(",Wb="${}",fL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(fL,m=>(xe.test(m)?(r.color.push(l),a.push(AR),n.push(xe.parse(m))):m.startsWith(hL)?(r.var.push(l),a.push(cL),n.push(m)):(r.number.push(l),a.push(bR),n.push(parseFloat(m))),++l,Wb)).split(Wb);return{values:n,split:f,indexes:r,types:a}}function SR(e){return nc(e).values}function wR(e){const{split:t,types:n}=nc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===bR?l+=Uu(a[c]):f===AR?l+=xe.transform(a[c]):l+=a[c]}return l}}const dL=e=>typeof e=="number"?0:xe.test(e)?xe.getAnimatableNone(e):e;function mL(e){const t=SR(e);return wR(e)(t.map(dL))}const Ss={test:uL,parse:SR,createTransformer:wR,getAnimatableNone:mL};function Wp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pL({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Wp(m,f,e+1/3),l=Wp(m,f,e),c=Wp(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function $f(e,t){return n=>n>0?t:e}const ue=(e,t,n)=>e+(t-e)*n,Zp=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},gL=[Bg,_a,Oo],yL=e=>gL.find(t=>t.test(e));function Zb(e){const t=yL(e);if(!t)return!1;let n=t.parse(e);return t===Oo&&(n=pL(n)),n}const Jb=(e,t)=>{const n=Zb(e),r=Zb(t);if(!n||!r)return $f(e,t);const a={...n};return l=>(a.red=Zp(n.red,r.red,l),a.green=Zp(n.green,r.green,l),a.blue=Zp(n.blue,r.blue,l),a.alpha=ue(n.alpha,r.alpha,l),_a.transform(a))},zg=new Set(["none","hidden"]);function vL(e,t){return zg.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function _L(e,t){return n=>ue(e,t,n)}function Cv(e){return typeof e=="number"?_L:typeof e=="string"?wv(e)?$f:xe.test(e)?Jb:bL:Array.isArray(e)?RR:typeof e=="object"?xe.test(e)?Jb:TL:$f}function RR(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>Cv(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function TL(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Cv(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function EL(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=e.indexes[l][r[l]],f=e.values[c]??0;n[a]=f,r[l]++}return n}const bL=(e,t)=>{const n=Ss.createTransformer(t),r=nc(e),a=nc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?zg.has(e)&&!a.values.length||zg.has(t)&&!r.values.length?vL(e,t):bc(RR(EL(r,a),a.values),n):$f(e,t)};function xR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ue(e,t,n):Cv(e)(e,t)}const AL=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>se.update(t,n),stop:()=>As(t),now:()=>Ye.isProcessing?Ye.timestamp:_n.now()}},CR=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yf=2e4;function Iv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Yf;)t+=n,r=e.next(t);return t>=Yf?1/0:t}function SL(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Iv(r),Yf);return{type:"keyframes",ease:l=>r.next(a*l).value/t,duration:Mi(a)}}const wL=5;function IR(e,t,n){const r=Math.max(t-wL,0);return lR(n-e(r),t-r)}const me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jp=.001;function RL({duration:e=me.duration,bounce:t=me.bounce,velocity:n=me.velocity,mass:r=me.mass}){let a,l,c=1-t;c=Ar(me.minDamping,me.maxDamping,c),e=Ar(me.minDuration,me.maxDuration,Mi(e)),c<1?(a=p=>{const y=p*c,T=y*e,_=y-n,R=Fg(p,c),x=Math.exp(-T);return Jp-_/R*x},l=p=>{const T=p*c*e,_=T*n+n,R=Math.pow(c,2)*Math.pow(p,2)*e,x=Math.exp(-T),B=Fg(Math.pow(p,2),c);return(-a(p)+Jp>0?-1:1)*((_-R)*x)/B}):(a=p=>{const y=Math.exp(-p*e),T=(p-n)*e+1;return-Jp+y*T},l=p=>{const y=Math.exp(-p*e),T=(n-p)*(e*e);return y*T});const f=5/e,m=CL(a,l,f);if(e=Oi(e),isNaN(m))return{stiffness:me.stiffness,damping:me.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const xL=12;function CL(e,t,n){let r=n;for(let a=1;a<xL;a++)r=r-e(r)/t(r);return r}function Fg(e,t){return e*Math.sqrt(1-t*t)}const IL=["duration","bounce"],DL=["stiffness","damping","mass"];function tA(e,t){return t.some(n=>e[n]!==void 0)}function VL(e){let t={velocity:me.velocity,stiffness:me.stiffness,damping:me.damping,mass:me.mass,isResolvedFromDuration:!1,...e};if(!tA(e,DL)&&tA(e,IL))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Ar(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:me.mass,stiffness:a,damping:l}}else{const n=RL(e);t={...t,...n,mass:me.mass},t.isResolvedFromDuration=!0}return t}function Qf(e=me.visualDuration,t=me.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:T,velocity:_,isResolvedFromDuration:R}=VL({...n,velocity:-Mi(n.velocity||0)}),x=_||0,B=p/(2*Math.sqrt(m*y)),U=c-l,L=Mi(Math.sqrt(m/y)),X=Math.abs(U)<5;r||(r=X?me.restSpeed.granular:me.restSpeed.default),a||(a=X?me.restDelta.granular:me.restDelta.default);let Y;if(B<1){const it=Fg(L,B);Y=ht=>{const V=Math.exp(-B*L*ht);return c-V*((x+B*L*U)/it*Math.sin(it*ht)+U*Math.cos(it*ht))}}else if(B===1)Y=it=>c-Math.exp(-L*it)*(U+(x+L*U)*it);else{const it=L*Math.sqrt(B*B-1);Y=ht=>{const V=Math.exp(-B*L*ht),w=Math.min(it*ht,300);return c-V*((x+B*L*U)*Math.sinh(w)+it*U*Math.cosh(w))/it}}const ot={calculatedDuration:R&&T||null,next:it=>{const ht=Y(it);if(R)f.done=it>=T;else{let V=it===0?x:0;B<1&&(V=it===0?Oi(x):IR(Y,it,ht));const w=Math.abs(V)<=r,C=Math.abs(c-ht)<=a;f.done=w&&C}return f.value=f.done?c:ht,f},toString:()=>{const it=Math.min(Iv(ot),Yf),ht=CR(V=>ot.next(it*V).value,it,30);return it+"ms "+ht},toTransition:()=>{}};return ot}Qf.applyToOptions=e=>{const t=SL(e,100,Qf);return e.ease=t.ease,e.duration=Oi(t.duration),e.type="keyframes",e};function qg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const T=e[0],_={done:!1,value:T},R=w=>f!==void 0&&w<f||m!==void 0&&w>m,x=w=>f===void 0?m:m===void 0||Math.abs(f-w)<Math.abs(m-w)?f:m;let B=n*t;const U=T+B,L=c===void 0?U:c(U);L!==U&&(B=L-T);const X=w=>-B*Math.exp(-w/r),Y=w=>L+X(w),ot=w=>{const C=X(w),P=Y(w);_.done=Math.abs(C)<=p,_.value=_.done?L:P};let it,ht;const V=w=>{R(_.value)&&(it=w,ht=Qf({keyframes:[_.value,x(_.value)],velocity:IR(Y,w,_.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return V(0),{calculatedDuration:null,next:w=>{let C=!1;return!ht&&it===void 0&&(C=!0,ot(w),V(w)),it!==void 0&&w>=it?ht.next(w-it):(!C&&ot(w),_)}}}function PL(e,t,n){const r=[],a=n||Sr.mix||xR,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||$n:t;f=bc(m,f)}r.push(f)}return r}function NL(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(_v(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=PL(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let T=0;if(m>1)for(;T<e.length-2&&!(y<e[T+1]);T++);const _=tc(e[T],e[T+1],y);return f[T](_)};return n?y=>p(Ar(e[0],e[l-1],y)):p}function OL(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=tc(0,t,r);e.push(ue(n,1,a))}}function ML(e){const t=[0];return OL(t,e.length-1),t}function kL(e,t){return e.map(n=>n*t)}function LL(e,t){return e.map(()=>t||yR).splice(0,e.length-1)}function ju({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Y4(r)?r.map(Yb):Yb(r),l={done:!1,value:t[0]},c=kL(n&&n.length===t.length?n:ML(t),e),f=NL(c,t,{ease:Array.isArray(a)?a:LL(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const UL=e=>e!==null;function Dv(e,{repeat:t,repeatType:n="loop"},r,a=1){const l=e.filter(UL),f=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const jL={decay:qg,inertia:qg,tween:ju,keyframes:ju,spring:Qf};function DR(e){typeof e.type=="string"&&(e.type=jL[e.type])}class Vv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const BL=e=>e/100;class Pv extends Vv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DR(t);const{type:n=ju,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const m=n||ju;m!==ju&&typeof f[0]!="number"&&(this.mixKeyframes=bc(BL,xR(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Iv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:T,repeatType:_,repeatDelay:R,type:x,onUpdate:B,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const L=this.currentTime-p*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?L<0:L>a;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,ot=r;if(T){const w=Math.min(this.currentTime,a)/f;let C=Math.floor(w),P=w%1;!P&&w>=1&&(P=1),P===1&&C--,C=Math.min(C,T+1),!!(C%2)&&(_==="reverse"?(P=1-P,R&&(P-=R/f)):_==="mirror"&&(ot=c)),Y=Ar(0,1,P)*f}const it=X?{done:!1,value:y[0]}:ot.next(Y);l&&(it.value=l(it.value));let{done:ht}=it;!X&&m!==null&&(ht=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ht);return V&&x!==qg&&(it.value=Dv(y,this.options,U,this.speed)),B&&B(it.value),V&&this.finish(),it}then(t,n){return this.finished.then(t,n)}get duration(){return Mi(this.calculatedDuration)}get time(){return Mi(this.currentTime)}set time(t){t=Oi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_n.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=AL,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function zL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ta=e=>e*180/Math.PI,Hg=e=>{const t=Ta(Math.atan2(e[1],e[0]));return Gg(t)},FL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Hg,rotateZ:Hg,skewX:e=>Ta(Math.atan(e[1])),skewY:e=>Ta(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gg=e=>(e=e%360,e<0&&(e+=360),e),eA=Hg,nA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),iA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),qL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nA,scaleY:iA,scale:e=>(nA(e)+iA(e))/2,rotateX:e=>Gg(Ta(Math.atan2(e[6],e[5]))),rotateY:e=>Gg(Ta(Math.atan2(-e[2],e[0]))),rotateZ:eA,rotate:eA,skewX:e=>Ta(Math.atan(e[4])),skewY:e=>Ta(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kg(e){return e.includes("scale")?1:0}function $g(e,t){if(!e||e==="none")return Kg(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=qL,a=n;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=FL,a=f}if(!a)return Kg(t);const l=r[t],c=a[1].split(",").map(GL);return typeof l=="function"?l(c):c[l]}const HL=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $g(n,t)};function GL(e){return parseFloat(e.trim())}const hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fl=new Set(hl),rA=e=>e===cl||e===bt,KL=new Set(["x","y","z"]),$L=hl.filter(e=>!KL.has(e));function YL(e){const t=[];return $L.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Aa={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$g(t,"x"),y:(e,{transform:t})=>$g(t,"y")};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const Sa=new Set;let Yg=!1,Qg=!1,Xg=!1;function VR(){if(Qg){const e=Array.from(Sa).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=YL(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{r.getValue(l)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qg=!1,Yg=!1,Sa.forEach(e=>e.complete(Xg)),Sa.clear()}function PR(){Sa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qg=!0)})}function QL(){Xg=!0,PR(),VR(),Xg=!1}class Nv{constructor(t,n,r,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Sa.add(this),Yg||(Yg=!0,se.read(PR),se.resolveKeyframes(VR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const l=a?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const f=r.readValue(n,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),a&&l===void 0&&a.set(t[0])}zL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Sa.delete(this)}cancel(){this.state==="scheduled"&&(Sa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XL=e=>e.startsWith("--");function WL(e,t,n){XL(t)?e.style.setProperty(t,n):e.style[t]=n}const ZL=Tv(()=>window.ScrollTimeline!==void 0),JL={};function t3(e,t){const n=Tv(e);return()=>JL[t]??n()}const NR=t3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Du=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function OR(e,t){if(e)return typeof e=="function"?NR()?CR(e,t):"ease-out":vR(e)?Du(e):Array.isArray(e)?e.map(n=>OR(n,t)||sA.easeOut):sA[e]}function e3(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const T=OR(f,a);Array.isArray(T)&&(y.easing=T);const _={delay:r,duration:a,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),e.animate(y,_)}function MR(e){return typeof e=="function"&&"applyToOptions"in e}function n3({type:e,...t}){return MR(e)&&NR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i3 extends Vv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,_v(typeof t.type!="string");const p=n3(t);this.animation=e3(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Dv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):WL(n,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Mi(Number(t))}get time(){return Mi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Oi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&ZL()?(this.animation.timeline=t,$n):n(this)}}const kR={anticipate:mR,backInOut:dR,circInOut:gR};function r3(e){return e in kR}function s3(e){typeof e.ease=="string"&&r3(e.ease)&&(e.ease=kR[e.ease])}const aA=10;class a3 extends i3{constructor(t){s3(t),DR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const f=new Pv({...c,autoplay:!1}),m=Oi(this.finishedTime??this.time);n.setWithVelocity(f.sample(m-aA).value,f.sample(m).value,aA),f.stop()}}const oA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ss.test(e)||e==="0")&&!e.startsWith("url("));function o3(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function l3(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=oA(a,t),f=oA(l,t);return!c||!f?!1:o3(e)||(n==="spring"||MR(n))&&r}function LR(e){return aR(e)&&"offsetHeight"in e}const u3=new Set(["opacity","clipPath","filter","transform"]),c3=Tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function h3(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!LR(t?.owner?.current))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return c3()&&n&&u3.has(n)&&(n!=="transform"||!m)&&!f&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}const f3=40;class d3 extends Vv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:m,motionValue:p,element:y,...T}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const _={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:y,...T},R=y?.KeyframeResolver||Nv;this.keyframeResolver=new R(f,(x,B,U)=>this.onKeyframesResolved(x,B,_,!U),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:m,isHandoff:p,onUpdate:y}=r;this.resolvedAt=_n.now(),l3(t,l,c,f)||((Sr.instantAnimations||!m)&&y?.(Dv(t,r,n)),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const _={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>f3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},R=!p&&h3(_)?new a3({..._,element:_.motionValue.owner.current}):new Pv(_);R.finished.then(()=>this.notifyFinished()).catch($n),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const m3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p3(e){const t=m3.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function UR(e,t,n=1){const[r,a]=p3(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return sR(c)?parseFloat(c):c}return wv(a)?UR(a,t,n+1):a}function Ov(e,t){return e?.[t]??e?.default??e}const jR=new Set(["width","height","top","left","right","bottom",...hl]),g3={test:e=>e==="auto",parse:e=>e},BR=e=>t=>t.test(e),zR=[cl,bt,ki,rs,oL,aL,g3],lA=e=>zR.find(BR(e));function y3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oR(e):!0}const v3=new Set(["brightness","contrast","saturate","opacity"]);function _3(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Rv)||[];if(!r)return e;const a=n.replace(r,"");let l=v3.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const T3=/\b([a-z-]*)\(.*?\)/gu,Wg={...Ss,getAnimatableNone:e=>{const t=e.match(T3);return t?t.map(_3).join(" "):e}},uA={...cl,transform:Math.round},E3={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:af,scaleX:af,scaleY:af,scaleZ:af,skew:rs,skewX:rs,skewY:rs,distance:bt,translateX:bt,translateY:bt,translateZ:bt,x:bt,y:bt,z:bt,perspective:bt,transformPerspective:bt,opacity:ec,originX:Xb,originY:Xb,originZ:bt},Mv={borderWidth:bt,borderTopWidth:bt,borderRightWidth:bt,borderBottomWidth:bt,borderLeftWidth:bt,borderRadius:bt,radius:bt,borderTopLeftRadius:bt,borderTopRightRadius:bt,borderBottomRightRadius:bt,borderBottomLeftRadius:bt,width:bt,maxWidth:bt,height:bt,maxHeight:bt,top:bt,right:bt,bottom:bt,left:bt,padding:bt,paddingTop:bt,paddingRight:bt,paddingBottom:bt,paddingLeft:bt,margin:bt,marginTop:bt,marginRight:bt,marginBottom:bt,marginLeft:bt,backgroundPositionX:bt,backgroundPositionY:bt,...E3,zIndex:uA,fillOpacity:ec,strokeOpacity:ec,numOctaves:uA},b3={...Mv,color:xe,backgroundColor:xe,outlineColor:xe,fill:xe,stroke:xe,borderColor:xe,borderTopColor:xe,borderRightColor:xe,borderBottomColor:xe,borderLeftColor:xe,filter:Wg,WebkitFilter:Wg},FR=e=>b3[e];function qR(e,t){let n=FR(e);return n!==Wg&&(n=Ss),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const A3=new Set(["auto","none","0"]);function S3(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!A3.has(l)&&nc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=qR(n,a)}class w3 extends Nv{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),wv(p))){const y=UR(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jR.has(r)||t.length!==2)return;const[a,l]=t,c=lA(a),f=lA(l);if(c!==f)if(rA(c)&&rA(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else Aa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||y3(t[a]))&&r.push(a);r.length&&S3(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Aa[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function R3(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=n?.[e]??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const HR=(e,t)=>t&&typeof e=="number"?t.transform(e):e,cA=30,x3=e=>!isNaN(parseFloat(e));class C3{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=_n.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();a&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_n.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=x3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Ev);const r=this.events[t].add(n);return t==="change"?()=>{r(),se.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>cA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,cA);return lR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(e,t){return new C3(e,t)}const{schedule:kv}=_R(queueMicrotask,!1),ei={x:!1,y:!1};function GR(){return ei.x||ei.y}function I3(e){return e==="x"||e==="y"?ei[e]?null:(ei[e]=!0,()=>{ei[e]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function KR(e,t){const n=R3(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function hA(e){return!(e.pointerType==="touch"||GR())}function D3(e,t,n={}){const[r,a,l]=KR(e,n),c=f=>{if(!hA(f))return;const{target:m}=f,p=t(m,f);if(typeof p!="function"||!m)return;const y=T=>{hA(T)&&(p(T),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const $R=(e,t)=>t?e===t?!0:$R(e,t.parentElement):!1,Lv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P3(e){return V3.has(e.tagName)||e.tabIndex!==-1}const Af=new WeakSet;function fA(e){return t=>{t.key==="Enter"&&e(t)}}function tg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const N3=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=fA(()=>{if(Af.has(n))return;tg(n,"down");const a=fA(()=>{tg(n,"up")}),l=()=>tg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function dA(e){return Lv(e)&&!GR()}function O3(e,t,n={}){const[r,a,l]=KR(e,n),c=f=>{const m=f.currentTarget;if(!dA(f))return;Af.add(m);const p=t(m,f),y=(R,x)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",_),Af.has(m)&&Af.delete(m),dA(R)&&typeof p=="function"&&p(R,{success:x})},T=R=>{y(R,m===window||m===document||n.useGlobalTarget||$R(m,R.target))},_=R=>{y(R,!1)};window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",_,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),LR(f)&&(f.addEventListener("focus",p=>N3(p,a)),!P3(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function YR(e){return aR(e)&&"ownerSVGElement"in e}function M3(e){return YR(e)&&e.tagName==="svg"}const sn=e=>!!(e&&e.getVelocity),k3=[...zR,xe,Ss],L3=e=>k3.find(BR(e)),QR=O.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function U3(e=!0){const t=O.useContext(gv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=O.useId();O.useEffect(()=>{if(e)return a(l)},[e]);const c=O.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const XR=O.createContext({strict:!1}),mA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zo={};for(const e in mA)Zo[e]={isEnabled:t=>mA[e].some(n=>!!t[n])};function j3(e){for(const t in e)Zo[t]={...Zo[t],...e[t]}}const B3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||B3.has(e)}let WR=e=>!Xf(e);function z3(e){typeof e=="function"&&(WR=t=>t.startsWith("on")?!Xf(t):e(t))}try{z3(require("@emotion/is-prop-valid").default)}catch{}function F3(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(WR(a)||n===!0&&Xf(a)||!t&&!Xf(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function q3(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const xd=O.createContext({});function Cd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ic(e){return typeof e=="string"||Array.isArray(e)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jv=["initial",...Uv];function Id(e){return Cd(e.animate)||jv.some(t=>ic(e[t]))}function ZR(e){return!!(Id(e)||e.variants)}function H3(e,t){if(Id(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ic(n)?n:void 0,animate:ic(r)?r:void 0}}return e.inherit!==!1?t:{}}function G3(e){const{initial:t,animate:n}=H3(e,O.useContext(xd));return O.useMemo(()=>({initial:t,animate:n}),[pA(t),pA(n)])}function pA(e){return Array.isArray(e)?e.join(" "):e}const K3=Symbol.for("motionComponentSymbol");function Mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function $3(e,t,n){return O.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mo(n)&&(n.current=r))},[t])}const Bv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Y3="framerAppearId",JR="data-"+Bv(Y3),tx=O.createContext({});function Q3(e,t,n,r,a){const{visualElement:l}=O.useContext(xd),c=O.useContext(XR),f=O.useContext(gv),m=O.useContext(QR).reducedMotion,p=O.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,T=O.useContext(tx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&X3(p.current,n,a,T);const _=O.useRef(!1);O.useInsertionEffect(()=>{y&&_.current&&y.update(n,f)});const R=n[JR],x=O.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return z4(()=>{y&&(_.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),kv.render(y.render),x.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!x.current&&y.animationState&&y.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),x.current=!1))}),y}function X3(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ex(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Mo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:p})}function ex(e){if(e)return e.options.allowProjection!==!1?e.projection:ex(e.parent)}function W3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&j3(e);function l(f,m){let p;const y={...O.useContext(QR),...f,layoutId:Z3(f)},{isStatic:T}=y,_=G3(f),R=r(f,T);if(!T&&pv){J3();const x=t6(y);p=x.MeasureLayout,_.visualElement=Q3(a,R,y,t,x.ProjectionNode)}return M.jsxs(xd.Provider,{value:_,children:[p&&_.visualElement?M.jsx(p,{visualElement:_.visualElement,...y}):null,n(a,f,$3(R,_.visualElement,m),R,T,_.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=O.forwardRef(l);return c[K3]=a,c}function Z3({layoutId:e}){const t=O.useContext(rR).id;return t&&e!==void 0?t+"-"+e:e}function J3(e,t){O.useContext(XR).strict}function t6(e){const{drag:t,layout:n}=Zo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const rc={};function e6(e){for(const t in e)rc[t]=e[t],Sv(t)&&(rc[t].isCSSVariable=!0)}function nx(e,{layout:t,layoutId:n}){return fl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!rc[e]||e==="opacity")}const n6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},i6=hl.length;function r6(e,t,n){let r="",a=!0;for(let l=0;l<i6;l++){const c=hl[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=HR(f,Mv[c]);if(!m){a=!1;const y=n6[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function zv(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(fl.has(m)){c=!0;continue}else if(Sv(m)){a[m]=p;continue}else{const y=HR(p,Mv[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=r6(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ix(e,t,n){for(const r in t)!sn(t[r])&&!nx(r,n)&&(e[r]=t[r])}function s6({transformTemplate:e},t){return O.useMemo(()=>{const n=Fv();return zv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function a6(e,t){const n=e.style||{},r={};return ix(r,n,e),Object.assign(r,s6(e,t)),r}function o6(e,t){const n={},r=a6(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const l6={offset:"stroke-dashoffset",array:"stroke-dasharray"},u6={offset:"strokeDashoffset",array:"strokeDasharray"};function c6(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?l6:u6;e[l.offset]=bt.transform(-r);const c=bt.transform(t),f=bt.transform(n);e[l.array]=`${c} ${f}`}function rx(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...f},m,p,y){if(zv(e,f,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:T,style:_}=e;T.transform&&(_.transform=T.transform,delete T.transform),(_.transform||T.transformOrigin)&&(_.transformOrigin=T.transformOrigin??"50% 50%",delete T.transformOrigin),_.transform&&(_.transformBox=y?.transformBox??"fill-box",delete T.transformBox),t!==void 0&&(T.x=t),n!==void 0&&(T.y=n),r!==void 0&&(T.scale=r),a!==void 0&&c6(T,a,l,c,!1)}const sx=()=>({...Fv(),attrs:{}}),ax=e=>typeof e=="string"&&e.toLowerCase()==="svg";function h6(e,t,n,r){const a=O.useMemo(()=>{const l=sx();return rx(l,t,ax(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};ix(l,e.style,e),a.style={...l,...a.style}}return a}const f6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qv(e){return typeof e!="string"||e.includes("-")?!1:!!(f6.indexOf(e)>-1||/[A-Z]/u.test(e))}function d6(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(qv(n)?h6:o6)(r,l,c,n),p=F3(r,typeof n=="string",e),y=n!==O.Fragment?{...p,...m,ref:a}:{},{children:T}=r,_=O.useMemo(()=>sn(T)?T.get():T,[T]);return O.createElement(n,{...y,children:_})}}function gA(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Hv(e,t,n,r){if(typeof t=="function"){const[a,l]=gA(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=gA(r);t=t(n!==void 0?n:e.custom,a,l)}return t}function Sf(e){return sn(e)?e.get():e}function m6({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:p6(n,r,a,e),renderState:t()}}const ox=e=>(t,n)=>{const r=O.useContext(xd),a=O.useContext(gv),l=()=>m6(e,t,r,a);return n?l():B4(l)};function p6(e,t,n,r){const a={},l=r(e,{});for(const _ in l)a[_]=Sf(l[_]);let{initial:c,animate:f}=e;const m=Id(e),p=ZR(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const T=y?f:c;if(T&&typeof T!="boolean"&&!Cd(T)){const _=Array.isArray(T)?T:[T];for(let R=0;R<_.length;R++){const x=Hv(e,_[R]);if(x){const{transitionEnd:B,transition:U,...L}=x;for(const X in L){let Y=L[X];if(Array.isArray(Y)){const ot=y?Y.length-1:0;Y=Y[ot]}Y!==null&&(a[X]=Y)}for(const X in B)a[X]=B[X]}}}return a}function Gv(e,t,n){const{style:r}=e,a={};for(const l in r)(sn(r[l])||t.style&&sn(t.style[l])||nx(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const g6={useVisualState:ox({scrapeMotionValuesFromProps:Gv,createRenderState:Fv})};function lx(e,t,n){const r=Gv(e,t,n);for(const a in e)if(sn(e[a])||sn(t[a])){const l=hl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}const y6={useVisualState:ox({scrapeMotionValuesFromProps:lx,createRenderState:sx})};function v6(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...qv(r)?y6:g6,preloadedFeatures:e,useRender:d6(a),createVisualElement:t,Component:r};return W3(c)}}function sc(e,t,n){const r=e.getProps();return Hv(r,t,n!==void 0?n:r.custom,e)}const Zg=e=>Array.isArray(e);function _6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wo(n))}function T6(e){return Zg(e)?e[e.length-1]||0:e}function E6(e,t){const n=sc(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=T6(l[c]);_6(e,c,f)}}function b6(e){return!!(sn(e)&&e.add)}function Jg(e,t){const n=e.getValue("willChange");if(b6(n))return n.add(t);if(!n&&Sr.WillChange){const r=new Sr.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function ux(e){return e.props[JR]}const A6=e=>e!==null;function S6(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(A6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const w6={type:"spring",stiffness:500,damping:25,restSpeed:10},R6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),x6={type:"keyframes",duration:.8},C6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I6=(e,{keyframes:t})=>t.length>2?x6:fl.has(e)?e.startsWith("scale")?R6(t[1]):w6:C6;function D6({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const Kv=(e,t,n,r={},a,l)=>c=>{const f=Ov(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Oi(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:_=>{t.set(_),f.onUpdate&&f.onUpdate(_)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};D6(f)||Object.assign(y,I6(e,y)),y.duration&&(y.duration=Oi(y.duration)),y.repeatDelay&&(y.repeatDelay=Oi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let T=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(T=!0)),(Sr.instantAnimations||Sr.skipAnimations)&&(T=!0,y.duration=0,y.delay=0),y.allowFlatten=!f.type&&!f.ease,T&&!l&&t.get()!==void 0){const _=S6(y.keyframes,f);if(_!==void 0){se.update(()=>{y.onUpdate(_),y.onComplete()});return}}return f.isSync?new Pv(y):new d3(y)};function V6({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function cx(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;r&&(l=r);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in f){const T=e.getValue(y,e.latestValues[y]??null),_=f[y];if(_===void 0||p&&V6(p,y))continue;const R={delay:n,...Ov(l||{},y)},x=T.get();if(x!==void 0&&!T.isAnimating&&!Array.isArray(_)&&_===x&&!R.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const L=ux(e);if(L){const X=window.MotionHandoffAnimation(L,y,se);X!==null&&(R.startTime=X,B=!0)}}Jg(e,y),T.start(Kv(y,T,_,e.shouldReduceMotion&&jR.has(y)?{type:!1}:R,e,B));const U=T.animation;U&&m.push(U)}return c&&Promise.all(m).then(()=>{se.update(()=>{c&&E6(e,c)})}),m}function ty(e,t,n={}){const r=sc(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(cx(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:T}=a;return P6(e,t,m,p,y,T,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function P6(e,t,n=0,r=0,a=0,l=1,c){const f=[],m=e.variantChildren.size,p=(m-1)*a,y=typeof r=="function",T=y?_=>r(_,m):l===1?(_=0)=>_*a:(_=0)=>p-_*a;return Array.from(e.variantChildren).sort(N6).forEach((_,R)=>{_.notify("AnimationStart",t),f.push(ty(_,t,{...c,delay:n+(y?0:r)+T(R)}).then(()=>_.notify("AnimationComplete",t)))}),Promise.all(f)}function N6(e,t){return e.sortNodePosition(t)}function O6(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>ty(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=ty(e,t,n);else{const a=typeof t=="function"?sc(e,t,n.custom):t;r=Promise.all(cx(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function hx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const M6=jv.length;function fx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?fx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<M6;n++){const r=jv[n],a=e.props[r];(ic(a)||a===!1)&&(t[r]=a)}return t}const k6=[...Uv].reverse(),L6=Uv.length;function U6(e){return t=>Promise.all(t.map(({animation:n,options:r})=>O6(e,n,r)))}function j6(e){let t=U6(e),n=yA(),r=!0;const a=m=>(p,y)=>{const T=sc(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(T){const{transition:_,transitionEnd:R,...x}=T;p={...p,...x,...R}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=fx(e.parent)||{},T=[],_=new Set;let R={},x=1/0;for(let U=0;U<L6;U++){const L=k6[U],X=n[L],Y=p[L]!==void 0?p[L]:y[L],ot=ic(Y),it=L===m?X.isActive:null;it===!1&&(x=U);let ht=Y===y[L]&&Y!==p[L]&&ot;if(ht&&r&&e.manuallyAnimateOnMount&&(ht=!1),X.protectedKeys={...R},!X.isActive&&it===null||!Y&&!X.prevProp||Cd(Y)||typeof Y=="boolean")continue;const V=B6(X.prevProp,Y);let w=V||L===m&&X.isActive&&!ht&&ot||U>x&&ot,C=!1;const P=Array.isArray(Y)?Y:[Y];let j=P.reduce(a(L),{});it===!1&&(j={});const{prevResolvedValues:F={}}=X,D={...F,...j},Ee=st=>{w=!0,_.has(st)&&(C=!0,_.delete(st)),X.needsAnimating[st]=!0;const dt=e.getValue(st);dt&&(dt.liveStyle=!1)};for(const st in D){const dt=j[st],kt=F[st];if(R.hasOwnProperty(st))continue;let N=!1;Zg(dt)&&Zg(kt)?N=!hx(dt,kt):N=dt!==kt,N?dt!=null?Ee(st):_.add(st):dt!==void 0&&_.has(st)?Ee(st):X.protectedKeys[st]=!0}X.prevProp=Y,X.prevResolvedValues=j,X.isActive&&(R={...R,...j}),r&&e.blockInitialAnimation&&(w=!1),w&&(!(ht&&V)||C)&&T.push(...P.map(st=>({animation:st,options:{type:L}})))}if(_.size){const U={};if(typeof p.initial!="boolean"){const L=sc(e,Array.isArray(p.initial)?p.initial[0]:p.initial);L&&L.transition&&(U.transition=L.transition)}_.forEach(L=>{const X=e.getBaseTarget(L),Y=e.getValue(L);Y&&(Y.liveStyle=!0),U[L]=X??null}),T.push({animation:U})}let B=!!T.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(B=!1),r=!1,B?t(T):Promise.resolve()}function f(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(T=>T.animationState?.setActive(m,p)),n[m].isActive=p;const y=c(m);for(const T in n)n[T].protectedKeys={};return y}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=yA(),r=!0}}}function B6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!hx(t,e):!1}function fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yA(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}class Cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class z6 extends Cs{constructor(t){super(t),t.animationState||(t.animationState=j6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let F6=0;class q6 extends Cs{constructor(){super(...arguments),this.id=F6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const H6={animation:{Feature:z6},exit:{Feature:q6}};function ac(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function wc(e){return{point:{x:e.pageX,y:e.pageY}}}const G6=e=>t=>Lv(t)&&e(t,wc(t));function Bu(e,t,n,r){return ac(e,t,G6(n),r)}function dx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function K6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $6(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const mx=1e-4,Y6=1-mx,Q6=1+mx,px=.01,X6=0-px,W6=0+px;function dn(e){return e.max-e.min}function Z6(e,t,n){return Math.abs(e-t)<=n}function vA(e,t,n,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Y6&&e.scale<=Q6||isNaN(e.scale))&&(e.scale=1),(e.translate>=X6&&e.translate<=W6||isNaN(e.translate))&&(e.translate=0)}function zu(e,t,n,r){vA(e.x,t.x,n.x,r?r.originX:void 0),vA(e.y,t.y,n.y,r?r.originY:void 0)}function _A(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function J6(e,t,n){_A(e.x,t.x,n.x),_A(e.y,t.y,n.y)}function TA(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function Fu(e,t,n){TA(e.x,t.x,n.x),TA(e.y,t.y,n.y)}const EA=()=>({translate:0,scale:1,origin:0,originPoint:0}),ko=()=>({x:EA(),y:EA()}),bA=()=>({min:0,max:0}),ve=()=>({x:bA(),y:bA()});function Hn(e){return[e("x"),e("y")]}function eg(e){return e===void 0||e===1}function ey({scale:e,scaleX:t,scaleY:n}){return!eg(e)||!eg(t)||!eg(n)}function ma(e){return ey(e)||gx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gx(e){return AA(e.x)||AA(e.y)}function AA(e){return e&&e!=="0%"}function Wf(e,t,n){const r=e-n,a=t*r;return n+a}function SA(e,t,n,r,a){return a!==void 0&&(e=Wf(e,a,r)),Wf(e,n,r)+t}function ny(e,t=0,n=1,r,a){e.min=SA(e.min,t,n,r,a),e.max=SA(e.max,t,n,r,a)}function yx(e,{x:t,y:n}){ny(e.x,t.translate,t.scale,t.originPoint),ny(e.y,n.translate,n.scale,n.originPoint)}const wA=.999999999999,RA=1.0000000000001;function tU(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Uo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,yx(e,c)),r&&ma(l.latestValues)&&Uo(e,l.latestValues))}t.x<RA&&t.x>wA&&(t.x=1),t.y<RA&&t.y>wA&&(t.y=1)}function Lo(e,t){e.min=e.min+t,e.max=e.max+t}function xA(e,t,n,r,a=.5){const l=ue(e.min,e.max,a);ny(e,t,n,l,r)}function Uo(e,t){xA(e.x,t.x,t.scaleX,t.scale,t.originX),xA(e.y,t.y,t.scaleY,t.scale,t.originY)}function vx(e,t){return dx($6(e.getBoundingClientRect(),t))}function eU(e,t,n){const r=vx(e,n),{scroll:a}=t;return a&&(Lo(r.x,a.offset.x),Lo(r.y,a.offset.y)),r}const _x=({current:e})=>e?e.ownerDocument.defaultView:null,CA=(e,t)=>Math.abs(e-t);function nU(e,t){const n=CA(e.x,t.x),r=CA(e.y,t.y);return Math.sqrt(n**2+r**2)}class Tx{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ig(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,x=nU(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!x)return;const{point:B}=_,{timestamp:U}=Ye;this.history.push({...B,timestamp:U});const{onStart:L,onMove:X}=this.handlers;R||(L&&L(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),X&&X(this.lastMoveEvent,_)},this.handlePointerMove=(_,R)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ng(R,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(_,R)=>{this.end();const{onEnd:x,onSessionEnd:B,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=ig(_.type==="pointercancel"?this.lastMoveEventInfo:ng(R,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,L),B&&B(_,L)},!Lv(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=a||window;const f=wc(t),m=ng(f,this.transformPagePoint),{point:p}=m,{timestamp:y}=Ye;this.history=[{...p,timestamp:y}];const{onSessionStart:T}=n;T&&T(t,ig(m,this.history)),this.removeListeners=bc(Bu(this.contextWindow,"pointermove",this.handlePointerMove),Bu(this.contextWindow,"pointerup",this.handlePointerUp),Bu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),As(this.updatePoint)}}function ng(e,t){return t?{point:t(e.point)}:e}function IA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ig({point:e},t){return{point:e,delta:IA(e,Ex(t)),offset:IA(e,iU(t)),velocity:rU(t,.1)}}function iU(e){return e[0]}function Ex(e){return e[e.length-1]}function rU(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Ex(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Oi(t)));)n--;if(!r)return{x:0,y:0};const l=Mi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sU(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ue(n,e,r.max):Math.min(e,n)),e}function DA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function aU(e,{top:t,left:n,bottom:r,right:a}){return{x:DA(e.x,n,a),y:DA(e.y,t,r)}}function VA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function oU(e,t){return{x:VA(e.x,t.x),y:VA(e.y,t.y)}}function lU(e,t){let n=.5;const r=dn(e),a=dn(t);return a>r?n=tc(t.min,t.max-r,e.min):r>a&&(n=tc(e.min,e.max-a,t.min)),Ar(0,1,n)}function uU(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const iy=.35;function cU(e=iy){return e===!1?e=0:e===!0&&(e=iy),{x:PA(e,"left","right"),y:PA(e,"top","bottom")}}function PA(e,t,n){return{min:NA(e,t),max:NA(e,n)}}function NA(e,t){return typeof e=="number"?e:e[t]||0}const hU=new WeakMap;class fU{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=T=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(T).point)},c=(T,_)=>{const{drag:R,dragPropagation:x,onDragStart:B}=this.getProps();if(R&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I3(R),!this.openDragLock))return;this.latestPointerEvent=T,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(L=>{let X=this.getAxisMotionValue(L).get()||0;if(ki.test(X)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const ot=Y.layout.layoutBox[L];ot&&(X=dn(ot)*(parseFloat(X)/100))}}this.originPoint[L]=X}),B&&se.postRender(()=>B(T,_)),Jg(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},f=(T,_)=>{this.latestPointerEvent=T,this.latestPanInfo=_;const{dragPropagation:R,dragDirectionLock:x,onDirectionLock:B,onDrag:U}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:L}=_;if(x&&this.currentDirection===null){this.currentDirection=dU(L),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",_.point,L),this.updateAxis("y",_.point,L),this.visualElement.render(),U&&U(T,_)},m=(T,_)=>{this.latestPointerEvent=T,this.latestPanInfo=_,this.stop(T,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Hn(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Tx(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:_x(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&se.postRender(()=>f(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!of(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=sU(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=aU(r.layoutBox,t):this.constraints=!1,this.elastic=cU(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Hn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=uU(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=eU(r,a.root,this.visualElement.getTransformPagePoint());let c=oU(a.layout.layoutBox,l);if(n){const f=n(K6(c));this.hasMutatedConstraints=!!f,f&&(c=dx(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Hn(y=>{if(!of(y,n,this.currentDirection))return;let T=m&&m[y]||{};c&&(T={min:0,max:0});const _=a?200:1e6,R=a?40:1e7,x={type:"inertia",velocity:r?t[y]:0,bounceStiffness:_,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...T};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Jg(this.visualElement,t),r.start(Kv(t,r,0,n,this.visualElement,!1))}stopAnimation(){Hn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hn(n=>{const{drag:r}=this.getProps();if(!of(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-ue(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=lU({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(c=>{if(!of(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(ue(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;hU.set(this.visualElement,this);const t=this.visualElement.current,n=Bu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Mo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),se.read(r);const c=ac(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Hn(y=>{const T=this.getAxisMotionValue(y);T&&(this.originPoint[y]+=m[y].translate,T.set(T.get()+m[y].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=iy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function of(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function dU(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class mU extends Cs{constructor(t){super(t),this.removeGroupControls=$n,this.removeListeners=$n,this.controls=new fU(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$n}unmount(){this.removeGroupControls(),this.removeListeners()}}const OA=e=>(t,n)=>{e&&se.postRender(()=>e(t,n))};class pU extends Cs{constructor(){super(...arguments),this.removePointerDownListener=$n}onPointerDown(t){this.session=new Tx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_x(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:OA(t),onStart:OA(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&se.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Bu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(bt.test(e))e=parseFloat(e);else return e;const n=MA(e,t.target.x),r=MA(e,t.target.y);return`${n}% ${r}%`}},gU={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ss.parse(e);if(a.length>5)return r;const l=Ss.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=ue(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let kA=!1;class yU extends O.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;e6(vU),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),kA&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,kA=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||se.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function bx(e){const[t,n]=U3(),r=O.useContext(rR);return M.jsx(yU,{...e,layoutGroup:r,switchLayoutGroup:O.useContext(tx),isPresent:t,safeToRemove:n})}const vU={borderRadius:{...wu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wu,borderTopRightRadius:wu,borderBottomLeftRadius:wu,borderBottomRightRadius:wu,boxShadow:gU};function _U(e,t,n){const r=sn(e)?e:Wo(e);return r.start(Kv("",r,t,n)),r.animation}const TU=(e,t)=>e.depth-t.depth;class EU{constructor(){this.children=[],this.isDirty=!1}add(t){yv(this.children,t),this.isDirty=!0}remove(t){vv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TU),this.isDirty=!1,this.children.forEach(t)}}function bU(e,t){const n=_n.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(As(r),e(l-t))};return se.setup(r,!0),()=>As(r)}const Ax=["TopLeft","TopRight","BottomLeft","BottomRight"],AU=Ax.length,LA=e=>typeof e=="string"?parseFloat(e):e,UA=e=>typeof e=="number"||bt.test(e);function SU(e,t,n,r,a,l){a?(e.opacity=ue(0,n.opacity??1,wU(r)),e.opacityExit=ue(t.opacity??1,0,RU(r))):l&&(e.opacity=ue(t.opacity??1,n.opacity??1,r));for(let c=0;c<AU;c++){const f=`border${Ax[c]}Radius`;let m=jA(t,f),p=jA(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||UA(m)===UA(p)?(e[f]=Math.max(ue(LA(m),LA(p),r),0),(ki.test(p)||ki.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,r))}function jA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const wU=Sx(0,.5,pR),RU=Sx(.5,.95,$n);function Sx(e,t,n){return r=>r<e?0:r>t?1:n(tc(e,t,r))}function BA(e,t){e.min=t.min,e.max=t.max}function qn(e,t){BA(e.x,t.x),BA(e.y,t.y)}function zA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function FA(e,t,n,r,a){return e-=t,e=Wf(e,1/n,r),a!==void 0&&(e=Wf(e,1/a,r)),e}function xU(e,t=0,n=1,r=.5,a,l=e,c=e){if(ki.test(t)&&(t=parseFloat(t),t=ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=ue(l.min,l.max,r);e===l&&(f-=t),e.min=FA(e.min,t,n,f,a),e.max=FA(e.max,t,n,f,a)}function qA(e,t,[n,r,a],l,c){xU(e,t[n],t[r],t[a],t.scale,l,c)}const CU=["x","scaleX","originX"],IU=["y","scaleY","originY"];function HA(e,t,n,r){qA(e.x,t,CU,n?n.x:void 0,r?r.x:void 0),qA(e.y,t,IU,n?n.y:void 0,r?r.y:void 0)}function GA(e){return e.translate===0&&e.scale===1}function wx(e){return GA(e.x)&&GA(e.y)}function KA(e,t){return e.min===t.min&&e.max===t.max}function DU(e,t){return KA(e.x,t.x)&&KA(e.y,t.y)}function $A(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Rx(e,t){return $A(e.x,t.x)&&$A(e.y,t.y)}function YA(e){return dn(e.x)/dn(e.y)}function QA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class VU{constructor(){this.members=[]}add(t){yv(this.members,t),t.scheduleRender()}remove(t){if(vv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function PU(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:T,rotateY:_,skewX:R,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),T&&(r+=`rotateX(${T}deg) `),_&&(r+=`rotateY(${_}deg) `),R&&(r+=`skewX(${R}deg) `),x&&(r+=`skewY(${x}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const rg=["","X","Y","Z"],NU=1e3;let OU=0;function sg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function xx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ux(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",se,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&xx(r)}function Cx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t?.()){this.id=OU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(LU),this.nodes.forEach(zU),this.nodes.forEach(FU),this.nodes.forEach(UU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new EU)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ev),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YR(c)&&!M3(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),e){let y,T=0;const _=()=>this.root.updateBlockedByResize=!1;se.read(()=>{T=window.innerWidth}),e(c,()=>{const R=window.innerWidth;R!==T&&(T=R,this.root.updateBlockedByResize=!0,y&&y(),y=bU(_,250),wf.hasAnimatedSinceResize&&(wf.hasAnimatedSinceResize=!1,this.nodes.forEach(ZA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:T,hasRelativeLayoutChanged:_,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||p.getDefaultTransition()||$U,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=p.getProps(),L=!this.targetLayout||!Rx(this.targetLayout,R),X=!T&&_;if(this.options.layoutRoot||this.resumeFrom||X||T&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Ov(x,"layout"),onPlay:B,onComplete:U};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,X)}else T||ZA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),As(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const T=this.path[y];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(BU),this.nodes.forEach(MU),this.nodes.forEach(kU)):this.nodes.forEach(WA),this.clearAllSnapshots();const f=_n.now();Ye.delta=Ar(0,1e3/60,f-Ye.timestamp),Ye.timestamp=f,Ye.isProcessing=!0,Qp.update.process(Ye),Qp.preRender.process(Ye),Qp.render.process(Ye),Ye.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jU),this.sharedNodes.forEach(HU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dn(this.snapshot.measuredBox.x)&&!dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!wx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&this.instance&&(f||ma(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),YU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ve();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(QU))){const{scroll:p}=this.root;p&&(Lo(f.x,p.offset.x),Lo(f.y,p.offset.y))}return f}removeElementScroll(c){const f=ve();if(qn(f,c),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:T}=p;p!==this.root&&y&&T.layoutScroll&&(y.wasRoot&&qn(f,c),Lo(f.x,y.offset.x),Lo(f.y,y.offset.y))}return f}applyTransform(c,f=!1){const m=ve();qn(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Uo(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ma(y.latestValues)&&Uo(m,y.latestValues)}return ma(this.latestValues)&&Uo(m,this.latestValues),m}removeTransform(c){const f=ve();qn(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ma(p.latestValues))continue;ey(p.latestValues)&&p.updateSnapshot();const y=ve(),T=p.measurePageBox();qn(y,T),HA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ma(this.latestValues)&&HA(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ye.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:T}=this.options;if(!(!this.layout||!(y||T))){if(this.resolvedRelativeTargetAt=Ye.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Fu(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),J6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),yx(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Fu(this.relativeTargetOrigin,this.target,_.target),qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ey(this.parent.latestValues)||gx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ye.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;qn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,_=this.treeScale.y;tU(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ve());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zA(this.prevProjectionDelta.x,this.projectionDelta.x),zA(this.prevProjectionDelta.y,this.projectionDelta.y)),zu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==_||!QA(this.projectionDelta.x,this.prevProjectionDelta.x)||!QA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ko(),this.projectionDelta=ko(),this.projectionDeltaWithTransform=ko()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},T=ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const _=ve(),R=m?m.source:void 0,x=this.layout?this.layout.source:void 0,B=R!==x,U=this.getStack(),L=!U||U.members.length<=1,X=!!(B&&!L&&this.options.crossfade===!0&&!this.path.some(KU));this.animationProgress=0;let Y;this.mixTargetDelta=ot=>{const it=ot/1e3;JA(T.x,c.x,it),JA(T.y,c.y,it),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fu(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),GU(this.relativeTarget,this.relativeTargetOrigin,_,it),Y&&DU(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=ve()),qn(Y,this.relativeTarget)),B&&(this.animationValues=y,SU(y,p,this.latestValues,it,X,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=it},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(As(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{wf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wo(0)),this.currentAnimation=_U(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(NU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&Ix(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ve();const T=dn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+T;const _=dn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+_}qn(f,m),Uo(f,y),zu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new VU),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&sg("z",c,p,this.animationValues);for(let y=0;y<rg.length;y++)sg(`rotate${rg[y]}`,c,p,this.animationValues),sg(`skew${rg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Sf(f?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Sf(f?.pointerEvents)||""),this.hasProjected&&!ma(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let T=PU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(T=m(y,T)),c.transform=T;const{x:_,y:R}=this.projectionDelta;c.transformOrigin=`${_.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in rc){if(y[x]===void 0)continue;const{correct:B,applyTo:U,isCSSVariable:L}=rc[x],X=T==="none"?y[x]:B(y[x],p);if(U){const Y=U.length;for(let ot=0;ot<Y;ot++)c[U[ot]]=X}else L?this.options.visualElement.renderState.vars[x]=X:c[x]=X}this.options.layoutId&&(c.pointerEvents=p===this?Sf(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(XA),this.root.sharedNodes.clear()}}}function MU(e){e.updateLayout()}function kU(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?Hn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],_=dn(T);T.min=n[y].min,T.max=T.min+_}):Ix(a,t.layoutBox,n)&&Hn(y=>{const T=l?t.measuredBox[y]:t.layoutBox[y],_=dn(n[y]);T.max=T.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+_)});const c=ko();zu(c,n,t.layoutBox);const f=ko();l?zu(f,e.applyTransform(r,!0),t.measuredBox):zu(f,n,t.layoutBox);const m=!wx(c);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:T,layout:_}=y;if(T&&_){const R=ve();Fu(R,t.layoutBox,T.layoutBox);const x=ve();Fu(x,n,_.layoutBox),Rx(R,x)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=R,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function LU(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UU(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function jU(e){e.clearSnapshot()}function XA(e){e.clearMeasurements()}function WA(e){e.isLayoutDirty=!1}function BU(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ZA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function zU(e){e.resolveTargetDelta()}function FU(e){e.calcProjection()}function qU(e){e.resetSkewAndRotation()}function HU(e){e.removeLeadSnapshot()}function JA(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function tS(e,t,n,r){e.min=ue(t.min,n.min,r),e.max=ue(t.max,n.max,r)}function GU(e,t,n,r){tS(e.x,t.x,n.x,r),tS(e.y,t.y,n.y,r)}function KU(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $U={duration:.45,ease:[.4,0,.1,1]},eS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),nS=eS("applewebkit/")&&!eS("chrome/")?Math.round:$n;function iS(e){e.min=nS(e.min),e.max=nS(e.max)}function YU(e){iS(e.x),iS(e.y)}function Ix(e,t,n){return e==="position"||e==="preserve-aspect"&&!Z6(YA(t),YA(n),.2)}function QU(e){return e!==e.root&&e.scroll?.wasRoot}const XU=Cx({attachResizeListener:(e,t)=>ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ag={current:void 0},Dx=Cx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ag.current){const e=new XU({});e.mount(window),e.setOptions({layoutScroll:!0}),ag.current=e}return ag.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),WU={pan:{Feature:pU},drag:{Feature:mU,ProjectionNode:Dx,MeasureLayout:bx}};function rS(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&se.postRender(()=>l(t,wc(t)))}class ZU extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=D3(t,(n,r)=>(rS(this.node,r,"Start"),a=>rS(this.node,a,"End"))))}unmount(){}}class JU extends Cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bc(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sS(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&se.postRender(()=>l(t,wc(t)))}class t9 extends Cs{mount(){const{current:t}=this.node;t&&(this.unmount=O3(t,(n,r)=>(sS(this.node,r,"Start"),(a,{success:l})=>sS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ry=new WeakMap,og=new WeakMap,e9=e=>{const t=ry.get(e.target);t&&t(e)},n9=e=>{e.forEach(e9)};function i9({root:e,...t}){const n=e||document;og.has(n)||og.set(n,{});const r=og.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(n9,{root:e,...t})),r[a]}function r9(e,t,n){const r=i9(t);return ry.set(e,n),r.observe(e),()=>{ry.delete(e),r.unobserve(e)}}const s9={some:0,all:1};class a9 extends Cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:s9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:T}=this.node.getProps(),_=p?y:T;_&&_(m)};return r9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(o9(t,n))&&this.startObserver()}unmount(){}}function o9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const l9={inView:{Feature:a9},tap:{Feature:t9},focus:{Feature:JU},hover:{Feature:ZU}},u9={layout:{ProjectionNode:Dx,MeasureLayout:bx}},sy={current:null},Vx={current:!1};function c9(){if(Vx.current=!0,!!pv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sy.current=e.matches;e.addEventListener("change",t),t()}else sy.current=!1}const h9=new WeakMap;function f9(e,t,n){for(const r in t){const a=t[r],l=n[r];if(sn(a))e.addValue(r,a);else if(sn(l))e.addValue(r,Wo(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,Wo(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const aS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class d9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=_n.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,se.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Id(n),this.isVariantNode=ZR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in T){const R=T[_];m[_]!==void 0&&sn(R)&&R.set(m[_],!1)}}mount(t){this.current=t,h9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Vx.current||c9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),As(this.notifyUpdate),As(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=fl.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&se.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zo){const n=Zo[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aS.length;r++){const a=aS[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=f9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wo(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(sR(r)||oR(r))?r=parseFloat(r):!L3(r)&&Ss.test(n)&&(r=qR(t,n)),this.setBaseTarget(t,sn(r)?r.get():r)),sn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Hv(this.props,n,this.presenceContext?.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!sn(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Ev),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Px extends d9{constructor(){super(...arguments),this.KeyframeResolver=w3}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;sn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Nx(e,{style:t,vars:n},r,a){const l=e.style;let c;for(c in t)l[c]=t[c];a?.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function m9(e){return window.getComputedStyle(e)}class p9 extends Px{constructor(){super(...arguments),this.type="html",this.renderInstance=Nx}readValueFromInstance(t,n){if(fl.has(n))return this.projection?.isProjecting?Kg(n):HL(t,n);{const r=m9(t),a=(Sv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return vx(t,n)}build(t,n,r){zv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Gv(t,n,r)}}const Ox=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function g9(e,t,n,r){Nx(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(Ox.has(a)?a:Bv(a),t.attrs[a])}class y9 extends Px{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(fl.has(n)){const r=FR(n);return r&&r.default||0}return n=Ox.has(n)?n:Bv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return lx(t,n,r)}build(t,n,r){rx(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){g9(t,n,r,a)}mount(t){this.isSVGTag=ax(t.tagName),super.mount(t)}}const v9=(e,t)=>qv(e)?new y9(t):new p9(t,{allowProjection:e!==O.Fragment}),_9=v6({...H6,...l9,...WU,...u9},v9),Mx=q3(_9),T9=({link:e,username:t,showDelete:n=!1,onDelete:r})=>{const{isPro:a}=Sd(),l=async()=>{try{const c=bs(si,"users",t),f=await Ed(c);if(!f.exists())return;const m=f.data().uid;await mv(bs(si,"links",m,"items",e.id),{clicks:Q1(1)}),window.open(e.url,"_blank")}catch(c){console.error("Error tracking click:",c)}};return M.jsxs(Mx.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex justify-between items-center bg-white p-4 mb-3 rounded-xl shadow hover:shadow-md hover:bg-blue-50 transition-all cursor-pointer",children:[M.jsxs("div",{onClick:l,className:"flex-1",children:[M.jsx("p",{className:"font-semibold text-gray-800",children:e.title}),M.jsx("p",{className:"text-blue-500 text-sm truncate",children:e.url}),a&&M.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["🔥 Clicks: ",e.clicks||0]})]}),n&&M.jsx("button",{onClick:r,className:"text-red-500 hover:text-red-700 ml-4",title:"Delete link",children:"❌"})]})},E9=()=>{const{username:e}=$I(),[t,n]=O.useState([]),[r,a]=O.useState(null),[l,c]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const m=bs(si,"users",e),p=await Ed(m);if(!p.exists()){a(null),c(!1);return}const y=p.data();a(y);const T=lv(Hf(si,"links",y.uid,"items"),fv("createdAt","desc")),R=(await dv(T)).docs.map(x=>({id:x.id,...x.data()}));n(R)}catch(m){console.error("Error loading public page:",m)}finally{c(!1)}})()},[e]),l?M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("p",{className:"text-gray-500",children:"Loading..."})}):r?M.jsxs("div",{className:"min-h-screen flex flex-col items-center p-6 bg-gray-50",children:[M.jsx("img",{src:r.photoURL,alt:r.name,className:"w-24 h-24 rounded-full mb-4 border-4 border-indigo-300"}),M.jsx("h2",{className:"text-2xl font-bold mb-1",children:r.name}),M.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-md",children:r.bio||"Welcome to my link page!"}),M.jsx("div",{className:"w-full max-w-md",children:t.length>0?t.map(f=>M.jsx(T9,{link:f,username:e},f.id)):M.jsx("p",{className:"text-gray-400 text-center",children:"No links added yet!"})})]}):M.jsx("div",{className:"min-h-screen flex items-center justify-center",children:M.jsx("p",{className:"text-red-500",children:"⚠️ User not found"})})},b9=()=>{const e=Rr(),[t]=Ad(Tc),[n,r]=O.useState("⏳ Verifying your payment...");return O.useEffect(()=>{(async()=>{const c=new URLSearchParams(window.location.search).get("payment_id");if(c&&t)try{const f=W1(t.displayName),m=bs(si,"users",f),p=await Ed(m);p.exists()?p.data().isProUser?r("✅ You’re already a Pro user!"):(await mv(m,{isProUser:!0,paymentId:c,proActivatedAt:new Date().toISOString()}),localStorage.setItem("isPro","true"),r("🎉 Payment Successful! Welcome to Pro Plan 🚀")):r("⚠️ User data not found in database.")}catch(f){console.error("Failed to mark user as Pro:",f),r("❌ Something went wrong while upgrading.")}else r("⚠️ Missing payment ID or user not logged in.");setTimeout(()=>{e("/dashboard")},2500)})()},[e,t]),M.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:[M.jsx("h1",{className:"text-2xl font-semibold text-green-600 mb-3",children:"✅ Payment Status"}),M.jsx("p",{className:"text-lg text-gray-700 text-center",children:n}),M.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Redirecting to your dashboard..."})]})},A9=()=>M.jsxs("div",{className:"text-center mt-20",children:[M.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"🔒 Pro Feature Locked"}),M.jsx("p",{className:"mt-2",children:"Upgrade to unlock themes, analytics, and more"}),M.jsx("div",{className:"mt-4",children:M.jsx(Rd,{})})]}),S9=()=>{const[e]=Ad(Tc),{isPro:t}=Sd(),[n,r]=O.useState([]),[a,l]=O.useState(!0);return t?(O.useEffect(()=>{(async()=>{if(!e)return;const f=lv(Hf(si,"links",e.uid,"items"),fv("createdAt","desc")),p=(await dv(f)).docs.map(y=>({id:y.id,...y.data()}));r(p),l(!1)})()},[e]),a?M.jsx("p",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):M.jsxs("div",{className:"p-6 max-w-3xl mx-auto",children:[M.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📊 Link Click Analytics"}),n.length===0?M.jsx("p",{className:"text-gray-500",children:"No links to show"}):M.jsx("div",{className:"space-y-4",children:n.map((c,f)=>M.jsxs(Mx.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.05},className:"p-4 bg-white shadow rounded flex justify-between items-center hover:shadow-md transition",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-semibold text-gray-800",children:c.title}),M.jsx("p",{className:"text-sm text-gray-500",children:c.url})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("p",{className:"text-blue-600 font-bold text-lg",children:c.clicks||0}),M.jsx("p",{className:"text-xs text-gray-400",children:"clicks"})]})]},c.id))})]})):M.jsx(fy,{to:"/pro",replace:!0})},w9=()=>{const e=Rr();return M.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center bg-gray-50 px-4 text-center",children:[M.jsx("h2",{className:"text-3xl font-bold mb-3 text-red-600",children:"🔒 Pro Feature"}),M.jsxs("p",{className:"text-gray-700 text-lg mb-6 max-w-md",children:["This feature is available only for ",M.jsx("strong",{children:"Pro users"}),". Upgrade now to access analytics, themes, and more powerful tools!"]}),M.jsx(Rd,{}),M.jsx("button",{onClick:()=>e("/dashboard"),className:"mt-4 text-blue-600 underline text-sm hover:text-blue-800 transition",children:"← Back to Dashboard"})]})},R9="/assets/Hero-p-mvTMQB.png",x9=()=>{const e=Rr(),t=()=>{console.log("1"),e("/dashboard")};return M.jsx(M.Fragment,{children:M.jsxs("main",{className:"bg-white text-gray-900",children:[M.jsx("section",{className:"py-20 px-6 md:px-20 bg-gradient-to-br from-purple-100 via-white to-indigo-100",children:M.jsxs("div",{className:"grid md:grid-cols-2 items-center gap-12",children:[M.jsxs("div",{className:"space-y-6 text-center md:text-left",children:[M.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight text-gray-900",children:["Your Entire Digital Life",M.jsx("br",{}),M.jsx("span",{className:"text-purple-600",children:"One Link"})," Away"]}),M.jsx("p",{className:"text-lg text-gray-700",children:"Share your bio link, social links, YouTube, and more in one beautiful, customizable landing page."}),M.jsx("button",{className:"bg-purple-600 text-white px-8 py-3 rounded-full font-semibold text-lg hover:bg-purple-700 transition",onClick:t,children:"Get Started Free"}),M.jsx("p",{className:"text-sm text-gray-500",children:"No credit card needed 💳"})]}),M.jsx("div",{className:"flex justify-center",children:M.jsx("img",{src:R9,alt:"Hero",className:"max-w-[400px] w-full drop-shadow-xl rounded-xl"})})]})}),M.jsxs("section",{className:"bg-white py-8 px-6 md:px-20 text-center border-y",children:[M.jsx("p",{className:"text-gray-600 mb-4",children:"Trusted by creators at"}),M.jsxs("div",{className:"flex justify-center flex-wrap gap-6 text-gray-500 font-semibold text-sm",children:[M.jsx("span",{children:"Google"}),M.jsx("span",{children:"YouTube"}),M.jsx("span",{children:"Instagram"}),M.jsx("span",{children:"LinkedIn"}),M.jsx("span",{children:"X (Twitter)"})]})]}),M.jsxs("section",{className:"py-20 px-6 md:px-20 bg-gray-50",children:[M.jsxs("h2",{className:"text-4xl font-bold text-center mb-12",children:["Why Choose ",M.jsx("span",{className:"text-purple-600",children:"ApniLink?"})]}),M.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[M.jsx(lg,{title:"All Links, One Page",desc:"Share all your content, from YouTube to Instagram to blogs, in a single bio link.",emoji:"🔗"}),M.jsx(lg,{title:"Track Your Audience",desc:"See who's clicking, from where, and when — all in real-time.",emoji:"📊"}),M.jsx(lg,{title:"Your Brand, Your Style",desc:"Customize your page with themes, colors, profile image, and custom domain.",emoji:"🎨"})]})]}),M.jsxs("section",{className:"py-20 px-6 md:px-20 bg-white",children:[M.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Simple & Transparent Pricing"}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-10 max-w-4xl mx-auto",children:[M.jsx(oS,{plan:"Free",price:"₹0",features:["1 Bio Link Page","Basic Themes","Social Icons","Profile Image"],highlight:!1}),M.jsx(oS,{plan:"Pro",price:"₹89/mo",features:["All Free Features","Click Analytics","Remove Branding","Custom Domains","Priority Support"],highlight:!0})]})]}),M.jsxs("footer",{className:"py-6 text-center text-sm text-gray-500 border-t",children:["© ",new Date().getFullYear()," ApniLink — Built with 💜 for creators."]})]})})},lg=({title:e,desc:t,emoji:n})=>M.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-md hover:shadow-xl transition-all duration-300 text-center",children:[M.jsx("div",{className:"text-5xl mb-4",children:n}),M.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e}),M.jsx("p",{className:"text-gray-600",children:t})]}),oS=({plan:e,price:t,features:n,highlight:r})=>M.jsxs("div",{className:`rounded-2xl border p-8 shadow-lg transition-all duration-300 ${r?"border-purple-600 bg-purple-50":"border-gray-200"}`,children:[M.jsx("h3",{className:"text-2xl font-bold mb-2 text-gray-800",children:e}),M.jsx("p",{className:"text-3xl font-semibold mb-6 text-gray-900",children:t}),M.jsx("ul",{className:"text-gray-700 space-y-2 mb-8",children:n.map((a,l)=>M.jsxs("li",{className:"flex items-start gap-2",children:["✅ ",M.jsx("span",{children:a})]},l))}),e==="Free"?M.jsx("button",{className:"w-full py-3 rounded-full font-semibold transition bg-gray-200 text-gray-800 hover:bg-gray-300",children:"Get Started"}):M.jsx(Rd,{})]}),ug=({children:e,proOnly:t=!1})=>{const[n,r]=Ad(Tc);return r?M.jsx("p",{className:"text-center mt-10 text-gray-500",children:"Loading..."}):n?t&&!(localStorage.getItem("isPro")==="true")?M.jsx("div",{className:"min-h-screen flex items-center justify-center text-center p-4",children:M.jsxs("div",{children:[M.jsx("h2",{className:"text-xl font-bold mb-2 text-red-600",children:"Pro Access Required"}),M.jsx("p",{className:"mb-4 text-gray-600",children:"This page is only for Pro users."}),M.jsx("a",{href:"/pro",className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Upgrade to Pro"})]})}):e:M.jsx(fy,{to:"/",replace:!0})},C9=({text:e="PRO",bgColor:t="bg-yellow-400",textColor:n="text-black",className:r=""})=>M.jsx(M.Fragment,{children:M.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full font-semibold ${t} ${n} ${r}`,children:e})});/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D9=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),lS=e=>{const t=D9(e);return t.charAt(0).toUpperCase()+t.slice(1)},kx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),V9=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},m)=>O.createElement("svg",{ref:m,...P9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kx("lucide",a),...!l&&!V9(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=(e,t)=>{const n=O.forwardRef(({className:r,...a},l)=>O.createElement(N9,{ref:l,iconNode:t,className:kx(`lucide-${I9(lS(e))}`,`lucide-${e}`,r),...a}));return n.displayName=lS(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k9=O9("log-out",M9),L9="/assets/ApniLink_Logo-CgdPc2GO.png",U9=()=>{const{user:e,isPro:t}=Sd(),n=wr(),r=()=>{localStorage.removeItem("isPro"),window.location.href="/login"};return M.jsx("header",{className:"bg-white shadow-md sticky top-0 z-50",children:M.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[M.jsx(pa,{to:"/",className:"flex items-center gap-2",children:M.jsx("img",{src:L9,alt:"logo",className:"w-16 h-16"})}),M.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-gray-700",children:[M.jsx(pa,{to:"/",className:j9(n.pathname==="/"),children:"Home"}),M.jsx(pa,{to:"/dashboard",children:"My Links"}),M.jsx(pa,{to:"/analytics",children:"Analytics"}),!t&&M.jsx(pa,{to:"/upgrade",className:"text-purple-600 font-semibold hover:underline",children:"Upgrade to Pro 💎"})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("span",{className:"hidden sm:block font-medium text-gray-800",children:e?.name||"Welcome"}),t&&M.jsx(C9,{}),M.jsx("button",{onClick:r,title:"Logout",className:"text-red-500 hover:text-red-700",children:M.jsx(k9,{className:"w-5 h-5"})})]})]})})},j9=e=>e?"text-blue-600 border-b-2 border-blue-600 pb-1":"hover:text-blue-600 transition",B9=()=>M.jsxs("footer",{className:"bg-gray-900 text-gray-400 text-sm py-6 px-4 text-center mt-10",children:[M.jsxs("p",{children:["© ",new Date().getFullYear()," ApniLink. All rights reserved."]}),M.jsxs("p",{className:"mt-1",children:["Built with 💙 by Sahil Rohilla | ",M.jsx("a",{href:"#",className:"underline",children:"Privacy"})," | ",M.jsx("a",{href:"#",className:"underline",children:"Contact"})]})]}),lf=({children:e})=>M.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[M.jsx(U9,{}),M.jsx("main",{className:"flex-grow px-4 md:px-20 py-10",children:e}),M.jsx(B9,{})]}),z9=()=>M.jsx(Gk,{children:M.jsx(PD,{children:M.jsxs(lD,{children:[M.jsx(ti,{path:"/login",element:M.jsx(Bk,{})}),M.jsx(ti,{path:"/",element:M.jsx(lf,{children:M.jsx(x9,{})})}),M.jsx(ti,{path:"/success",element:M.jsx(b9,{})}),M.jsx(ti,{path:"/upgrade",element:M.jsx(A9,{})}),M.jsx(ti,{path:"/:username",element:M.jsx(E9,{})}),M.jsx(ti,{path:"/pro-only",element:M.jsx(w9,{})}),M.jsx(ti,{path:"/dashboard",element:M.jsx(ug,{children:M.jsx(lf,{children:M.jsx(U4,{})})})}),M.jsx(ti,{path:"/pro",element:M.jsx(ug,{children:M.jsx(lf,{children:M.jsx(j4,{})})})}),M.jsx(ti,{path:"/analytics",element:M.jsx(ug,{proOnly:!0,children:M.jsx(lf,{children:M.jsx(S9,{})})})}),M.jsx(ti,{path:"/home",element:M.jsx(fy,{to:"/dashboard"})})]})})});gI.createRoot(document.getElementById("root")).render(M.jsx(O.StrictMode,{children:M.jsx(z9,{})}));
